import { createRequire } from 'module'; const require = createRequire(import.meta.url);
var L3=Object.create;var uc=Object.defineProperty;var M3=Object.getOwnPropertyDescriptor;var U3=Object.getOwnPropertyNames;var D3=Object.getPrototypeOf,k3=Object.prototype.hasOwnProperty;var B=(o=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(o,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):o)(function(o){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+o+'" is not supported')});var y=(o,r)=>()=>(o&&(r=o(o=0)),r);var E=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports),Ue=(o,r)=>{for(var n in r)uc(o,n,{get:r[n],enumerable:!0})},dg=(o,r,n,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of U3(r))!k3.call(o,s)&&s!==n&&uc(o,s,{get:()=>r[s],enumerable:!(a=M3(r,s))||a.enumerable});return o};var An=(o,r,n)=>(n=o!=null?L3(D3(o)):{},dg(r||!o||!o.__esModule?uc(n,"default",{value:o,enumerable:!0}):n,o)),ie=o=>dg(uc({},"__esModule",{value:!0}),o);var hg,mg=y(()=>{hg=typeof globalThis=="object"?globalThis:global});var yg=y(()=>{mg()});var Sg=y(()=>{yg()});var rn,sh=y(()=>{rn="1.8.0"});function V3(o){var r=new Set([o]),n=new Set,a=o.match(vg);if(!a)return function(){return!1};var s={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(s.prerelease!=null)return function(i){return i===o};function l(e){return n.add(e),!1}function t(e){return r.add(e),!0}return function(i){if(r.has(i))return!0;if(n.has(i))return!1;var c=i.match(vg);if(!c)return l(i);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||s.major!==u.major?l(i):s.major===0?s.minor===u.minor&&s.patch<=u.patch?t(i):l(i):s.minor<=u.minor?t(i):l(i)}}var vg,_g,Eg=y(()=>{sh();vg=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;_g=V3(rn)});function Rr(o,r,n,a){var s;a===void 0&&(a=!1);var l=Ws[Ks]=(s=Ws[Ks])!==null&&s!==void 0?s:{version:rn};if(!a&&l[o]){var t=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+o);return n.error(t.stack||t.message),!1}if(l.version!==rn){var t=new Error("@opentelemetry/api: Registration of version v"+l.version+" for "+o+" does not match previously registered API v"+rn);return n.error(t.stack||t.message),!1}return l[o]=r,n.debug("@opentelemetry/api: Registered a global for "+o+" v"+rn+"."),!0}function kt(o){var r,n,a=(r=Ws[Ks])===null||r===void 0?void 0:r.version;if(!(!a||!_g(a)))return(n=Ws[Ks])===null||n===void 0?void 0:n[o]}function Pr(o,r){r.debug("@opentelemetry/api: Unregistering a global for "+o+" v"+rn+".");var n=Ws[Ks];n&&delete n[o]}var B3,Ks,Ws,hi=y(()=>{Sg();sh();Eg();B3=rn.split(".")[0],Ks=Symbol.for("opentelemetry.js.api."+B3),Ws=hg});function Js(o,r,n){var a=kt("diag");if(a)return n.unshift(r),a[o].apply(a,q3([],F3(n),!1))}var F3,q3,gg,Tg=y(()=>{hi();F3=function(o,r){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),s,l=[],t;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l},q3=function(o,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return o.concat(l||Array.prototype.slice.call(r))},gg=function(){function o(r){this._namespace=r.namespace||"DiagComponentLogger"}return o.prototype.debug=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Js("debug",this._namespace,r)},o.prototype.error=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Js("error",this._namespace,r)},o.prototype.info=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Js("info",this._namespace,r)},o.prototype.warn=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Js("warn",this._namespace,r)},o.prototype.verbose=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Js("verbose",this._namespace,r)},o}()});var Pe,fc=y(()=>{(function(o){o[o.NONE=0]="NONE",o[o.ERROR=30]="ERROR",o[o.WARN=50]="WARN",o[o.INFO=60]="INFO",o[o.DEBUG=70]="DEBUG",o[o.VERBOSE=80]="VERBOSE",o[o.ALL=9999]="ALL"})(Pe||(Pe={}))});function Og(o,r){o<Pe.NONE?o=Pe.NONE:o>Pe.ALL&&(o=Pe.ALL),r=r||{};function n(a,s){var l=r[a];return typeof l=="function"&&o>=s?l.bind(r):function(){}}return{error:n("error",Pe.ERROR),warn:n("warn",Pe.WARN),info:n("info",Pe.INFO),debug:n("debug",Pe.DEBUG),verbose:n("verbose",Pe.VERBOSE)}}var bg=y(()=>{fc()});var G3,H3,j3,ht,mi=y(()=>{Tg();bg();fc();hi();G3=function(o,r){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),s,l=[],t;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l},H3=function(o,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return o.concat(l||Array.prototype.slice.call(r))},j3="diag",ht=function(){function o(){function r(s){return function(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];var e=kt("diag");if(e)return e[s].apply(e,H3([],G3(l),!1))}}var n=this,a=function(s,l){var t,e,i;if(l===void 0&&(l={logLevel:Pe.INFO}),s===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((t=c.stack)!==null&&t!==void 0?t:c.message),!1}typeof l=="number"&&(l={logLevel:l});var u=kt("diag"),f=Og((e=l.logLevel)!==null&&e!==void 0?e:Pe.INFO,s);if(u&&!l.suppressOverrideMessage){var v=(i=new Error().stack)!==null&&i!==void 0?i:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+v),f.warn("Current logger will overwrite one already registered from "+v)}return Rr("diag",f,n,!0)};n.setLogger=a,n.disable=function(){Pr(j3,n)},n.createComponentLogger=function(s){return new gg(s)},n.verbose=r("verbose"),n.debug=r("debug"),n.info=r("info"),n.warn=r("warn"),n.error=r("error")}return o.instance=function(){return this._instance||(this._instance=new o),this._instance},o}()});var z3,Y3,Ag,Ng=y(()=>{z3=function(o,r){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),s,l=[],t;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l},Y3=function(o){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&o[r],a=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Ag=function(){function o(r){this._entries=r?new Map(r):new Map}return o.prototype.getEntry=function(r){var n=this._entries.get(r);if(n)return Object.assign({},n)},o.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(r){var n=z3(r,2),a=n[0],s=n[1];return[a,s]})},o.prototype.setEntry=function(r,n){var a=new o(this._entries);return a._entries.set(r,n),a},o.prototype.removeEntry=function(r){var n=new o(this._entries);return n._entries.delete(r),n},o.prototype.removeEntries=function(){for(var r,n,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=new o(this._entries);try{for(var t=Y3(a),e=t.next();!e.done;e=t.next()){var i=e.value;l._entries.delete(i)}}catch(c){r={error:c}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(r)throw r.error}}return l},o.prototype.clear=function(){return new o},o}()});var xg,Rg=y(()=>{xg=Symbol("BaggageEntryMetadata")});function Pg(o){return o===void 0&&(o={}),new Ag(new Map(Object.entries(o)))}function pc(o){return typeof o!="string"&&($3.error("Cannot create baggage metadata from unknown type: "+typeof o),o=""),{__TYPE__:xg,toString:function(){return o}}}var $3,ah=y(()=>{mi();Ng();Rg();$3=ht.instance()});function Kt(o){return Symbol.for(o)}var K3,dc,Xs=y(()=>{K3=function(){function o(r){var n=this;n._currentContext=r?new Map(r):new Map,n.getValue=function(a){return n._currentContext.get(a)},n.setValue=function(a,s){var l=new o(n._currentContext);return l._currentContext.set(a,s),l},n.deleteValue=function(a){var s=new o(n._currentContext);return s._currentContext.delete(a),s}}return o}(),dc=new K3});var lh,hc,Cg=y(()=>{lh=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],hc=function(){function o(){function r(a){return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(console){var t=console[a];if(typeof t!="function"&&(t=console.log),typeof t=="function")return t.apply(console,s)}}}for(var n=0;n<lh.length;n++)this[lh[n].n]=r(lh[n].c)}return o}()});function mc(){return fh}var lo,W3,ch,J3,X3,Q3,uh,Z3,eF,tF,fh,rF,nF,iF,oF,sF,aF,ph=y(()=>{lo=function(){var o=function(r,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])},o(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");o(r,n);function a(){this.constructor=r}r.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),W3=function(){function o(){}return o.prototype.createHistogram=function(r,n){return nF},o.prototype.createCounter=function(r,n){return rF},o.prototype.createUpDownCounter=function(r,n){return iF},o.prototype.createObservableGauge=function(r,n){return sF},o.prototype.createObservableCounter=function(r,n){return oF},o.prototype.createObservableUpDownCounter=function(r,n){return aF},o.prototype.addBatchObservableCallback=function(r,n){},o.prototype.removeBatchObservableCallback=function(r){},o}(),ch=function(){function o(){}return o}(),J3=function(o){lo(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.add=function(n,a){},r}(ch),X3=function(o){lo(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.add=function(n,a){},r}(ch),Q3=function(o){lo(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.record=function(n,a){},r}(ch),uh=function(){function o(){}return o.prototype.addCallback=function(r){},o.prototype.removeCallback=function(r){},o}(),Z3=function(o){lo(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(uh),eF=function(o){lo(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(uh),tF=function(o){lo(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(uh),fh=new W3,rF=new J3,nF=new Q3,iF=new X3,oF=new Z3,sF=new eF,aF=new tF});var Rt,Ig=y(()=>{(function(o){o[o.INT=0]="INT",o[o.DOUBLE=1]="DOUBLE"})(Rt||(Rt={}))});var yc,Sc,dh=y(()=>{yc={get:function(o,r){if(o!=null)return o[r]},keys:function(o){return o==null?[]:Object.keys(o)}},Sc={set:function(o,r,n){o!=null&&(o[r]=n)}}});var lF,cF,wg,Lg=y(()=>{Xs();lF=function(o,r){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),s,l=[],t;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l},cF=function(o,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return o.concat(l||Array.prototype.slice.call(r))},wg=function(){function o(){}return o.prototype.active=function(){return dc},o.prototype.with=function(r,n,a){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];return n.call.apply(n,cF([a],lF(s),!1))},o.prototype.bind=function(r,n){return n},o.prototype.enable=function(){return this},o.prototype.disable=function(){return this},o}()});var uF,fF,hh,pF,Nn,Qs=y(()=>{Lg();hi();mi();uF=function(o,r){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),s,l=[],t;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l},fF=function(o,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return o.concat(l||Array.prototype.slice.call(r))},hh="context",pF=new wg,Nn=function(){function o(){}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalContextManager=function(r){return Rr(hh,r,ht.instance())},o.prototype.active=function(){return this._getContextManager().active()},o.prototype.with=function(r,n,a){for(var s,l=[],t=3;t<arguments.length;t++)l[t-3]=arguments[t];return(s=this._getContextManager()).with.apply(s,fF([r,n,a],uF(l),!1))},o.prototype.bind=function(r,n){return this._getContextManager().bind(r,n)},o.prototype._getContextManager=function(){return kt(hh)||pF},o.prototype.disable=function(){this._getContextManager().disable(),Pr(hh,ht.instance())},o}()});var Ee,mh=y(()=>{(function(o){o[o.NONE=0]="NONE",o[o.SAMPLED=1]="SAMPLED"})(Ee||(Ee={}))});var Zs,ea,co,vc=y(()=>{mh();Zs="0000000000000000",ea="00000000000000000000000000000000",co={traceId:ea,spanId:Zs,traceFlags:Ee.NONE}});var xn,_c=y(()=>{vc();xn=function(){function o(r){r===void 0&&(r=co),this._spanContext=r}return o.prototype.spanContext=function(){return this._spanContext},o.prototype.setAttribute=function(r,n){return this},o.prototype.setAttributes=function(r){return this},o.prototype.addEvent=function(r,n){return this},o.prototype.setStatus=function(r){return this},o.prototype.updateName=function(r){return this},o.prototype.end=function(r){},o.prototype.isRecording=function(){return!1},o.prototype.recordException=function(r,n){},o}()});function Ec(o){return o.getValue(yh)||void 0}function Mg(){return Ec(Nn.getInstance().active())}function ta(o,r){return o.setValue(yh,r)}function Ug(o){return o.deleteValue(yh)}function Dg(o,r){return ta(o,new xn(r))}function gc(o){var r;return(r=Ec(o))===null||r===void 0?void 0:r.spanContext()}var yh,Sh=y(()=>{Xs();_c();Qs();yh=Kt("OpenTelemetry Context Key SPAN")});function hr(o){return dF.test(o)&&o!==ea}function yi(o){return hF.test(o)&&o!==Zs}function Xe(o){return hr(o.traceId)&&yi(o.spanId)}function kg(o){return new xn(o)}var dF,hF,Tc=y(()=>{vc();_c();dF=/^([0-9a-f]{32})$/i,hF=/^[0-9a-f]{16}$/i});function mF(o){return typeof o=="object"&&typeof o.spanId=="string"&&typeof o.traceId=="string"&&typeof o.traceFlags=="number"}var vh,Oc,_h=y(()=>{Qs();Sh();_c();Tc();vh=Nn.getInstance(),Oc=function(){function o(){}return o.prototype.startSpan=function(r,n,a){a===void 0&&(a=vh.active());var s=!!(n!=null&&n.root);if(s)return new xn;var l=a&&gc(a);return mF(l)&&Xe(l)?new xn(l):new xn},o.prototype.startActiveSpan=function(r,n,a,s){var l,t,e;if(!(arguments.length<2)){arguments.length===2?e=n:arguments.length===3?(l=n,e=a):(l=n,t=a,e=s);var i=t??vh.active(),c=this.startSpan(r,l,i),u=ta(i,c);return vh.with(u,e,void 0,c)}},o}()});var yF,bc,Eh=y(()=>{_h();yF=new Oc,bc=function(){function o(r,n,a,s){this._provider=r,this.name=n,this.version=a,this.options=s}return o.prototype.startSpan=function(r,n,a){return this._getTracer().startSpan(r,n,a)},o.prototype.startActiveSpan=function(r,n,a,s){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},o.prototype._getTracer=function(){if(this._delegate)return this._delegate;var r=this._provider.getDelegateTracer(this.name,this.version,this.options);return r?(this._delegate=r,this._delegate):yF},o}()});var Vg,Bg=y(()=>{_h();Vg=function(){function o(){}return o.prototype.getTracer=function(r,n,a){return new Oc},o}()});var SF,ra,gh=y(()=>{Eh();Bg();SF=new Vg,ra=function(){function o(){}return o.prototype.getTracer=function(r,n,a){var s;return(s=this.getDelegateTracer(r,n,a))!==null&&s!==void 0?s:new bc(this,r,n,a)},o.prototype.getDelegate=function(){var r;return(r=this._delegate)!==null&&r!==void 0?r:SF},o.prototype.setDelegate=function(r){this._delegate=r},o.prototype.getDelegateTracer=function(r,n,a){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(r,n,a)},o}()});var Pt,Fg=y(()=>{(function(o){o[o.NOT_RECORD=0]="NOT_RECORD",o[o.RECORD=1]="RECORD",o[o.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Pt||(Pt={}))});var Wt,qg=y(()=>{(function(o){o[o.INTERNAL=0]="INTERNAL",o[o.SERVER=1]="SERVER",o[o.CLIENT=2]="CLIENT",o[o.PRODUCER=3]="PRODUCER",o[o.CONSUMER=4]="CONSUMER"})(Wt||(Wt={}))});var Cr,Gg=y(()=>{(function(o){o[o.UNSET=0]="UNSET",o[o.OK=1]="OK",o[o.ERROR=2]="ERROR"})(Cr||(Cr={}))});function Hg(o){return EF.test(o)}function jg(o){return gF.test(o)&&!TF.test(o)}var Th,vF,_F,EF,gF,TF,zg=y(()=>{Th="[_0-9a-z-*/]",vF="[a-z]"+Th+"{0,255}",_F="[a-z0-9]"+Th+"{0,240}@[a-z]"+Th+"{0,13}",EF=new RegExp("^(?:"+vF+"|"+_F+")$"),gF=/^[ -~]{0,255}[!-~]$/,TF=/,|=/});var Yg,OF,$g,Kg,Wg,Jg=y(()=>{zg();Yg=32,OF=512,$g=",",Kg="=",Wg=function(){function o(r){this._internalState=new Map,r&&this._parse(r)}return o.prototype.set=function(r,n){var a=this._clone();return a._internalState.has(r)&&a._internalState.delete(r),a._internalState.set(r,n),a},o.prototype.unset=function(r){var n=this._clone();return n._internalState.delete(r),n},o.prototype.get=function(r){return this._internalState.get(r)},o.prototype.serialize=function(){var r=this;return this._keys().reduce(function(n,a){return n.push(a+Kg+r.get(a)),n},[]).join($g)},o.prototype._parse=function(r){r.length>OF||(this._internalState=r.split($g).reverse().reduce(function(n,a){var s=a.trim(),l=s.indexOf(Kg);if(l!==-1){var t=s.slice(0,l),e=s.slice(l+1,a.length);Hg(t)&&jg(e)&&n.set(t,e)}return n},new Map),this._internalState.size>Yg&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Yg))))},o.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},o.prototype._clone=function(){var r=new o;return r._internalState=new Map(this._internalState),r},o}()});function Xg(o){return new Wg(o)}var Qg=y(()=>{Jg()});var Ke,Zg=y(()=>{Qs();Ke=Nn.getInstance()});var A,eT=y(()=>{mi();A=ht.instance()});var bF,tT,rT=y(()=>{ph();bF=function(){function o(){}return o.prototype.getMeter=function(r,n,a){return fh},o}(),tT=new bF});var Oh,nT,iT=y(()=>{rT();hi();mi();Oh="metrics",nT=function(){function o(){}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalMeterProvider=function(r){return Rr(Oh,r,ht.instance())},o.prototype.getMeterProvider=function(){return kt(Oh)||tT},o.prototype.getMeter=function(r,n,a){return this.getMeterProvider().getMeter(r,n,a)},o.prototype.disable=function(){Pr(Oh,ht.instance())},o}()});var Si,oT=y(()=>{iT();Si=nT.getInstance()});var sT,aT=y(()=>{sT=function(){function o(){}return o.prototype.inject=function(r,n){},o.prototype.extract=function(r,n){return r},o.prototype.fields=function(){return[]},o}()});function Ah(o){return o.getValue(bh)||void 0}function lT(){return Ah(Nn.getInstance().active())}function cT(o,r){return o.setValue(bh,r)}function uT(o){return o.deleteValue(bh)}var bh,fT=y(()=>{Qs();Xs();bh=Kt("OpenTelemetry Baggage Key")});var Nh,AF,pT,dT=y(()=>{hi();aT();dh();fT();ah();mi();Nh="propagation",AF=new sT,pT=function(){function o(){this.createBaggage=Pg,this.getBaggage=Ah,this.getActiveBaggage=lT,this.setBaggage=cT,this.deleteBaggage=uT}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalPropagator=function(r){return Rr(Nh,r,ht.instance())},o.prototype.inject=function(r,n,a){return a===void 0&&(a=Sc),this._getGlobalPropagator().inject(r,n,a)},o.prototype.extract=function(r,n,a){return a===void 0&&(a=yc),this._getGlobalPropagator().extract(r,n,a)},o.prototype.fields=function(){return this._getGlobalPropagator().fields()},o.prototype.disable=function(){Pr(Nh,ht.instance())},o.prototype._getGlobalPropagator=function(){return kt(Nh)||AF},o}()});var Ct,hT=y(()=>{dT();Ct=pT.getInstance()});var xh,mT,yT=y(()=>{hi();gh();Tc();Sh();mi();xh="trace",mT=function(){function o(){this._proxyTracerProvider=new ra,this.wrapSpanContext=kg,this.isSpanContextValid=Xe,this.deleteSpan=Ug,this.getSpan=Ec,this.getActiveSpan=Mg,this.getSpanContext=gc,this.setSpan=ta,this.setSpanContext=Dg}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalTracerProvider=function(r){var n=Rr(xh,this._proxyTracerProvider,ht.instance());return n&&this._proxyTracerProvider.setDelegate(r),n},o.prototype.getTracerProvider=function(){return kt(xh)||this._proxyTracerProvider},o.prototype.getTracer=function(r,n){return this.getTracerProvider().getTracer(r,n)},o.prototype.disable=function(){Pr(xh,ht.instance()),this._proxyTracerProvider=new ra},o}()});var Se,ST=y(()=>{yT();Se=mT.getInstance()});var st={};Ue(st,{DiagConsoleLogger:()=>hc,DiagLogLevel:()=>Pe,INVALID_SPANID:()=>Zs,INVALID_SPAN_CONTEXT:()=>co,INVALID_TRACEID:()=>ea,ProxyTracer:()=>bc,ProxyTracerProvider:()=>ra,ROOT_CONTEXT:()=>dc,SamplingDecision:()=>Pt,SpanKind:()=>Wt,SpanStatusCode:()=>Cr,TraceFlags:()=>Ee,ValueType:()=>Rt,baggageEntryMetadataFromString:()=>pc,context:()=>Ke,createContextKey:()=>Kt,createNoopMeter:()=>mc,createTraceState:()=>Xg,default:()=>NF,defaultTextMapGetter:()=>yc,defaultTextMapSetter:()=>Sc,diag:()=>A,isSpanContextValid:()=>Xe,isValidSpanId:()=>yi,isValidTraceId:()=>hr,metrics:()=>Si,propagation:()=>Ct,trace:()=>Se});var NF,k=y(()=>{ah();Xs();Cg();fc();ph();Ig();dh();Eh();gh();Fg();qg();Gg();mh();Qg();Tc();vc();Zg();eT();oT();hT();ST();NF={context:Ke,diag:A,metrics:Si,propagation:Ct,trace:Se}});function He(o){let r={},n=o.length;for(let a=0;a<n;a++){let s=o[a];s&&(r[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return r}var Rh=y(()=>{});var vT,_T,ET,gT,TT,OT,bT,AT,NT,xT,RT,PT,CT,IT,wT,LT,MT,UT,DT,kT,VT,BT,FT,qT,GT,HT,jT,zT,YT,$T,KT,WT,JT,XT,QT,ZT,eO,tO,rO,nO,iO,oO,sO,aO,lO,cO,uO,fO,pO,dO,hO,mO,yO,SO,vO,_O,EO,gO,TO,OO,bO,AO,NO,xO,RO,PO,CO,IO,wO,LO,MO,UO,DO,kO,VO,BO,FO,qO,GO,HO,jO,zO,YO,$O,KO,WO,JO,XO,QO,ZO,eb,tb,rb,nb,ib,ob,sb,ab,lb,cb,ub,fb,pb,db,hb,mb,yb,Sb,vb,_b,Eb,gb,Tb,Ob,bb,Ab,Nb,xb,Rb,Pb,Cb,Ib,wb,Lb,Mb,Ub,Db,kb,xF,RF,PF,CF,IF,wF,LF,MF,UF,DF,kF,VF,BF,FF,qF,GF,HF,jF,zF,YF,$F,KF,WF,JF,XF,QF,ZF,eq,tq,rq,nq,iq,oq,sq,aq,lq,cq,uq,fq,pq,dq,hq,mq,yq,Sq,vq,_q,Eq,gq,Tq,Oq,bq,Aq,Nq,xq,Rq,Pq,Cq,Iq,wq,Lq,Mq,Uq,Dq,kq,Vq,Bq,Fq,qq,Gq,Hq,jq,zq,Yq,$q,Kq,Wq,Jq,Xq,Qq,Zq,eG,tG,rG,nG,iG,oG,sG,aG,lG,cG,uG,fG,pG,dG,hG,mG,yG,SG,vG,_G,EG,gG,TG,OG,bG,AG,NG,xG,RG,PG,CG,IG,wG,LG,MG,UG,DG,kG,VG,BG,FG,qG,GG,HG,jG,zG,YG,nn,Vb,Bb,Fb,qb,Gb,Hb,jb,zb,Yb,$b,Kb,Wb,Jb,Xb,Qb,Zb,eA,tA,rA,nA,iA,oA,sA,aA,lA,cA,uA,fA,pA,dA,hA,mA,yA,SA,vA,_A,EA,gA,TA,OA,bA,AA,NA,xA,RA,PA,CA,$G,KG,WG,JG,XG,QG,ZG,eH,tH,rH,nH,iH,oH,sH,aH,lH,cH,uH,fH,pH,dH,hH,mH,yH,SH,vH,_H,EH,gH,TH,OH,bH,AH,NH,xH,RH,PH,CH,IH,wH,LH,MH,UH,DH,kH,VH,BH,FH,IA,wA,LA,MA,UA,DA,kA,VA,BA,FA,qA,qH,GH,HH,jH,zH,YH,$H,KH,WH,JH,XH,QH,GA,HA,jA,zA,YA,ZH,e4,t4,r4,n4,i4,$A,KA,WA,o4,s4,a4,l4,JA,XA,QA,ZA,c4,u4,f4,p4,d4,eN,tN,rN,nN,iN,oN,sN,h4,m4,y4,S4,v4,_4,E4,g4,aN,lN,cN,uN,fN,T4,O4,b4,A4,N4,x4,pN,dN,hN,mN,yN,SN,vN,_N,EN,gN,TN,ON,bN,AN,NN,xN,RN,PN,CN,IN,wN,R4,P4,C4,I4,w4,L4,M4,U4,D4,k4,V4,B4,F4,q4,G4,H4,j4,z4,Y4,$4,K4,W4,LN,MN,UN,DN,kN,J4,X4,Q4,Z4,e6,t6,VN,BN,r6,n6,i6,FN,qN,o6,s6,a6,GN,HN,jN,zN,YN,$N,KN,WN,JN,XN,QN,ZN,ex,tx,rx,nx,ix,l6,c6,u6,f6,p6,d6,h6,m6,y6,S6,v6,_6,E6,g6,T6,O6,b6,A6,ox,sx,N6,x6,R6,ax=y(()=>{Rh();vT="aws.lambda.invoked_arn",_T="db.system",ET="db.connection_string",gT="db.user",TT="db.jdbc.driver_classname",OT="db.name",bT="db.statement",AT="db.operation",NT="db.mssql.instance_name",xT="db.cassandra.keyspace",RT="db.cassandra.page_size",PT="db.cassandra.consistency_level",CT="db.cassandra.table",IT="db.cassandra.idempotence",wT="db.cassandra.speculative_execution_count",LT="db.cassandra.coordinator.id",MT="db.cassandra.coordinator.dc",UT="db.hbase.namespace",DT="db.redis.database_index",kT="db.mongodb.collection",VT="db.sql.table",BT="exception.type",FT="exception.message",qT="exception.stacktrace",GT="exception.escaped",HT="faas.trigger",jT="faas.execution",zT="faas.document.collection",YT="faas.document.operation",$T="faas.document.time",KT="faas.document.name",WT="faas.time",JT="faas.cron",XT="faas.coldstart",QT="faas.invoked_name",ZT="faas.invoked_provider",eO="faas.invoked_region",tO="net.transport",rO="net.peer.ip",nO="net.peer.port",iO="net.peer.name",oO="net.host.ip",sO="net.host.port",aO="net.host.name",lO="net.host.connection.type",cO="net.host.connection.subtype",uO="net.host.carrier.name",fO="net.host.carrier.mcc",pO="net.host.carrier.mnc",dO="net.host.carrier.icc",hO="peer.service",mO="enduser.id",yO="enduser.role",SO="enduser.scope",vO="thread.id",_O="thread.name",EO="code.function",gO="code.namespace",TO="code.filepath",OO="code.lineno",bO="http.method",AO="http.url",NO="http.target",xO="http.host",RO="http.scheme",PO="http.status_code",CO="http.flavor",IO="http.user_agent",wO="http.request_content_length",LO="http.request_content_length_uncompressed",MO="http.response_content_length",UO="http.response_content_length_uncompressed",DO="http.server_name",kO="http.route",VO="http.client_ip",BO="aws.dynamodb.table_names",FO="aws.dynamodb.consumed_capacity",qO="aws.dynamodb.item_collection_metrics",GO="aws.dynamodb.provisioned_read_capacity",HO="aws.dynamodb.provisioned_write_capacity",jO="aws.dynamodb.consistent_read",zO="aws.dynamodb.projection",YO="aws.dynamodb.limit",$O="aws.dynamodb.attributes_to_get",KO="aws.dynamodb.index_name",WO="aws.dynamodb.select",JO="aws.dynamodb.global_secondary_indexes",XO="aws.dynamodb.local_secondary_indexes",QO="aws.dynamodb.exclusive_start_table",ZO="aws.dynamodb.table_count",eb="aws.dynamodb.scan_forward",tb="aws.dynamodb.segment",rb="aws.dynamodb.total_segments",nb="aws.dynamodb.count",ib="aws.dynamodb.scanned_count",ob="aws.dynamodb.attribute_definitions",sb="aws.dynamodb.global_secondary_index_updates",ab="messaging.system",lb="messaging.destination",cb="messaging.destination_kind",ub="messaging.temp_destination",fb="messaging.protocol",pb="messaging.protocol_version",db="messaging.url",hb="messaging.message_id",mb="messaging.conversation_id",yb="messaging.message_payload_size_bytes",Sb="messaging.message_payload_compressed_size_bytes",vb="messaging.operation",_b="messaging.consumer_id",Eb="messaging.rabbitmq.routing_key",gb="messaging.kafka.message_key",Tb="messaging.kafka.consumer_group",Ob="messaging.kafka.client_id",bb="messaging.kafka.partition",Ab="messaging.kafka.tombstone",Nb="rpc.system",xb="rpc.service",Rb="rpc.method",Pb="rpc.grpc.status_code",Cb="rpc.jsonrpc.version",Ib="rpc.jsonrpc.request_id",wb="rpc.jsonrpc.error_code",Lb="rpc.jsonrpc.error_message",Mb="message.type",Ub="message.id",Db="message.compressed_size",kb="message.uncompressed_size",xF=vT,RF=_T,PF=ET,CF=gT,IF=TT,wF=OT,LF=bT,MF=AT,UF=NT,DF=xT,kF=RT,VF=PT,BF=CT,FF=IT,qF=wT,GF=LT,HF=MT,jF=UT,zF=DT,YF=kT,$F=VT,KF=BT,WF=FT,JF=qT,XF=GT,QF=HT,ZF=jT,eq=zT,tq=YT,rq=$T,nq=KT,iq=WT,oq=JT,sq=XT,aq=QT,lq=ZT,cq=eO,uq=tO,fq=rO,pq=nO,dq=iO,hq=oO,mq=sO,yq=aO,Sq=lO,vq=cO,_q=uO,Eq=fO,gq=pO,Tq=dO,Oq=hO,bq=mO,Aq=yO,Nq=SO,xq=vO,Rq=_O,Pq=EO,Cq=gO,Iq=TO,wq=OO,Lq=bO,Mq=AO,Uq=NO,Dq=xO,kq=RO,Vq=PO,Bq=CO,Fq=IO,qq=wO,Gq=LO,Hq=MO,jq=UO,zq=DO,Yq=kO,$q=VO,Kq=BO,Wq=FO,Jq=qO,Xq=GO,Qq=HO,Zq=jO,eG=zO,tG=YO,rG=$O,nG=KO,iG=WO,oG=JO,sG=XO,aG=QO,lG=ZO,cG=eb,uG=tb,fG=rb,pG=nb,dG=ib,hG=ob,mG=sb,yG=ab,SG=lb,vG=cb,_G=ub,EG=fb,gG=pb,TG=db,OG=hb,bG=mb,AG=yb,NG=Sb,xG=vb,RG=_b,PG=Eb,CG=gb,IG=Tb,wG=Ob,LG=bb,MG=Ab,UG=Nb,DG=xb,kG=Rb,VG=Pb,BG=Cb,FG=Ib,qG=wb,GG=Lb,HG=Mb,jG=Ub,zG=Db,YG=kb,nn=He([vT,_T,ET,gT,TT,OT,bT,AT,NT,xT,RT,PT,CT,IT,wT,LT,MT,UT,DT,kT,VT,BT,FT,qT,GT,HT,jT,zT,YT,$T,KT,WT,JT,XT,QT,ZT,eO,tO,rO,nO,iO,oO,sO,aO,lO,cO,uO,fO,pO,dO,hO,mO,yO,SO,vO,_O,EO,gO,TO,OO,bO,AO,NO,xO,RO,PO,CO,IO,wO,LO,MO,UO,DO,kO,VO,BO,FO,qO,GO,HO,jO,zO,YO,$O,KO,WO,JO,XO,QO,ZO,eb,tb,rb,nb,ib,ob,sb,ab,lb,cb,ub,fb,pb,db,hb,mb,yb,Sb,vb,_b,Eb,gb,Tb,Ob,bb,Ab,Nb,xb,Rb,Pb,Cb,Ib,wb,Lb,Mb,Ub,Db,kb]),Vb="other_sql",Bb="mssql",Fb="mysql",qb="oracle",Gb="db2",Hb="postgresql",jb="redshift",zb="hive",Yb="cloudscape",$b="hsqldb",Kb="progress",Wb="maxdb",Jb="hanadb",Xb="ingres",Qb="firstsql",Zb="edb",eA="cache",tA="adabas",rA="firebird",nA="derby",iA="filemaker",oA="informix",sA="instantdb",aA="interbase",lA="mariadb",cA="netezza",uA="pervasive",fA="pointbase",pA="sqlite",dA="sybase",hA="teradata",mA="vertica",yA="h2",SA="coldfusion",vA="cassandra",_A="hbase",EA="mongodb",gA="redis",TA="couchbase",OA="couchdb",bA="cosmosdb",AA="dynamodb",NA="neo4j",xA="geode",RA="elasticsearch",PA="memcached",CA="cockroachdb",$G=Vb,KG=Bb,WG=Fb,JG=qb,XG=Gb,QG=Hb,ZG=jb,eH=zb,tH=Yb,rH=$b,nH=Kb,iH=Wb,oH=Jb,sH=Xb,aH=Qb,lH=Zb,cH=eA,uH=tA,fH=rA,pH=nA,dH=iA,hH=oA,mH=sA,yH=aA,SH=lA,vH=cA,_H=uA,EH=fA,gH=pA,TH=dA,OH=hA,bH=mA,AH=yA,NH=SA,xH=vA,RH=_A,PH=EA,CH=gA,IH=TA,wH=OA,LH=bA,MH=AA,UH=NA,DH=xA,kH=RA,VH=PA,BH=CA,FH=He([Vb,Bb,Fb,qb,Gb,Hb,jb,zb,Yb,$b,Kb,Wb,Jb,Xb,Qb,Zb,eA,tA,rA,nA,iA,oA,sA,aA,lA,cA,uA,fA,pA,dA,hA,mA,yA,SA,vA,_A,EA,gA,TA,OA,bA,AA,NA,xA,RA,PA,CA]),IA="all",wA="each_quorum",LA="quorum",MA="local_quorum",UA="one",DA="two",kA="three",VA="local_one",BA="any",FA="serial",qA="local_serial",qH=IA,GH=wA,HH=LA,jH=MA,zH=UA,YH=DA,$H=kA,KH=VA,WH=BA,JH=FA,XH=qA,QH=He([IA,wA,LA,MA,UA,DA,kA,VA,BA,FA,qA]),GA="datasource",HA="http",jA="pubsub",zA="timer",YA="other",ZH=GA,e4=HA,t4=jA,r4=zA,n4=YA,i4=He([GA,HA,jA,zA,YA]),$A="insert",KA="edit",WA="delete",o4=$A,s4=KA,a4=WA,l4=He([$A,KA,WA]),JA="alibaba_cloud",XA="aws",QA="azure",ZA="gcp",c4=JA,u4=XA,f4=QA,p4=ZA,d4=He([JA,XA,QA,ZA]),eN="ip_tcp",tN="ip_udp",rN="ip",nN="unix",iN="pipe",oN="inproc",sN="other",h4=eN,m4=tN,y4=rN,S4=nN,v4=iN,_4=oN,E4=sN,g4=He([eN,tN,rN,nN,iN,oN,sN]),aN="wifi",lN="wired",cN="cell",uN="unavailable",fN="unknown",T4=aN,O4=lN,b4=cN,A4=uN,N4=fN,x4=He([aN,lN,cN,uN,fN]),pN="gprs",dN="edge",hN="umts",mN="cdma",yN="evdo_0",SN="evdo_a",vN="cdma2000_1xrtt",_N="hsdpa",EN="hsupa",gN="hspa",TN="iden",ON="evdo_b",bN="lte",AN="ehrpd",NN="hspap",xN="gsm",RN="td_scdma",PN="iwlan",CN="nr",IN="nrnsa",wN="lte_ca",R4=pN,P4=dN,C4=hN,I4=mN,w4=yN,L4=SN,M4=vN,U4=_N,D4=EN,k4=gN,V4=TN,B4=ON,F4=bN,q4=AN,G4=NN,H4=xN,j4=RN,z4=PN,Y4=CN,$4=IN,K4=wN,W4=He([pN,dN,hN,mN,yN,SN,vN,_N,EN,gN,TN,ON,bN,AN,NN,xN,RN,PN,CN,IN,wN]),LN="1.0",MN="1.1",UN="2.0",DN="SPDY",kN="QUIC",J4=LN,X4=MN,Q4=UN,Z4=DN,e6=kN,t6={HTTP_1_0:LN,HTTP_1_1:MN,HTTP_2_0:UN,SPDY:DN,QUIC:kN},VN="queue",BN="topic",r6=VN,n6=BN,i6=He([VN,BN]),FN="receive",qN="process",o6=FN,s6=qN,a6=He([FN,qN]),GN=0,HN=1,jN=2,zN=3,YN=4,$N=5,KN=6,WN=7,JN=8,XN=9,QN=10,ZN=11,ex=12,tx=13,rx=14,nx=15,ix=16,l6=GN,c6=HN,u6=jN,f6=zN,p6=YN,d6=$N,h6=KN,m6=WN,y6=JN,S6=XN,v6=QN,_6=ZN,E6=ex,g6=tx,T6=rx,O6=nx,b6=ix,A6={OK:GN,CANCELLED:HN,UNKNOWN:jN,INVALID_ARGUMENT:zN,DEADLINE_EXCEEDED:YN,NOT_FOUND:$N,ALREADY_EXISTS:KN,PERMISSION_DENIED:WN,RESOURCE_EXHAUSTED:JN,FAILED_PRECONDITION:XN,ABORTED:QN,OUT_OF_RANGE:ZN,UNIMPLEMENTED:ex,INTERNAL:tx,UNAVAILABLE:rx,DATA_LOSS:nx,UNAUTHENTICATED:ix},ox="SENT",sx="RECEIVED",N6=ox,x6=sx,R6=He([ox,sx])});var lx=y(()=>{ax()});var cx,ux,fx,px,dx,hx,mx,yx,Sx,vx,_x,Ex,gx,Tx,Ox,bx,Ax,Nx,xx,Rx,Px,Cx,Ix,wx,Lx,Mx,Ux,Dx,kx,Vx,Bx,Fx,qx,Gx,Hx,jx,zx,Yx,$x,Kx,Wx,Jx,Xx,Qx,Zx,eR,tR,rR,nR,iR,oR,sR,aR,lR,cR,uR,fR,pR,dR,hR,mR,yR,SR,vR,_R,ER,gR,TR,OR,bR,AR,NR,xR,RR,PR,CR,IR,wR,LR,MR,UR,P6,C6,I6,w6,L6,M6,U6,D6,k6,V6,B6,F6,q6,G6,H6,j6,z6,Y6,$6,K6,W6,J6,X6,Q6,Z6,ej,tj,rj,nj,ij,oj,sj,aj,lj,cj,uj,fj,pj,dj,hj,mj,yj,Sj,vj,_j,Ej,gj,Tj,Oj,bj,Aj,Nj,xj,Rj,Pj,Cj,Ij,wj,Lj,Mj,Uj,Dj,kj,Vj,Bj,Fj,qj,Gj,Hj,jj,na,zj,Ph,Yj,Ac,Nc,xc,$j,Kj,Wj,Jj,Oe,DR,kR,VR,BR,Xj,Qj,Zj,ez,tz,FR,qR,GR,HR,jR,zR,YR,$R,KR,WR,JR,XR,QR,ZR,e0,t0,r0,rz,nz,iz,oz,sz,az,lz,cz,uz,fz,pz,dz,hz,mz,yz,Sz,vz,_z,n0,i0,Ez,gz,Tz,o0,s0,a0,l0,c0,u0,f0,Oz,bz,Az,Nz,xz,Rz,Pz,Cz,p0,d0,h0,m0,y0,S0,v0,_0,E0,g0,T0,Iz,wz,Lz,Mz,Uz,Dz,kz,Vz,Bz,Fz,qz,Gz,O0,b0,A0,N0,x0,R0,P0,C0,I0,w0,Hz,jz,zz,Yz,$z,Kz,Wz,Jz,Xz,Qz,Ch,L0=y(()=>{Rh();cx="cloud.provider",ux="cloud.account.id",fx="cloud.region",px="cloud.availability_zone",dx="cloud.platform",hx="aws.ecs.container.arn",mx="aws.ecs.cluster.arn",yx="aws.ecs.launchtype",Sx="aws.ecs.task.arn",vx="aws.ecs.task.family",_x="aws.ecs.task.revision",Ex="aws.eks.cluster.arn",gx="aws.log.group.names",Tx="aws.log.group.arns",Ox="aws.log.stream.names",bx="aws.log.stream.arns",Ax="container.name",Nx="container.id",xx="container.runtime",Rx="container.image.name",Px="container.image.tag",Cx="deployment.environment",Ix="device.id",wx="device.model.identifier",Lx="device.model.name",Mx="faas.name",Ux="faas.id",Dx="faas.version",kx="faas.instance",Vx="faas.max_memory",Bx="host.id",Fx="host.name",qx="host.type",Gx="host.arch",Hx="host.image.name",jx="host.image.id",zx="host.image.version",Yx="k8s.cluster.name",$x="k8s.node.name",Kx="k8s.node.uid",Wx="k8s.namespace.name",Jx="k8s.pod.uid",Xx="k8s.pod.name",Qx="k8s.container.name",Zx="k8s.replicaset.uid",eR="k8s.replicaset.name",tR="k8s.deployment.uid",rR="k8s.deployment.name",nR="k8s.statefulset.uid",iR="k8s.statefulset.name",oR="k8s.daemonset.uid",sR="k8s.daemonset.name",aR="k8s.job.uid",lR="k8s.job.name",cR="k8s.cronjob.uid",uR="k8s.cronjob.name",fR="os.type",pR="os.description",dR="os.name",hR="os.version",mR="process.pid",yR="process.executable.name",SR="process.executable.path",vR="process.command",_R="process.command_line",ER="process.command_args",gR="process.owner",TR="process.runtime.name",OR="process.runtime.version",bR="process.runtime.description",AR="service.name",NR="service.namespace",xR="service.instance.id",RR="service.version",PR="telemetry.sdk.name",CR="telemetry.sdk.language",IR="telemetry.sdk.version",wR="telemetry.auto.version",LR="webengine.name",MR="webengine.version",UR="webengine.description",P6=cx,C6=ux,I6=fx,w6=px,L6=dx,M6=hx,U6=mx,D6=yx,k6=Sx,V6=vx,B6=_x,F6=Ex,q6=gx,G6=Tx,H6=Ox,j6=bx,z6=Ax,Y6=Nx,$6=xx,K6=Rx,W6=Px,J6=Cx,X6=Ix,Q6=wx,Z6=Lx,ej=Mx,tj=Ux,rj=Dx,nj=kx,ij=Vx,oj=Bx,sj=Fx,aj=qx,lj=Gx,cj=Hx,uj=jx,fj=zx,pj=Yx,dj=$x,hj=Kx,mj=Wx,yj=Jx,Sj=Xx,vj=Qx,_j=Zx,Ej=eR,gj=tR,Tj=rR,Oj=nR,bj=iR,Aj=oR,Nj=sR,xj=aR,Rj=lR,Pj=cR,Cj=uR,Ij=fR,wj=pR,Lj=dR,Mj=hR,Uj=mR,Dj=yR,kj=SR,Vj=vR,Bj=_R,Fj=ER,qj=gR,Gj=TR,Hj=OR,jj=bR,na=AR,zj=NR,Ph=xR,Yj=RR,Ac=PR,Nc=CR,xc=IR,$j=wR,Kj=LR,Wj=MR,Jj=UR,Oe=He([cx,ux,fx,px,dx,hx,mx,yx,Sx,vx,_x,Ex,gx,Tx,Ox,bx,Ax,Nx,xx,Rx,Px,Cx,Ix,wx,Lx,Mx,Ux,Dx,kx,Vx,Bx,Fx,qx,Gx,Hx,jx,zx,Yx,$x,Kx,Wx,Jx,Xx,Qx,Zx,eR,tR,rR,nR,iR,oR,sR,aR,lR,cR,uR,fR,pR,dR,hR,mR,yR,SR,vR,_R,ER,gR,TR,OR,bR,AR,NR,xR,RR,PR,CR,IR,wR,LR,MR,UR]),DR="alibaba_cloud",kR="aws",VR="azure",BR="gcp",Xj=DR,Qj=kR,Zj=VR,ez=BR,tz=He([DR,kR,VR,BR]),FR="alibaba_cloud_ecs",qR="alibaba_cloud_fc",GR="aws_ec2",HR="aws_ecs",jR="aws_eks",zR="aws_lambda",YR="aws_elastic_beanstalk",$R="azure_vm",KR="azure_container_instances",WR="azure_aks",JR="azure_functions",XR="azure_app_service",QR="gcp_compute_engine",ZR="gcp_cloud_run",e0="gcp_kubernetes_engine",t0="gcp_cloud_functions",r0="gcp_app_engine",rz=FR,nz=qR,iz=GR,oz=HR,sz=jR,az=zR,lz=YR,cz=$R,uz=KR,fz=WR,pz=JR,dz=XR,hz=QR,mz=ZR,yz=e0,Sz=t0,vz=r0,_z=He([FR,qR,GR,HR,jR,zR,YR,$R,KR,WR,JR,XR,QR,ZR,e0,t0,r0]),n0="ec2",i0="fargate",Ez=n0,gz=i0,Tz=He([n0,i0]),o0="amd64",s0="arm32",a0="arm64",l0="ia64",c0="ppc32",u0="ppc64",f0="x86",Oz=o0,bz=s0,Az=a0,Nz=l0,xz=c0,Rz=u0,Pz=f0,Cz=He([o0,s0,a0,l0,c0,u0,f0]),p0="windows",d0="linux",h0="darwin",m0="freebsd",y0="netbsd",S0="openbsd",v0="dragonflybsd",_0="hpux",E0="aix",g0="solaris",T0="z_os",Iz=p0,wz=d0,Lz=h0,Mz=m0,Uz=y0,Dz=S0,kz=v0,Vz=_0,Bz=E0,Fz=g0,qz=T0,Gz=He([p0,d0,h0,m0,y0,S0,v0,_0,E0,g0,T0]),O0="cpp",b0="dotnet",A0="erlang",N0="go",x0="java",R0="nodejs",P0="php",C0="python",I0="ruby",w0="webjs",Hz=O0,jz=b0,zz=A0,Yz=N0,$z=x0,Kz=R0,Wz=P0,Jz=C0,Xz=I0,Qz=w0,Ch=He([O0,b0,A0,N0,x0,R0,P0,C0,I0,w0])});var M0=y(()=>{L0()});var U0={};Ue(U0,{AWSECSLAUNCHTYPEVALUES_EC2:()=>Ez,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>gz,AwsEcsLaunchtypeValues:()=>Tz,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>rz,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>nz,CLOUDPLATFORMVALUES_AWS_EC2:()=>iz,CLOUDPLATFORMVALUES_AWS_ECS:()=>oz,CLOUDPLATFORMVALUES_AWS_EKS:()=>sz,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>lz,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>az,CLOUDPLATFORMVALUES_AZURE_AKS:()=>fz,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>dz,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>uz,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>pz,CLOUDPLATFORMVALUES_AZURE_VM:()=>cz,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>vz,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>Sz,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>mz,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>hz,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>yz,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>Xj,CLOUDPROVIDERVALUES_AWS:()=>Qj,CLOUDPROVIDERVALUES_AZURE:()=>Zj,CLOUDPROVIDERVALUES_GCP:()=>ez,CloudPlatformValues:()=>_z,CloudProviderValues:()=>tz,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>qH,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>WH,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>GH,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>KH,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>jH,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>XH,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>zH,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>HH,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>JH,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>$H,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>YH,DBSYSTEMVALUES_ADABAS:()=>uH,DBSYSTEMVALUES_CACHE:()=>cH,DBSYSTEMVALUES_CASSANDRA:()=>xH,DBSYSTEMVALUES_CLOUDSCAPE:()=>tH,DBSYSTEMVALUES_COCKROACHDB:()=>BH,DBSYSTEMVALUES_COLDFUSION:()=>NH,DBSYSTEMVALUES_COSMOSDB:()=>LH,DBSYSTEMVALUES_COUCHBASE:()=>IH,DBSYSTEMVALUES_COUCHDB:()=>wH,DBSYSTEMVALUES_DB2:()=>XG,DBSYSTEMVALUES_DERBY:()=>pH,DBSYSTEMVALUES_DYNAMODB:()=>MH,DBSYSTEMVALUES_EDB:()=>lH,DBSYSTEMVALUES_ELASTICSEARCH:()=>kH,DBSYSTEMVALUES_FILEMAKER:()=>dH,DBSYSTEMVALUES_FIREBIRD:()=>fH,DBSYSTEMVALUES_FIRSTSQL:()=>aH,DBSYSTEMVALUES_GEODE:()=>DH,DBSYSTEMVALUES_H2:()=>AH,DBSYSTEMVALUES_HANADB:()=>oH,DBSYSTEMVALUES_HBASE:()=>RH,DBSYSTEMVALUES_HIVE:()=>eH,DBSYSTEMVALUES_HSQLDB:()=>rH,DBSYSTEMVALUES_INFORMIX:()=>hH,DBSYSTEMVALUES_INGRES:()=>sH,DBSYSTEMVALUES_INSTANTDB:()=>mH,DBSYSTEMVALUES_INTERBASE:()=>yH,DBSYSTEMVALUES_MARIADB:()=>SH,DBSYSTEMVALUES_MAXDB:()=>iH,DBSYSTEMVALUES_MEMCACHED:()=>VH,DBSYSTEMVALUES_MONGODB:()=>PH,DBSYSTEMVALUES_MSSQL:()=>KG,DBSYSTEMVALUES_MYSQL:()=>WG,DBSYSTEMVALUES_NEO4J:()=>UH,DBSYSTEMVALUES_NETEZZA:()=>vH,DBSYSTEMVALUES_ORACLE:()=>JG,DBSYSTEMVALUES_OTHER_SQL:()=>$G,DBSYSTEMVALUES_PERVASIVE:()=>_H,DBSYSTEMVALUES_POINTBASE:()=>EH,DBSYSTEMVALUES_POSTGRESQL:()=>QG,DBSYSTEMVALUES_PROGRESS:()=>nH,DBSYSTEMVALUES_REDIS:()=>CH,DBSYSTEMVALUES_REDSHIFT:()=>ZG,DBSYSTEMVALUES_SQLITE:()=>gH,DBSYSTEMVALUES_SYBASE:()=>TH,DBSYSTEMVALUES_TERADATA:()=>OH,DBSYSTEMVALUES_VERTICA:()=>bH,DbCassandraConsistencyLevelValues:()=>QH,DbSystemValues:()=>FH,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>a4,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>s4,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>o4,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>c4,FAASINVOKEDPROVIDERVALUES_AWS:()=>u4,FAASINVOKEDPROVIDERVALUES_AZURE:()=>f4,FAASINVOKEDPROVIDERVALUES_GCP:()=>p4,FAASTRIGGERVALUES_DATASOURCE:()=>ZH,FAASTRIGGERVALUES_HTTP:()=>e4,FAASTRIGGERVALUES_OTHER:()=>n4,FAASTRIGGERVALUES_PUBSUB:()=>t4,FAASTRIGGERVALUES_TIMER:()=>r4,FaasDocumentOperationValues:()=>l4,FaasInvokedProviderValues:()=>d4,FaasTriggerValues:()=>i4,HOSTARCHVALUES_AMD64:()=>Oz,HOSTARCHVALUES_ARM32:()=>bz,HOSTARCHVALUES_ARM64:()=>Az,HOSTARCHVALUES_IA64:()=>Nz,HOSTARCHVALUES_PPC32:()=>xz,HOSTARCHVALUES_PPC64:()=>Rz,HOSTARCHVALUES_X86:()=>Pz,HTTPFLAVORVALUES_HTTP_1_0:()=>J4,HTTPFLAVORVALUES_HTTP_1_1:()=>X4,HTTPFLAVORVALUES_HTTP_2_0:()=>Q4,HTTPFLAVORVALUES_QUIC:()=>e6,HTTPFLAVORVALUES_SPDY:()=>Z4,HostArchValues:()=>Cz,HttpFlavorValues:()=>t6,MESSAGETYPEVALUES_RECEIVED:()=>x6,MESSAGETYPEVALUES_SENT:()=>N6,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>r6,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>n6,MESSAGINGOPERATIONVALUES_PROCESS:()=>s6,MESSAGINGOPERATIONVALUES_RECEIVE:()=>o6,MessageTypeValues:()=>R6,MessagingDestinationKindValues:()=>i6,MessagingOperationValues:()=>a6,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>I4,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>M4,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>P4,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>q4,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>w4,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>L4,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>B4,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>R4,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>H4,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>U4,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>k4,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>G4,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>D4,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>V4,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>z4,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>F4,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>K4,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>Y4,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>$4,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>j4,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>C4,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>b4,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>A4,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>N4,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>T4,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>O4,NETTRANSPORTVALUES_INPROC:()=>_4,NETTRANSPORTVALUES_IP:()=>y4,NETTRANSPORTVALUES_IP_TCP:()=>h4,NETTRANSPORTVALUES_IP_UDP:()=>m4,NETTRANSPORTVALUES_OTHER:()=>E4,NETTRANSPORTVALUES_PIPE:()=>v4,NETTRANSPORTVALUES_UNIX:()=>S4,NetHostConnectionSubtypeValues:()=>W4,NetHostConnectionTypeValues:()=>x4,NetTransportValues:()=>g4,OSTYPEVALUES_AIX:()=>Bz,OSTYPEVALUES_DARWIN:()=>Lz,OSTYPEVALUES_DRAGONFLYBSD:()=>kz,OSTYPEVALUES_FREEBSD:()=>Mz,OSTYPEVALUES_HPUX:()=>Vz,OSTYPEVALUES_LINUX:()=>wz,OSTYPEVALUES_NETBSD:()=>Uz,OSTYPEVALUES_OPENBSD:()=>Dz,OSTYPEVALUES_SOLARIS:()=>Fz,OSTYPEVALUES_WINDOWS:()=>Iz,OSTYPEVALUES_Z_OS:()=>qz,OsTypeValues:()=>Gz,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>v6,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>h6,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>c6,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>O6,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>p6,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>S6,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>g6,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>f6,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>d6,RPCGRPCSTATUSCODEVALUES_OK:()=>l6,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>_6,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>m6,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>y6,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>b6,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>T6,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>E6,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>u6,RpcGrpcStatusCodeValues:()=>A6,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>rG,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>hG,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>Zq,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>Wq,SEMATTRS_AWS_DYNAMODB_COUNT:()=>pG,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>aG,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>oG,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>mG,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>nG,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>Jq,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>tG,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>sG,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>eG,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>Xq,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>Qq,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>dG,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>cG,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>uG,SEMATTRS_AWS_DYNAMODB_SELECT:()=>iG,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>lG,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>Kq,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>fG,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>xF,SEMATTRS_CODE_FILEPATH:()=>Iq,SEMATTRS_CODE_FUNCTION:()=>Pq,SEMATTRS_CODE_LINENO:()=>wq,SEMATTRS_CODE_NAMESPACE:()=>Cq,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>VF,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>HF,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>GF,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>FF,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>DF,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>kF,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>qF,SEMATTRS_DB_CASSANDRA_TABLE:()=>BF,SEMATTRS_DB_CONNECTION_STRING:()=>PF,SEMATTRS_DB_HBASE_NAMESPACE:()=>jF,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>IF,SEMATTRS_DB_MONGODB_COLLECTION:()=>YF,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>UF,SEMATTRS_DB_NAME:()=>wF,SEMATTRS_DB_OPERATION:()=>MF,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>zF,SEMATTRS_DB_SQL_TABLE:()=>$F,SEMATTRS_DB_STATEMENT:()=>LF,SEMATTRS_DB_SYSTEM:()=>RF,SEMATTRS_DB_USER:()=>CF,SEMATTRS_ENDUSER_ID:()=>bq,SEMATTRS_ENDUSER_ROLE:()=>Aq,SEMATTRS_ENDUSER_SCOPE:()=>Nq,SEMATTRS_EXCEPTION_ESCAPED:()=>XF,SEMATTRS_EXCEPTION_MESSAGE:()=>WF,SEMATTRS_EXCEPTION_STACKTRACE:()=>JF,SEMATTRS_EXCEPTION_TYPE:()=>KF,SEMATTRS_FAAS_COLDSTART:()=>sq,SEMATTRS_FAAS_CRON:()=>oq,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>eq,SEMATTRS_FAAS_DOCUMENT_NAME:()=>nq,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>tq,SEMATTRS_FAAS_DOCUMENT_TIME:()=>rq,SEMATTRS_FAAS_EXECUTION:()=>ZF,SEMATTRS_FAAS_INVOKED_NAME:()=>aq,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>lq,SEMATTRS_FAAS_INVOKED_REGION:()=>cq,SEMATTRS_FAAS_TIME:()=>iq,SEMATTRS_FAAS_TRIGGER:()=>QF,SEMATTRS_HTTP_CLIENT_IP:()=>$q,SEMATTRS_HTTP_FLAVOR:()=>Bq,SEMATTRS_HTTP_HOST:()=>Dq,SEMATTRS_HTTP_METHOD:()=>Lq,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>qq,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>Gq,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>Hq,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>jq,SEMATTRS_HTTP_ROUTE:()=>Yq,SEMATTRS_HTTP_SCHEME:()=>kq,SEMATTRS_HTTP_SERVER_NAME:()=>zq,SEMATTRS_HTTP_STATUS_CODE:()=>Vq,SEMATTRS_HTTP_TARGET:()=>Uq,SEMATTRS_HTTP_URL:()=>Mq,SEMATTRS_HTTP_USER_AGENT:()=>Fq,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>zG,SEMATTRS_MESSAGE_ID:()=>jG,SEMATTRS_MESSAGE_TYPE:()=>HG,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>YG,SEMATTRS_MESSAGING_CONSUMER_ID:()=>RG,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>bG,SEMATTRS_MESSAGING_DESTINATION:()=>SG,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>vG,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>wG,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>IG,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>CG,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>LG,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>MG,SEMATTRS_MESSAGING_MESSAGE_ID:()=>OG,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>NG,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>AG,SEMATTRS_MESSAGING_OPERATION:()=>xG,SEMATTRS_MESSAGING_PROTOCOL:()=>EG,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>gG,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>PG,SEMATTRS_MESSAGING_SYSTEM:()=>yG,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>_G,SEMATTRS_MESSAGING_URL:()=>TG,SEMATTRS_NET_HOST_CARRIER_ICC:()=>Tq,SEMATTRS_NET_HOST_CARRIER_MCC:()=>Eq,SEMATTRS_NET_HOST_CARRIER_MNC:()=>gq,SEMATTRS_NET_HOST_CARRIER_NAME:()=>_q,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>vq,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>Sq,SEMATTRS_NET_HOST_IP:()=>hq,SEMATTRS_NET_HOST_NAME:()=>yq,SEMATTRS_NET_HOST_PORT:()=>mq,SEMATTRS_NET_PEER_IP:()=>fq,SEMATTRS_NET_PEER_NAME:()=>dq,SEMATTRS_NET_PEER_PORT:()=>pq,SEMATTRS_NET_TRANSPORT:()=>uq,SEMATTRS_PEER_SERVICE:()=>Oq,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>VG,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>qG,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>GG,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>FG,SEMATTRS_RPC_JSONRPC_VERSION:()=>BG,SEMATTRS_RPC_METHOD:()=>kG,SEMATTRS_RPC_SERVICE:()=>DG,SEMATTRS_RPC_SYSTEM:()=>UG,SEMATTRS_THREAD_ID:()=>xq,SEMATTRS_THREAD_NAME:()=>Rq,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>U6,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>M6,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>D6,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>k6,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>V6,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>B6,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>F6,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>G6,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>q6,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>j6,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>H6,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>C6,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>w6,SEMRESATTRS_CLOUD_PLATFORM:()=>L6,SEMRESATTRS_CLOUD_PROVIDER:()=>P6,SEMRESATTRS_CLOUD_REGION:()=>I6,SEMRESATTRS_CONTAINER_ID:()=>Y6,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>K6,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>W6,SEMRESATTRS_CONTAINER_NAME:()=>z6,SEMRESATTRS_CONTAINER_RUNTIME:()=>$6,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>J6,SEMRESATTRS_DEVICE_ID:()=>X6,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>Q6,SEMRESATTRS_DEVICE_MODEL_NAME:()=>Z6,SEMRESATTRS_FAAS_ID:()=>tj,SEMRESATTRS_FAAS_INSTANCE:()=>nj,SEMRESATTRS_FAAS_MAX_MEMORY:()=>ij,SEMRESATTRS_FAAS_NAME:()=>ej,SEMRESATTRS_FAAS_VERSION:()=>rj,SEMRESATTRS_HOST_ARCH:()=>lj,SEMRESATTRS_HOST_ID:()=>oj,SEMRESATTRS_HOST_IMAGE_ID:()=>uj,SEMRESATTRS_HOST_IMAGE_NAME:()=>cj,SEMRESATTRS_HOST_IMAGE_VERSION:()=>fj,SEMRESATTRS_HOST_NAME:()=>sj,SEMRESATTRS_HOST_TYPE:()=>aj,SEMRESATTRS_K8S_CLUSTER_NAME:()=>pj,SEMRESATTRS_K8S_CONTAINER_NAME:()=>vj,SEMRESATTRS_K8S_CRONJOB_NAME:()=>Cj,SEMRESATTRS_K8S_CRONJOB_UID:()=>Pj,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>Nj,SEMRESATTRS_K8S_DAEMONSET_UID:()=>Aj,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>Tj,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>gj,SEMRESATTRS_K8S_JOB_NAME:()=>Rj,SEMRESATTRS_K8S_JOB_UID:()=>xj,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>mj,SEMRESATTRS_K8S_NODE_NAME:()=>dj,SEMRESATTRS_K8S_NODE_UID:()=>hj,SEMRESATTRS_K8S_POD_NAME:()=>Sj,SEMRESATTRS_K8S_POD_UID:()=>yj,SEMRESATTRS_K8S_REPLICASET_NAME:()=>Ej,SEMRESATTRS_K8S_REPLICASET_UID:()=>_j,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>bj,SEMRESATTRS_K8S_STATEFULSET_UID:()=>Oj,SEMRESATTRS_OS_DESCRIPTION:()=>wj,SEMRESATTRS_OS_NAME:()=>Lj,SEMRESATTRS_OS_TYPE:()=>Ij,SEMRESATTRS_OS_VERSION:()=>Mj,SEMRESATTRS_PROCESS_COMMAND:()=>Vj,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>Fj,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>Bj,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>Dj,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>kj,SEMRESATTRS_PROCESS_OWNER:()=>qj,SEMRESATTRS_PROCESS_PID:()=>Uj,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>jj,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>Gj,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>Hj,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>Ph,SEMRESATTRS_SERVICE_NAME:()=>na,SEMRESATTRS_SERVICE_NAMESPACE:()=>zj,SEMRESATTRS_SERVICE_VERSION:()=>Yj,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>$j,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>Nc,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>Ac,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>xc,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>Jj,SEMRESATTRS_WEBENGINE_NAME:()=>Kj,SEMRESATTRS_WEBENGINE_VERSION:()=>Wj,SemanticAttributes:()=>nn,SemanticResourceAttributes:()=>Oe,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>Hz,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>jz,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>zz,TELEMETRYSDKLANGUAGEVALUES_GO:()=>Yz,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>$z,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>Kz,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>Wz,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>Jz,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>Xz,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>Qz,TelemetrySdkLanguageValues:()=>Ch});var Jt=y(()=>{lx();M0()});function ia(o){return o.setValue(Ih,!0)}function Zz(o){return o.deleteValue(Ih)}function Et(o){return o.getValue(Ih)===!0}var Ih,oa=y(()=>{k();Ih=Kt("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var D0,Rc,uo,Pc,wh=y(()=>{D0="=",Rc=";",uo=",",Pc="baggage"});var mr={};Ue(mr,{getKeyPairs:()=>Mh,parseKeyPairsIntoRecord:()=>tY,parsePairKeyValue:()=>Cc,serializeKeyPairs:()=>Lh});function Lh(o){return o.reduce((r,n)=>{let a=`${r}${r!==""?uo:""}${n}`;return a.length>8192?r:a},"")}function Mh(o){return o.getAllEntries().map(([r,n])=>{let a=`${encodeURIComponent(r)}=${encodeURIComponent(n.value)}`;return n.metadata!==void 0&&(a+=Rc+n.metadata.toString()),a})}function Cc(o){let r=o.split(Rc);if(r.length<=0)return;let n=r.shift();if(!n)return;let a=n.indexOf(D0);if(a<=0)return;let s=decodeURIComponent(n.substring(0,a).trim()),l=decodeURIComponent(n.substring(a+1).trim()),t;return r.length>0&&(t=pc(r.join(Rc))),{key:s,value:l,metadata:t}}function tY(o){return typeof o!="string"||o.length===0?{}:o.split(uo).map(r=>Cc(r)).filter(r=>r!==void 0&&r.value.length>0).reduce((r,n)=>(r[n.key]=n.value,r),{})}var Uh=y(()=>{k();wh()});var sa,k0=y(()=>{k();oa();wh();Uh();sa=class{inject(r,n,a){let s=Ct.getBaggage(r);if(!s||Et(r))return;let l=Mh(s).filter(e=>e.length<=4096).slice(0,180),t=Lh(l);t.length>0&&a.set(n,Pc,t)}extract(r,n,a){let s=a.get(n,Pc),l=Array.isArray(s)?s.join(uo):s;if(!l)return r;let t={};return l.length===0||(l.split(uo).forEach(i=>{let c=Cc(i);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),t[c.key]=u}}),Object.entries(t).length===0)?r:Ct.setBaggage(r,Ct.createBaggage(t))}fields(){return[Pc]}}});var Dh,V0=y(()=>{Dh=class{constructor(r,n){this._monotonicClock=n,this._epochMillis=r.now(),this._performanceMillis=n.now()}now(){let r=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+r}}});function vi(o){let r={};if(typeof o!="object"||o==null)return r;for(let[n,a]of Object.entries(o)){if(!B0(n)){A.warn(`Invalid attribute key: ${n}`);continue}if(!_i(a)){A.warn(`Invalid attribute value set for key: ${n}`);continue}Array.isArray(a)?r[n]=a.slice():r[n]=a}return r}function B0(o){return typeof o=="string"&&o.length>0}function _i(o){return o==null?!0:Array.isArray(o)?iY(o):F0(o)}function iY(o){let r;for(let n of o)if(n!=null){if(!r){if(F0(n)){r=typeof n;continue}return!1}if(typeof n!==r)return!1}return!0}function F0(o){switch(typeof o){case"number":case"boolean":case"string":return!0}return!1}var q0=y(()=>{k()});function kh(){return o=>{A.error(oY(o))}}function oY(o){return typeof o=="string"?o:JSON.stringify(sY(o))}function sY(o){let r={},n=o;for(;n!==null;)Object.getOwnPropertyNames(n).forEach(a=>{if(r[a])return;let s=n[a];s&&(r[a]=String(s))}),n=Object.getPrototypeOf(n);return r}var Vh=y(()=>{k()});function aY(o){G0=o}function we(o){try{G0(o)}catch{}}var G0,Bh=y(()=>{Vh();G0=kh()});var Vt,Fh=y(()=>{(function(o){o.AlwaysOff="always_off",o.AlwaysOn="always_on",o.ParentBasedAlwaysOff="parentbased_always_off",o.ParentBasedAlwaysOn="parentbased_always_on",o.ParentBasedTraceIdRatio="parentbased_traceidratio",o.TraceIdRatio="traceidratio"})(Vt||(Vt={}))});function uY(o){return cY.indexOf(o)>-1}function pY(o){return fY.indexOf(o)>-1}function hY(o){return dY.indexOf(o)>-1}function mY(o,r,n){if(typeof n[o]>"u")return;let a=String(n[o]);r[o]=a.toLowerCase()==="true"}function yY(o,r,n,a=-1/0,s=1/0){if(typeof n[o]<"u"){let l=Number(n[o]);isNaN(l)||(l<a?r[o]=a:l>s?r[o]=s:r[o]=l)}}function SY(o,r,n,a=lY){let s=n[o];typeof s=="string"&&(r[o]=s.split(a).map(l=>l.trim()))}function _Y(o,r,n){let a=n[o];if(typeof a=="string"){let s=vY[a.toUpperCase()];s!=null&&(r[o]=s)}}function wc(o){let r={};for(let n in Ic){let a=n;switch(a){case"OTEL_LOG_LEVEL":_Y(a,r,o);break;default:if(uY(a))mY(a,r,o);else if(pY(a))yY(a,r,o);else if(hY(a))SY(a,r,o);else{let s=o[a];typeof s<"u"&&s!==null&&(r[a]=String(s))}}}return r}var lY,cY,fY,dY,Rn,Pn,H0,j0,Ic,vY,qh=y(()=>{k();Fh();lY=",",cY=["OTEL_SDK_DISABLED"];fY=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];dY=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];Rn=1/0,Pn=128,H0=128,j0=128,Ic={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Pe.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Rn,OTEL_ATTRIBUTE_COUNT_LIMIT:Pn,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Rn,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Pn,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Rn,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Pn,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:H0,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:j0,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Vt.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};vY={ALL:Pe.ALL,VERBOSE:Pe.VERBOSE,DEBUG:Pe.DEBUG,INFO:Pe.INFO,WARN:Pe.WARN,ERROR:Pe.ERROR,NONE:Pe.NONE}});function ee(){let o=wc(process.env);return Object.assign({},Ic,o)}function fo(){return wc(process.env)}var z0=y(()=>{qh()});var EY,Y0=y(()=>{EY=typeof globalThis=="object"?globalThis:global});function $0(o){return o>=48&&o<=57?o-48:o>=97&&o<=102?o-87:o-55}function Ei(o){let r=new Uint8Array(o.length/2),n=0;for(let a=0;a<o.length;a+=2){let s=$0(o.charCodeAt(a)),l=$0(o.charCodeAt(a+1));r[n++]=s<<4|l}return r}var Gh=y(()=>{});function gY(o){return Buffer.from(Ei(o)).toString("base64")}var K0=y(()=>{Gh()});function W0(o){return function(){for(let n=0;n<o/4;n++)Lc.writeUInt32BE(Math.random()*2**32>>>0,n*4);for(let n=0;n<o&&!(Lc[n]>0);n++)n===o-1&&(Lc[o-1]=1);return Lc.toString("hex",0,o)}}var Hh,Lc,J0=y(()=>{Hh=class{constructor(){this.generateTraceId=W0(16),this.generateSpanId=W0(8)}},Lc=Buffer.allocUnsafe(16)});import{performance as TY}from"perf_hooks";var on,X0=y(()=>{on=TY});var jh,zh=y(()=>{jh="1.24.1"});var aa,Q0=y(()=>{zh();Jt();aa={[Oe.TELEMETRY_SDK_NAME]:"opentelemetry",[Oe.PROCESS_RUNTIME_NAME]:"node",[Oe.TELEMETRY_SDK_LANGUAGE]:Ch.NODEJS,[Oe.TELEMETRY_SDK_VERSION]:jh}});function gi(o){o.unref()}var Z0=y(()=>{});var eP=y(()=>{z0();Y0();K0();J0();X0();Q0();Z0()});var Yh=y(()=>{eP()});function mt(o){let r=o/1e3,n=Math.trunc(r),a=Math.round(o%1e3*bY);return[n,a]}function la(){let o=on.timeOrigin;if(typeof o!="number"){let r=on;o=r.timing&&r.timing.fetchStart}return o}function Uc(o){let r=mt(la()),n=mt(typeof o=="number"?o:on.now());return Vc(r,n)}function Dc(o){if(ca(o))return o;if(typeof o=="number")return o<la()?Uc(o):mt(o);if(o instanceof Date)return mt(o.getTime());throw TypeError("Invalid input type")}function $h(o,r){let n=r[0]-o[0],a=r[1]-o[1];return a<0&&(n-=1,a+=Mc),[n,a]}function AY(o){let r=tP,n=`${"0".repeat(r)}${o[1]}Z`,a=n.substr(n.length-r-1);return new Date(o[0]*1e3).toISOString().replace("000Z",a)}function Kh(o){return o[0]*Mc+o[1]}function NY(o){return o[0]*1e3+o[1]/1e6}function gt(o){return o[0]*1e6+o[1]/1e3}function ca(o){return Array.isArray(o)&&o.length===2&&typeof o[0]=="number"&&typeof o[1]=="number"}function kc(o){return ca(o)||typeof o=="number"||o instanceof Date}function Vc(o,r){let n=[o[0]+r[0],o[1]+r[1]];return n[1]>=Mc&&(n[1]-=Mc,n[0]+=1),n}var tP,OY,bY,Mc,rP=y(()=>{Yh();tP=9,OY=6,bY=Math.pow(10,OY),Mc=Math.pow(10,tP)});var nP=y(()=>{});var oe,iP=y(()=>{(function(o){o[o.SUCCESS=0]="SUCCESS",o[o.FAILED=1]="FAILED"})(oe||(oe={}))});var ua,oP=y(()=>{k();ua=class{constructor(r={}){var n;this._propagators=(n=r.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(a=>typeof a.fields=="function"?a.fields():[]).reduce((a,s)=>a.concat(s),[])))}inject(r,n,a){for(let s of this._propagators)try{s.inject(r,n,a)}catch(l){A.warn(`Failed to inject with ${s.constructor.name}. Err: ${l.message}`)}}extract(r,n,a){return this._propagators.reduce((s,l)=>{try{return l.extract(s,n,a)}catch(t){A.warn(`Failed to inject with ${l.constructor.name}. Err: ${t.message}`)}return s},r)}fields(){return this._fields.slice()}}});function sP(o){return PY.test(o)}function aP(o){return CY.test(o)&&!IY.test(o)}var Wh,xY,RY,PY,CY,IY,lP=y(()=>{Wh="[_0-9a-z-*/]",xY=`[a-z]${Wh}{0,255}`,RY=`[a-z0-9]${Wh}{0,240}@[a-z]${Wh}{0,13}`,PY=new RegExp(`^(?:${xY}|${RY})$`),CY=/^[ -~]{0,255}[!-~]$/,IY=/,|=/});var cP,wY,uP,fP,fa,Jh=y(()=>{lP();cP=32,wY=512,uP=",",fP="=",fa=class o{constructor(r){this._internalState=new Map,r&&this._parse(r)}set(r,n){let a=this._clone();return a._internalState.has(r)&&a._internalState.delete(r),a._internalState.set(r,n),a}unset(r){let n=this._clone();return n._internalState.delete(r),n}get(r){return this._internalState.get(r)}serialize(){return this._keys().reduce((r,n)=>(r.push(n+fP+this.get(n)),r),[]).join(uP)}_parse(r){r.length>wY||(this._internalState=r.split(uP).reverse().reduce((n,a)=>{let s=a.trim(),l=s.indexOf(fP);if(l!==-1){let t=s.slice(0,l),e=s.slice(l+1,a.length);sP(t)&&aP(e)&&n.set(t,e)}return n},new Map),this._internalState.size>cP&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,cP))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let r=new o;return r._internalState=new Map(this._internalState),r}}});function pP(o){let r=VY.exec(o);return!r||r[1]==="00"&&r[5]?null:{traceId:r[2],spanId:r[3],traceFlags:parseInt(r[4],16)}}var Bc,Fc,LY,MY,UY,DY,kY,VY,pa,dP=y(()=>{k();oa();Jh();Bc="traceparent",Fc="tracestate",LY="00",MY="(?!ff)[\\da-f]{2}",UY="(?![0]{32})[\\da-f]{32}",DY="(?![0]{16})[\\da-f]{16}",kY="[\\da-f]{2}",VY=new RegExp(`^\\s?(${MY})-(${UY})-(${DY})-(${kY})(-.*)?\\s?$`);pa=class{inject(r,n,a){let s=Se.getSpanContext(r);if(!s||Et(r)||!Xe(s))return;let l=`${LY}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||Ee.NONE).toString(16)}`;a.set(n,Bc,l),s.traceState&&a.set(n,Fc,s.traceState.serialize())}extract(r,n,a){let s=a.get(n,Bc);if(!s)return r;let l=Array.isArray(s)?s[0]:s;if(typeof l!="string")return r;let t=pP(l);if(!t)return r;t.isRemote=!0;let e=a.get(n,Fc);if(e){let i=Array.isArray(e)?e.join(","):e;t.traceState=new fa(typeof i=="string"?i:void 0)}return Se.setSpanContext(r,t)}fields(){return[Bc,Fc]}}});var hP=y(()=>{});function BY(o,r){return o.setValue(Qh,r)}function FY(o){return o.deleteValue(Qh)}function qY(o){return o.getValue(Qh)}var Qh,Xh,mP=y(()=>{k();Qh=Kt("OpenTelemetry SDK Context Key RPC_METADATA");(function(o){o.HTTP="http"})(Xh||(Xh={}))});var po,Zh=y(()=>{k();po=class{shouldSample(){return{decision:Pt.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var Ti,em=y(()=>{k();Ti=class{shouldSample(){return{decision:Pt.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var tm,yP=y(()=>{k();Bh();Zh();em();tm=class{constructor(r){var n,a,s,l;this._root=r.root,this._root||(we(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Ti),this._remoteParentSampled=(n=r.remoteParentSampled)!==null&&n!==void 0?n:new Ti,this._remoteParentNotSampled=(a=r.remoteParentNotSampled)!==null&&a!==void 0?a:new po,this._localParentSampled=(s=r.localParentSampled)!==null&&s!==void 0?s:new Ti,this._localParentNotSampled=(l=r.localParentNotSampled)!==null&&l!==void 0?l:new po}shouldSample(r,n,a,s,l,t){let e=Se.getSpanContext(r);return!e||!Xe(e)?this._root.shouldSample(r,n,a,s,l,t):e.isRemote?e.traceFlags&Ee.SAMPLED?this._remoteParentSampled.shouldSample(r,n,a,s,l,t):this._remoteParentNotSampled.shouldSample(r,n,a,s,l,t):e.traceFlags&Ee.SAMPLED?this._localParentSampled.shouldSample(r,n,a,s,l,t):this._localParentNotSampled.shouldSample(r,n,a,s,l,t)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var rm,SP=y(()=>{k();rm=class{constructor(r=0){this._ratio=r,this._ratio=this._normalize(r),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(r,n){return{decision:hr(n)&&this._accumulate(n)<this._upperBound?Pt.RECORD_AND_SAMPLED:Pt.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(r){return typeof r!="number"||isNaN(r)?0:r>=1?1:r<=0?0:r}_accumulate(r){let n=0;for(let a=0;a<r.length/8;a++){let s=a*8,l=parseInt(r.slice(s,s+8),16);n=(n^l)>>>0}return n}}});function KY(o,r){return function(n){return o(r(n))}}function nm(o){if(!WY(o)||JY(o)!==GY)return!1;let r=$Y(o);if(r===null)return!0;let n=EP.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&vP.call(n)===YY}function WY(o){return o!=null&&typeof o=="object"}function JY(o){return o==null?o===void 0?jY:HY:Oi&&Oi in Object(o)?XY(o):QY(o)}function XY(o){let r=EP.call(o,Oi),n=o[Oi],a=!1;try{o[Oi]=void 0,a=!0}catch{}let s=gP.call(o);return a&&(r?o[Oi]=n:delete o[Oi]),s}function QY(o){return gP.call(o)}var GY,HY,jY,zY,vP,YY,$Y,_P,EP,Oi,gP,TP=y(()=>{GY="[object Object]",HY="[object Null]",jY="[object Undefined]",zY=Function.prototype,vP=zY.toString,YY=vP.call(Object),$Y=KY(Object.getPrototypeOf,Object),_P=Object.prototype,EP=_P.hasOwnProperty,Oi=Symbol?Symbol.toStringTag:void 0,gP=_P.toString});function ha(...o){let r=o.shift(),n=new WeakMap;for(;o.length>0;)r=bP(r,o.shift(),0,n);return r}function im(o){return Gc(o)?o.slice():o}function bP(o,r,n=0,a){let s;if(!(n>ZY)){if(n++,qc(o)||qc(r)||AP(r))s=im(r);else if(Gc(o)){if(s=o.slice(),Gc(r))for(let l=0,t=r.length;l<t;l++)s.push(im(r[l]));else if(da(r)){let l=Object.keys(r);for(let t=0,e=l.length;t<e;t++){let i=l[t];s[i]=im(r[i])}}}else if(da(o))if(da(r)){if(!e$(o,r))return r;s=Object.assign({},o);let l=Object.keys(r);for(let t=0,e=l.length;t<e;t++){let i=l[t],c=r[i];if(qc(c))typeof c>"u"?delete s[i]:s[i]=c;else{let u=s[i],f=c;if(OP(o,i,a)||OP(r,i,a))delete s[i];else{if(da(u)&&da(f)){let v=a.get(u)||[],_=a.get(f)||[];v.push({obj:o,key:i}),_.push({obj:r,key:i}),a.set(u,v),a.set(f,_)}s[i]=bP(s[i],c,n,a)}}}}else s=r;return s}}function OP(o,r,n){let a=n.get(o[r])||[];for(let s=0,l=a.length;s<l;s++){let t=a[s];if(t.key===r&&t.obj===o)return!0}return!1}function Gc(o){return Array.isArray(o)}function AP(o){return typeof o=="function"}function da(o){return!qc(o)&&!Gc(o)&&!AP(o)&&typeof o=="object"}function qc(o){return typeof o=="string"||typeof o=="number"||typeof o=="boolean"||typeof o>"u"||o instanceof Date||o instanceof RegExp||o===null}function e$(o,r){return!(!nm(o)||!nm(r))}var ZY,NP=y(()=>{TP();ZY=20});function ma(o,r){let n,a=new Promise(function(l,t){n=setTimeout(function(){t(new Hc("Operation timed out."))},r)});return Promise.race([o,a]).then(s=>(clearTimeout(n),s),s=>{throw clearTimeout(n),s})}var Hc,xP=y(()=>{Hc=class o extends Error{constructor(r){super(r),Object.setPrototypeOf(this,o.prototype)}}});function RP(o,r){return typeof r=="string"?o===r:!!o.match(r)}function t$(o,r){if(!r)return!1;for(let n of r)if(RP(o,n))return!0;return!1}var PP=y(()=>{});function r$(o){return typeof o=="function"&&typeof o.__original=="function"&&typeof o.__unwrap=="function"&&o.__wrapped===!0}var CP=y(()=>{});var jc,IP=y(()=>{jc=class{constructor(){this._promise=new Promise((r,n)=>{this._resolve=r,this._reject=n})}get promise(){return this._promise}resolve(r){this._resolve(r)}reject(r){this._reject(r)}}});var at,wP=y(()=>{IP();at=class{constructor(r,n){this._callback=r,this._that=n,this._isCalled=!1,this._deferred=new jc}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...r){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...r)).then(n=>this._deferred.resolve(n),n=>this._deferred.reject(n))}catch(n){this._deferred.reject(n)}}return this._deferred.promise}}});function LP(o,r){return new Promise(n=>{Ke.with(ia(Ke.active()),()=>{o.export(r,a=>{n(a)})})})}var MP=y(()=>{k();oa()});var bi={};Ue(bi,{AlwaysOffSampler:()=>po,AlwaysOnSampler:()=>Ti,AnchoredClock:()=>Dh,BindOnceFuture:()=>at,CompositePropagator:()=>ua,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>Pn,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>Rn,DEFAULT_ENVIRONMENT:()=>Ic,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>H0,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>j0,ExportResultCode:()=>oe,ParentBasedSampler:()=>tm,RPCType:()=>Xh,RandomIdGenerator:()=>Hh,SDK_INFO:()=>aa,TRACE_PARENT_HEADER:()=>Bc,TRACE_STATE_HEADER:()=>Fc,TimeoutError:()=>Hc,TraceIdRatioBasedSampler:()=>rm,TraceState:()=>fa,TracesSamplerValues:()=>Vt,VERSION:()=>jh,W3CBaggagePropagator:()=>sa,W3CTraceContextPropagator:()=>pa,_globalThis:()=>EY,addHrTimes:()=>Vc,baggageUtils:()=>mr,callWithTimeout:()=>ma,deleteRPCMetadata:()=>FY,getEnv:()=>ee,getEnvWithoutDefaults:()=>fo,getRPCMetadata:()=>qY,getTimeOrigin:()=>la,globalErrorHandler:()=>we,hexToBase64:()=>gY,hexToBinary:()=>Ei,hrTime:()=>Uc,hrTimeDuration:()=>$h,hrTimeToMicroseconds:()=>gt,hrTimeToMilliseconds:()=>NY,hrTimeToNanoseconds:()=>Kh,hrTimeToTimeStamp:()=>AY,internal:()=>sn,isAttributeKey:()=>B0,isAttributeValue:()=>_i,isTimeInput:()=>kc,isTimeInputHrTime:()=>ca,isTracingSuppressed:()=>Et,isUrlIgnored:()=>t$,isWrapped:()=>r$,loggingErrorHandler:()=>kh,merge:()=>ha,millisToHrTime:()=>mt,otperformance:()=>on,parseEnvironment:()=>wc,parseTraceParent:()=>pP,sanitizeAttributes:()=>vi,setGlobalErrorHandler:()=>aY,setRPCMetadata:()=>BY,suppressTracing:()=>ia,timeInputToHrTime:()=>Dc,unrefTimer:()=>gi,unsuppressTracing:()=>Zz,urlMatches:()=>RP});var sn,Z=y(()=>{k0();V0();q0();Bh();Vh();rP();nP();Gh();iP();Uh();Yh();oP();dP();hP();mP();Zh();em();yP();SP();oa();Jh();qh();NP();Fh();xP();PP();CP();wP();zh();MP();sn={_export:LP}});function ho(){return`unknown_service:${process.argv0}`}var UP=y(()=>{});var DP=y(()=>{UP()});var om=y(()=>{DP()});var he,an=y(()=>{k();Jt();Z();om();he=class o{constructor(r,n){var a;this._attributes=r,this.asyncAttributesPending=n!=null,this._syncAttributes=(a=this._attributes)!==null&&a!==void 0?a:{},this._asyncAttributesPromise=n==null?void 0:n.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(A.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return o.EMPTY}static default(){return new o({[na]:ho(),[Nc]:aa[Nc],[Ac]:aa[Ac],[xc]:aa[xc]})}get attributes(){var r;return this.asyncAttributesPending&&A.error("Accessing resource attributes before async attributes settled"),(r=this._attributes)!==null&&r!==void 0?r:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(r){var n;if(!r)return this;let a=Object.assign(Object.assign({},this._syncAttributes),(n=r._syncAttributes)!==null&&n!==void 0?n:r.attributes);if(!this._asyncAttributesPromise&&!r._asyncAttributesPromise)return new o(a);let s=Promise.all([this._asyncAttributesPromise,r._asyncAttributesPromise]).then(([l,t])=>{var e;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),l),(e=r._syncAttributes)!==null&&e!==void 0?e:r.attributes),t)});return new o(a,s)}};he.EMPTY=new he({})});var kP,VP,sm=y(()=>{kP=o=>{switch(o){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return o}},VP=o=>{switch(o){case"sunos":return"solaris";case"win32":return"windows";default:return o}}});import*as BP from"child_process";import*as FP from"util";var mo,zc=y(()=>{mo=FP.promisify(BP.exec)});var qP={};Ue(qP,{getMachineId:()=>n$});async function n$(){try{let r=(await mo('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(a=>a.includes("IOPlatformUUID"));if(!r)return"";let n=r.split('" = "');if(n.length===2)return n[1].slice(0,-1)}catch(o){A.debug(`error reading machine id: ${o}`)}return""}var GP=y(()=>{zc();k()});var HP={};Ue(HP,{getMachineId:()=>o$});import{promises as i$}from"fs";async function o$(){let o=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let r of o)try{return(await i$.readFile(r,{encoding:"utf8"})).trim()}catch(n){A.debug(`error reading machine id: ${n}`)}return""}var jP=y(()=>{k()});var zP={};Ue(zP,{getMachineId:()=>a$});import{promises as s$}from"fs";async function a$(){try{return(await s$.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(o){A.debug(`error reading machine id: ${o}`)}try{return(await mo("kenv -q smbios.system.uuid")).stdout.trim()}catch(o){A.debug(`error reading machine id: ${o}`)}return""}var YP=y(()=>{zc();k()});var $P={};Ue($P,{getMachineId:()=>l$});import*as Yc from"process";async function l$(){let o="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",r="%windir%\\System32\\REG.exe";Yc.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in Yc.env&&(r="%windir%\\sysnative\\cmd.exe /c "+r);try{let a=(await mo(`${r} ${o}`)).stdout.split("REG_SZ");if(a.length===2)return a[1].trim()}catch(n){A.debug(`error reading machine id: ${n}`)}return""}var KP=y(()=>{zc();k()});var WP={};Ue(WP,{getMachineId:()=>c$});async function c$(){return A.debug("could not read machine-id: unsupported platform"),""}var JP=y(()=>{k()});import*as XP from"process";var Ai,QP=y(()=>{switch(XP.platform){case"darwin":({getMachineId:Ai}=(GP(),ie(qP)));break;case"linux":({getMachineId:Ai}=(jP(),ie(HP)));break;case"freebsd":({getMachineId:Ai}=(YP(),ie(zP)));break;case"win32":({getMachineId:Ai}=(KP(),ie($P)));break;default:({getMachineId:Ai}=(JP(),ie(WP)))}});import{arch as u$,hostname as f$}from"os";var am,Ni,lm=y(()=>{Jt();an();sm();QP();am=class{detect(r){let n={[Oe.HOST_NAME]:f$(),[Oe.HOST_ARCH]:kP(u$())};return new he(n,this._getAsyncAttributes())}_getAsyncAttributes(){return Ai().then(r=>{let n={};return r&&(n[Oe.HOST_ID]=r),n})}},Ni=new am});var cm,ya,ZP=y(()=>{lm();cm=class{detect(r){return Promise.resolve(Ni.detect(r))}},ya=new cm});import{platform as p$,release as d$}from"os";var um,xi,fm=y(()=>{Jt();an();sm();um=class{detect(r){let n={[Oe.OS_TYPE]:VP(p$()),[Oe.OS_VERSION]:d$()};return new he(n)}},xi=new um});var pm,Sa,eC=y(()=>{fm();pm=class{detect(r){return Promise.resolve(xi.detect(r))}},Sa=new pm});import*as tC from"os";var dm,Ri,hm=y(()=>{k();Jt();an();dm=class{detect(r){let n={[Oe.PROCESS_PID]:process.pid,[Oe.PROCESS_EXECUTABLE_NAME]:process.title,[Oe.PROCESS_EXECUTABLE_PATH]:process.execPath,[Oe.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Oe.PROCESS_RUNTIME_VERSION]:process.versions.node,[Oe.PROCESS_RUNTIME_NAME]:"nodejs",[Oe.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(n[Oe.PROCESS_COMMAND]=process.argv[1]);try{let a=tC.userInfo();n[Oe.PROCESS_OWNER]=a.username}catch(a){A.debug(`error obtaining process owner: ${a}`)}return new he(n)}},Ri=new dm});var mm,va,rC=y(()=>{hm();mm=class{detect(r){return Promise.resolve(Ri.detect(r))}},va=new mm});import{randomUUID as h$}from"crypto";var ym,_a,nC=y(()=>{Jt();an();ym=class{detect(r){let n={[Ph]:h$()};return new he(n)}},_a=new ym});var iC=y(()=>{ZP();lm();eC();fm();rC();hm();nC()});var oC=y(()=>{iC()});var Sm,Ea,vm=y(()=>{Jt();k();an();Sm=class{detect(r){var n,a,s;if(!(typeof navigator<"u"&&((a=(n=global.process)===null||n===void 0?void 0:n.versions)===null||a===void 0?void 0:a.node)===void 0&&((s=global.Bun)===null||s===void 0?void 0:s.version)===void 0))return he.empty();let t={[Oe.PROCESS_RUNTIME_NAME]:"browser",[Oe.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Oe.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(t,r)}_getResourceAttributes(r,n){return r[Oe.PROCESS_RUNTIME_VERSION]===""?(A.debug("BrowserDetector failed: Unable to find required browser resources. "),he.empty()):new he(Object.assign({},r))}},Ea=new Sm});var _m,Em,sC=y(()=>{vm();_m=class{detect(r){return Promise.resolve(Ea.detect(r))}},Em=new _m});var gm,ga,Tm=y(()=>{k();Z();Jt();an();gm=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(r){let n={},a=ee(),s=a.OTEL_RESOURCE_ATTRIBUTES,l=a.OTEL_SERVICE_NAME;if(s)try{let t=this._parseResourceAttributes(s);Object.assign(n,t)}catch(t){A.debug(`EnvDetector failed: ${t.message}`)}return l&&(n[na]=l),new he(n)}_parseResourceAttributes(r){if(!r)return{};let n={},a=r.split(this._COMMA_SEPARATOR,-1);for(let s of a){let l=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(l.length!==2)continue;let[t,e]=l;if(t=t.trim(),e=e.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(t))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(e))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);n[t]=decodeURIComponent(e)}return n}_isValid(r){return r.length<=this._MAX_LENGTH&&this._isBaggageOctetString(r)}_isBaggageOctetString(r){for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<33||a===44||a===59||a===92||a>126)return!1}return!0}_isValidAndNotEmpty(r){return r.length>0&&this._isValid(r)}},ga=new gm});var Om,bm,aC=y(()=>{Tm();Om=class{detect(r){return Promise.resolve(ga.detect(r))}},bm=new Om});var lC=y(()=>{oC();sC();aC();vm();Tm()});var cC,uC=y(()=>{cC=o=>o!==null&&typeof o=="object"&&typeof o.then=="function"});var fC,pC,dC,hC=y(()=>{an();k();uC();fC=async(o={})=>{let r=await Promise.all((o.detectors||[]).map(async n=>{try{let a=await n.detect(o);return A.debug(`${n.constructor.name} found resource.`,a),a}catch(a){return A.debug(`${n.constructor.name} failed: ${a.message}`),he.empty()}}));return dC(r),r.reduce((n,a)=>n.merge(a),he.empty())},pC=(o={})=>{var r;let n=((r=o.detectors)!==null&&r!==void 0?r:[]).map(s=>{try{let l=s.detect(o),t;if(cC(l)){let e=async()=>(await l).attributes;t=new he({},e())}else t=l;return t.waitForAsyncAttributes?t.waitForAsyncAttributes().then(()=>A.debug(`${s.constructor.name} found resource.`,t)):A.debug(`${s.constructor.name} found resource.`,t),t}catch(l){return A.error(`${s.constructor.name} failed: ${l.message}`),he.empty()}}),a=n.reduce((s,l)=>s.merge(l),he.empty());return a.waitForAsyncAttributes&&a.waitForAsyncAttributes().then(()=>{dC(n)}),a},dC=o=>{o.forEach(r=>{if(Object.keys(r.attributes).length>0){let n=JSON.stringify(r.attributes,null,4);A.verbose(n)}})}});var $c={};Ue($c,{Resource:()=>he,browserDetector:()=>Em,browserDetectorSync:()=>Ea,defaultServiceName:()=>ho,detectResources:()=>fC,detectResourcesSync:()=>pC,envDetector:()=>bm,envDetectorSync:()=>ga,hostDetector:()=>ya,hostDetectorSync:()=>Ni,osDetector:()=>Sa,osDetectorSync:()=>xi,processDetector:()=>va,processDetectorSync:()=>Ri,serviceInstanceIdDetectorSync:()=>_a});var Cn=y(()=>{an();om();lC();hC()});var mC=y(()=>{});var yC=y(()=>{});var Am,SC=y(()=>{(function(o){o[o.UNSPECIFIED=0]="UNSPECIFIED",o[o.TRACE=1]="TRACE",o[o.TRACE2=2]="TRACE2",o[o.TRACE3=3]="TRACE3",o[o.TRACE4=4]="TRACE4",o[o.DEBUG=5]="DEBUG",o[o.DEBUG2=6]="DEBUG2",o[o.DEBUG3=7]="DEBUG3",o[o.DEBUG4=8]="DEBUG4",o[o.INFO=9]="INFO",o[o.INFO2=10]="INFO2",o[o.INFO3=11]="INFO3",o[o.INFO4=12]="INFO4",o[o.WARN=13]="WARN",o[o.WARN2=14]="WARN2",o[o.WARN3=15]="WARN3",o[o.WARN4=16]="WARN4",o[o.ERROR=17]="ERROR",o[o.ERROR2=18]="ERROR2",o[o.ERROR3=19]="ERROR3",o[o.ERROR4=20]="ERROR4",o[o.FATAL=21]="FATAL",o[o.FATAL2=22]="FATAL2",o[o.FATAL3=23]="FATAL3",o[o.FATAL4=24]="FATAL4"})(Am||(Am={}))});var vC=y(()=>{});var _C=y(()=>{});var yo,Nm,xm=y(()=>{yo=class{emit(r){}},Nm=new yo});var Kc,Wc,Rm=y(()=>{xm();Kc=class{getLogger(r,n,a){return new yo}},Wc=new Kc});var EC,gC=y(()=>{EC=typeof globalThis=="object"?globalThis:global});var TC=y(()=>{gC()});var OC=y(()=>{TC()});function bC(o,r,n){return a=>a===o?r:n}var Ta,So,Pm,AC=y(()=>{OC();Ta=Symbol.for("io.opentelemetry.js.api.logs"),So=EC;Pm=1});var Jc,NC=y(()=>{AC();Rm();Jc=class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalLoggerProvider(r){return So[Ta]?this.getLoggerProvider():(So[Ta]=bC(Pm,r,Wc),r)}getLoggerProvider(){var r,n;return(n=(r=So[Ta])===null||r===void 0?void 0:r.call(So,Pm))!==null&&n!==void 0?n:Wc}getLogger(r,n,a){return this.getLoggerProvider().getLogger(r,n,a)}disable(){delete So[Ta]}}});var xC={};Ue(xC,{NOOP_LOGGER:()=>Nm,NOOP_LOGGER_PROVIDER:()=>Wc,NoopLogger:()=>yo,NoopLoggerProvider:()=>Kc,SeverityNumber:()=>Am,logs:()=>Oa});var Oa,ba=y(()=>{mC();yC();SC();vC();_C();xm();Rm();NC();Oa=Jc.getInstance()});var vo,Cm=y(()=>{k();k();Z();vo=class{constructor(r,n,a){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;let{timestamp:s,observedTimestamp:l,severityNumber:t,severityText:e,body:i,attributes:c={},context:u}=a,f=Date.now();if(this.hrTime=Dc(s??f),this.hrTimeObserved=Dc(l??f),u){let v=Se.getSpanContext(u);v&&Xe(v)&&(this.spanContext=v)}this.severityNumber=t,this.severityText=e,this.body=i,this.resource=r.resource,this.instrumentationScope=n,this._logRecordLimits=r.logRecordLimits,this.setAttributes(c)}set severityText(r){this._isLogRecordReadonly()||(this._severityText=r)}get severityText(){return this._severityText}set severityNumber(r){this._isLogRecordReadonly()||(this._severityNumber=r)}get severityNumber(){return this._severityNumber}set body(r){this._isLogRecordReadonly()||(this._body=r)}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}setAttribute(r,n){return this._isLogRecordReadonly()?this:n===null?this:r.length===0?(A.warn(`Invalid attribute key: ${r}`),this):!_i(n)&&!(typeof n=="object"&&!Array.isArray(n)&&Object.keys(n).length>0)?(A.warn(`Invalid attribute value set for key: ${r}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,r)?(this.droppedAttributesCount===1&&A.warn("Dropping extra attributes."),this):(_i(n)?this.attributes[r]=this._truncateToSize(n):this.attributes[r]=n,this))}setAttributes(r){for(let[n,a]of Object.entries(r))this.setAttribute(n,a);return this}setBody(r){return this.body=r,this}setSeverityNumber(r){return this.severityNumber=r,this}setSeverityText(r){return this.severityText=r,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(r){let n=this._logRecordLimits.attributeValueLengthLimit;return n<=0?(A.warn(`Attribute value limit must be positive, got ${n}`),r):typeof r=="string"?this._truncateToLimitUtil(r,n):Array.isArray(r)?r.map(a=>typeof a=="string"?this._truncateToLimitUtil(a,n):a):r}_truncateToLimitUtil(r,n){return r.length<=n?r:r.substring(0,n)}_isLogRecordReadonly(){return this._isReadonly&&A.warn("Can not execute the operation on emitted log record"),this._isReadonly}}});var Xc,RC=y(()=>{k();Cm();Xc=class{constructor(r,n){this.instrumentationScope=r,this._sharedState=n}emit(r){let n=r.context||Ke.active(),a=new vo(this._sharedState,this.instrumentationScope,Object.assign({context:n},r));this._sharedState.activeProcessor.onEmit(a,n),a._makeReadonly()}}});function PC(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:ee().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ee().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0}}function CC(o){var r,n,a,s,l,t;let e=fo();return{attributeCountLimit:(a=(n=(r=o.attributeCountLimit)!==null&&r!==void 0?r:e.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)!==null&&n!==void 0?n:e.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:Pn,attributeValueLengthLimit:(t=(l=(s=o.attributeValueLengthLimit)!==null&&s!==void 0?s:e.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&l!==void 0?l:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&t!==void 0?t:Rn}}var IC=y(()=>{Z()});var Qc,wC=y(()=>{Z();Qc=class{constructor(r,n){this.processors=r,this.forceFlushTimeoutMillis=n}async forceFlush(){let r=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(n=>ma(n.forceFlush(),r)))}onEmit(r,n){this.processors.forEach(a=>a.onEmit(r,n))}async shutdown(){await Promise.all(this.processors.map(r=>r.shutdown()))}}});var _o,Im=y(()=>{_o=class{forceFlush(){return Promise.resolve()}onEmit(r,n){}shutdown(){return Promise.resolve()}}});var Zc,LC=y(()=>{Im();Zc=class{constructor(r,n,a){this.resource=r,this.forceFlushTimeoutMillis=n,this.logRecordLimits=a,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new _o}}});var m$,eu,MC=y(()=>{k();ba();Cn();Z();RC();IC();wC();LC();m$="unknown",eu=class{constructor(r={}){var n;let a=ha({},PC(),r),s=he.default().merge((n=a.resource)!==null&&n!==void 0?n:he.empty());this._sharedState=new Zc(s,a.forceFlushTimeoutMillis,CC(a.logRecordLimits)),this._shutdownOnce=new at(this._shutdown,this)}getLogger(r,n,a){if(this._shutdownOnce.isCalled)return A.warn("A shutdown LoggerProvider cannot provide a Logger"),Nm;r||A.warn("Logger requested without instrumentation scope name.");let s=r||m$,l=`${s}@${n||""}:${(a==null?void 0:a.schemaUrl)||""}`;return this._sharedState.loggers.has(l)||this._sharedState.loggers.set(l,new Xc({name:s,version:n,schemaUrl:a==null?void 0:a.schemaUrl},this._sharedState)),this._sharedState.loggers.get(l)}addLogRecordProcessor(r){this._sharedState.registeredLogRecordProcessors.length===0&&this._sharedState.activeProcessor.shutdown().catch(n=>A.error("Error while trying to shutdown current log record processor",n)),this._sharedState.registeredLogRecordProcessors.push(r),this._sharedState.activeProcessor=new Qc(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){return this._shutdownOnce.isCalled?(A.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(A.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}});var tu,UC=y(()=>{Z();Z();tu=class{export(r,n){this._sendLogRecords(r,n)}shutdown(){return Promise.resolve()}_exportInfo(r){var n,a,s;return{timestamp:gt(r.hrTime),traceId:(n=r.spanContext)===null||n===void 0?void 0:n.traceId,spanId:(a=r.spanContext)===null||a===void 0?void 0:a.spanId,traceFlags:(s=r.spanContext)===null||s===void 0?void 0:s.traceFlags,severityText:r.severityText,severityNumber:r.severityNumber,body:r.body,attributes:r.attributes}}_sendLogRecords(r,n){for(let a of r)console.dir(this._exportInfo(a),{depth:3});n==null||n({code:oe.SUCCESS})}}});var ru,DC=y(()=>{Z();ru=class{constructor(r){this._exporter=r,this._shutdownOnce=new at(this._shutdown,this),this._unresolvedExports=new Set}onEmit(r){var n,a;if(this._shutdownOnce.isCalled)return;let s=()=>sn._export(this._exporter,[r]).then(l=>{var t;l.code!==oe.SUCCESS&&we((t=l.error)!==null&&t!==void 0?t:new Error(`SimpleLogRecordProcessor: log record export failed (status ${l})`))}).catch(we);if(r.resource.asyncAttributesPending){let l=(a=(n=r.resource).waitForAsyncAttributes)===null||a===void 0?void 0:a.call(n).then(()=>(this._unresolvedExports.delete(l),s()),we);l!=null&&this._unresolvedExports.add(l)}else s()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var nu,kC=y(()=>{Z();nu=class{constructor(){this._finishedLogRecords=[],this._stopped=!1}export(r,n){if(this._stopped)return n({code:oe.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...r),n({code:oe.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}});var iu,VC=y(()=>{k();Z();iu=class{constructor(r,n){var a,s,l,t;this._exporter=r,this._finishedLogRecords=[];let e=ee();this._maxExportBatchSize=(a=n==null?void 0:n.maxExportBatchSize)!==null&&a!==void 0?a:e.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=(s=n==null?void 0:n.maxQueueSize)!==null&&s!==void 0?s:e.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=(l=n==null?void 0:n.scheduledDelayMillis)!==null&&l!==void 0?l:e.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=(t=n==null?void 0:n.exportTimeoutMillis)!==null&&t!==void 0?t:e.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new at(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(A.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(r){this._shutdownOnce.isCalled||this._addToBuffer(r)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(r){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(r),this._maybeStartTimer())}_flushAll(){return new Promise((r,n)=>{let a=[],s=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let l=0;l<s;l++)a.push(this._flushOneBatch());Promise.all(a).then(()=>{r()}).catch(n)})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((r,n)=>{ma(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>r()).catch(n)})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{we(r)})},this._scheduledDelayMillis),gi(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}_export(r){let n=()=>sn._export(this._exporter,r).then(s=>{var l;s.code!==oe.SUCCESS&&we((l=s.error)!==null&&l!==void 0?l:new Error(`BatchLogRecordProcessor: log record export failed (status ${s})`))}).catch(we),a=r.map(s=>s.resource).filter(s=>s.asyncAttributesPending);return a.length===0?n():Promise.all(a.map(s=>{var l;return(l=s.waitForAsyncAttributes)===null||l===void 0?void 0:l.call(s)})).then(n,we)}}});var Eo,BC=y(()=>{VC();Eo=class extends iu{onShutdown(){}}});var FC=y(()=>{BC()});var qC=y(()=>{FC()});var wm={};Ue(wm,{BatchLogRecordProcessor:()=>Eo,ConsoleLogRecordExporter:()=>tu,InMemoryLogRecordExporter:()=>nu,LogRecord:()=>vo,LoggerProvider:()=>eu,NoopLogRecordProcessor:()=>_o,SimpleLogRecordProcessor:()=>ru});var Lm=y(()=>{MC();Cm();Im();UC();DC();kC();qC()});var yr,ou=y(()=>{(function(o){o[o.DELTA=0]="DELTA",o[o.CUMULATIVE=1]="CUMULATIVE"})(yr||(yr={}))});var lt,go=y(()=>{(function(o){o[o.HISTOGRAM=0]="HISTOGRAM",o[o.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",o[o.GAUGE=2]="GAUGE",o[o.SUM=3]="SUM"})(lt||(lt={}))});function GC(o){return o!=null}function HC(o){let r=Object.keys(o);return r.length===0?"":(r=r.sort(),JSON.stringify(r.map(n=>[n,o[n]])))}function jC(o){var r,n;return`${o.name}:${(r=o.version)!==null&&r!==void 0?r:""}:${(n=o.schemaUrl)!==null&&n!==void 0?n:""}`}function In(o,r){let n,a=new Promise(function(l,t){n=setTimeout(function(){t(new Pi("Operation timed out."))},r)});return Promise.race([o,a]).then(s=>(clearTimeout(n),s),s=>{throw clearTimeout(n),s})}async function zC(o){return Promise.all(o.map(async r=>{try{return{status:"fulfilled",value:await r}}catch(n){return{status:"rejected",reason:n}}}))}function YC(o){return o.status==="rejected"}function Mm(o,r){let n=[];return o.forEach(a=>{n.push(...r(a))}),n}function $C(o,r){if(o.size!==r.size)return!1;for(let n of o)if(!r.has(n))return!1;return!0}function KC(o,r){let n=0,a=o.length-1;for(;a-n>1;){let s=Math.trunc((a+n)/2);o[s]<=r?n=s:a=s-1}return o[a]<=r?a:o[n]<=r?n:-1}function WC(o,r){return o.toLowerCase()===r.toLowerCase()}var Pi,Ir=y(()=>{Pi=class o extends Error{constructor(r){super(r),Object.setPrototypeOf(this,o.prototype)}}});var Xt,To=y(()=>{(function(o){o[o.DROP=0]="DROP",o[o.SUM=1]="SUM",o[o.LAST_VALUE=2]="LAST_VALUE",o[o.HISTOGRAM=3]="HISTOGRAM",o[o.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(Xt||(Xt={}))});var su,JC=y(()=>{To();su=class{constructor(){this.kind=Xt.DROP}createAccumulation(){}merge(r,n){}diff(r,n){}toMetricData(r,n,a,s){}}});function wr(o,r,n){var a,s,l,t;return S$(o)||A.warn(`Invalid metric name: "${o}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:o,type:r,description:(a=n==null?void 0:n.description)!==null&&a!==void 0?a:"",unit:(s=n==null?void 0:n.unit)!==null&&s!==void 0?s:"",valueType:(l=n==null?void 0:n.valueType)!==null&&l!==void 0?l:Rt.DOUBLE,advice:(t=n==null?void 0:n.advice)!==null&&t!==void 0?t:{}}}function XC(o,r){var n,a;return{name:(n=o.name)!==null&&n!==void 0?n:r.name,description:(a=o.description)!==null&&a!==void 0?a:r.description,type:r.type,unit:r.unit,valueType:r.valueType,advice:r.advice}}function QC(o,r){return WC(o.name,r.name)&&o.unit===r.unit&&o.type===r.type&&o.valueType===r.valueType}function S$(o){return o.match(y$)!=null}var ge,y$,ln=y(()=>{k();Ir();(function(o){o.COUNTER="COUNTER",o.GAUGE="GAUGE",o.HISTOGRAM="HISTOGRAM",o.UP_DOWN_COUNTER="UP_DOWN_COUNTER",o.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",o.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",o.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(ge||(ge={}));y$=/^[a-z][a-z0-9_.\-/]{0,254}$/i});function v$(o){let r=o.map(()=>0);return r.push(0),{buckets:{boundaries:o,counts:r},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var Aa,Na,ZC=y(()=>{To();go();ln();Ir();Aa=class{constructor(r,n,a=!0,s=v$(n)){this.startTime=r,this._boundaries=n,this._recordMinMax=a,this._current=s}record(r){if(Number.isNaN(r))return;this._current.count+=1,this._current.sum+=r,this._recordMinMax&&(this._current.min=Math.min(r,this._current.min),this._current.max=Math.max(r,this._current.max),this._current.hasMinMax=!0);let n=KC(this._boundaries,r);this._current.buckets.counts[n+1]+=1}setStartTime(r){this.startTime=r}toPointValue(){return this._current}},Na=class{constructor(r,n){this._boundaries=r,this._recordMinMax=n,this.kind=Xt.HISTOGRAM}createAccumulation(r){return new Aa(r,this._boundaries,this._recordMinMax)}merge(r,n){let a=r.toPointValue(),s=n.toPointValue(),l=a.buckets.counts,t=s.buckets.counts,e=new Array(l.length);for(let u=0;u<l.length;u++)e[u]=l[u]+t[u];let i=1/0,c=-1/0;return this._recordMinMax&&(a.hasMinMax&&s.hasMinMax?(i=Math.min(a.min,s.min),c=Math.max(a.max,s.max)):a.hasMinMax?(i=a.min,c=a.max):s.hasMinMax&&(i=s.min,c=s.max)),new Aa(r.startTime,a.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:a.buckets.boundaries,counts:e},count:a.count+s.count,sum:a.sum+s.sum,hasMinMax:this._recordMinMax&&(a.hasMinMax||s.hasMinMax),min:i,max:c})}diff(r,n){let a=r.toPointValue(),s=n.toPointValue(),l=a.buckets.counts,t=s.buckets.counts,e=new Array(l.length);for(let i=0;i<l.length;i++)e[i]=t[i]-l[i];return new Aa(n.startTime,a.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:a.buckets.boundaries,counts:e},count:s.count-a.count,sum:s.sum-a.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(r,n,a,s){return{descriptor:r,aggregationTemporality:n,dataPointType:lt.HISTOGRAM,dataPoints:a.map(([l,t])=>{let e=t.toPointValue(),i=r.type===ge.GAUGE||r.type===ge.UP_DOWN_COUNTER||r.type===ge.OBSERVABLE_GAUGE||r.type===ge.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:l,startTime:t.startTime,endTime:s,value:{min:e.hasMinMax?e.min:void 0,max:e.hasMinMax?e.max:void 0,sum:i?void 0:e.sum,buckets:e.buckets,count:e.count}}})}}}});var xa,Um,eI=y(()=>{xa=class o{constructor(r=new Um,n=0,a=0,s=0){this.backing=r,this.indexBase=n,this.indexStart=a,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(r,n)=>this.at(n))}at(r){let n=this.indexBase-this.indexStart;return r<n&&(r+=this.backing.length),r-=n,this.backing.countAt(r)}incrementBucket(r,n){this.backing.increment(r,n)}decrementBucket(r,n){this.backing.decrement(r,n)}trim(){for(let r=0;r<this.length;r++)if(this.at(r)!==0){this.indexStart+=r;break}else if(r===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let r=this.length-1;r>=0;r--)if(this.at(r)!==0){this.indexEnd-=this.length-r-1;break}this._rotate()}downscale(r){this._rotate();let n=1+this.indexEnd-this.indexStart,a=1<<r,s=0,l=0;for(let t=this.indexStart;t<=this.indexEnd;){let e=t%a;e<0&&(e+=a);for(let i=e;i<a&&s<n;i++)this._relocateBucket(l,s),s++,t++;l++}this.indexStart>>=r,this.indexEnd>>=r,this.indexBase=this.indexStart}clone(){return new o(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let r=this.indexBase-this.indexStart;r!==0&&(r>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,r),this.backing.reverse(r,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+r)),this.indexBase=this.indexStart)}_relocateBucket(r,n){r!==n&&this.incrementBucket(r,this.backing.emptyBucket(n))}},Um=class o{constructor(r=[0]){this._counts=r}get length(){return this._counts.length}countAt(r){return this._counts[r]}growTo(r,n,a){let s=new Array(r).fill(0);s.splice(a,this._counts.length-n,...this._counts.slice(n)),s.splice(0,n,...this._counts.slice(0,n)),this._counts=s}reverse(r,n){let a=Math.floor((r+n)/2)-r;for(let s=0;s<a;s++){let l=this._counts[r+s];this._counts[r+s]=this._counts[n-s-1],this._counts[n-s-1]=l}}emptyBucket(r){let n=this._counts[r];return this._counts[r]=0,n}increment(r,n){this._counts[r]+=n}decrement(r,n){this._counts[r]>=n?this._counts[r]-=n:this._counts[r]=0}clone(){return new o([...this._counts])}}});function au(o){let r=new DataView(new ArrayBuffer(8));return r.setFloat64(0,o),((r.getUint32(0)&2146435072)>>20)-1023}function lu(o){let r=new DataView(new ArrayBuffer(8));r.setFloat64(0,o);let n=r.getUint32(0),a=r.getUint32(4);return(n&1048575)*Math.pow(2,32)+a}var Ra,Dm=y(()=>{Ra=Math.pow(2,-1022)});function Pa(o,r){return o===0||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY||Number.isNaN(o)?o:o*Math.pow(2,r)}function rI(o){return o--,o|=o>>1,o|=o>>2,o|=o>>4,o|=o>>8,o|=o>>16,o++,o}var cu=y(()=>{});var Lr,uu=y(()=>{Lr=class extends Error{}});var fu,iI=y(()=>{Dm();cu();uu();fu=class{constructor(r){this._shift=-r}mapToIndex(r){if(r<Ra)return this._minNormalLowerBoundaryIndex();let n=au(r),a=this._rightShift(lu(r)-1,52);return n+a>>this._shift}lowerBoundary(r){let n=this._minNormalLowerBoundaryIndex();if(r<n)throw new Lr(`underflow: ${r} is < minimum lower boundary: ${n}`);let a=this._maxNormalLowerBoundaryIndex();if(r>a)throw new Lr(`overflow: ${r} is > maximum lower boundary: ${a}`);return Pa(1,r<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let r=-1022>>this._shift;return this._shift<2&&r--,r}_maxNormalLowerBoundaryIndex(){return 1023>>this._shift}_rightShift(r,n){return Math.floor(r*Math.pow(2,-n))}}});var pu,oI=y(()=>{Dm();cu();uu();pu=class{constructor(r){this._scale=r,this._scaleFactor=Pa(Math.LOG2E,r),this._inverseFactor=Pa(Math.LN2,-r)}mapToIndex(r){if(r<=Ra)return this._minNormalLowerBoundaryIndex()-1;if(lu(r)===0)return(au(r)<<this._scale)-1;let n=Math.floor(Math.log(r)*this._scaleFactor),a=this._maxNormalLowerBoundaryIndex();return n>=a?a:n}lowerBoundary(r){let n=this._maxNormalLowerBoundaryIndex();if(r>=n){if(r===n)return 2*Math.exp((r-(1<<this._scale))/this._scaleFactor);throw new Lr(`overflow: ${r} is > maximum lower boundary: ${n}`)}let a=this._minNormalLowerBoundaryIndex();if(r<=a){if(r===a)return Ra;if(r===a-1)return Math.exp((r+(1<<this._scale))/this._scaleFactor)/2;throw new Lr(`overflow: ${r} is < minimum lower boundary: ${a}`)}return Math.exp(r*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return-1022<<this._scale}_maxNormalLowerBoundaryIndex(){return(1024<<this._scale)-1}}});function Bm(o){if(o>aI||o<sI)throw new Lr(`expected scale >= ${sI} && <= ${aI}, got: ${o}`);return E$[o+10]}var sI,aI,E$,lI=y(()=>{iI();oI();uu();sI=-10,aI=20,E$=Array.from({length:31},(o,r)=>r>10?new pu(r-10):new fu(r-10))});var Oo,g$,T$,Fm,qm,du,cI=y(()=>{To();go();k();ln();eI();lI();cu();Oo=class o{constructor(r,n){this.low=r,this.high=n}static combine(r,n){return new o(Math.min(r.low,n.low),Math.max(r.high,n.high))}},g$=20,T$=160,Fm=2,qm=class o{constructor(r=r,n=T$,a=!0,s=0,l=0,t=0,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,c=new xa,u=new xa,f=Bm(g$)){this.startTime=r,this._maxSize=n,this._recordMinMax=a,this._sum=s,this._count=l,this._zeroCount=t,this._min=e,this._max=i,this._positive=c,this._negative=u,this._mapping=f,this._maxSize<Fm&&(A.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${Fm}`),this._maxSize=Fm)}record(r){this.updateByIncrement(r,1)}setStartTime(r){this.startTime=r}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(r,n){if(!Number.isNaN(r)){if(r>this._max&&(this._max=r),r<this._min&&(this._min=r),this._count+=n,r===0){this._zeroCount+=n;return}this._sum+=r*n,r>0?this._updateBuckets(this._positive,r,n):this._updateBuckets(this._negative,-r,n)}}merge(r){this._count===0?(this._min=r.min,this._max=r.max):r.count!==0&&(r.min<this.min&&(this._min=r.min),r.max>this.max&&(this._max=r.max)),this.startTime=r.startTime,this._sum+=r.sum,this._count+=r.count,this._zeroCount+=r.zeroCount;let n=this._minScale(r);this._downscale(this.scale-n),this._mergeBuckets(this.positive,r,r.positive,n),this._mergeBuckets(this.negative,r,r.negative,n)}diff(r){this._min=1/0,this._max=-1/0,this._sum-=r.sum,this._count-=r.count,this._zeroCount-=r.zeroCount;let n=this._minScale(r);this._downscale(this.scale-n),this._diffBuckets(this.positive,r,r.positive,n),this._diffBuckets(this.negative,r,r.negative,n)}clone(){return new o(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(r,n,a){let s=this._mapping.mapToIndex(n),l=!1,t=0,e=0;if(r.length===0?(r.indexStart=s,r.indexEnd=r.indexStart,r.indexBase=r.indexStart):s<r.indexStart&&r.indexEnd-s>=this._maxSize?(l=!0,e=s,t=r.indexEnd):s>r.indexEnd&&s-r.indexStart>=this._maxSize&&(l=!0,e=r.indexStart,t=s),l){let i=this._changeScale(t,e);this._downscale(i),s=this._mapping.mapToIndex(n)}this._incrementIndexBy(r,s,a)}_incrementIndexBy(r,n,a){if(a===0)return;if(r.length===0&&(r.indexStart=r.indexEnd=r.indexBase=n),n<r.indexStart){let l=r.indexEnd-n;l>=r.backing.length&&this._grow(r,l+1),r.indexStart=n}else if(n>r.indexEnd){let l=n-r.indexStart;l>=r.backing.length&&this._grow(r,l+1),r.indexEnd=n}let s=n-r.indexBase;s<0&&(s+=r.backing.length),r.incrementBucket(s,a)}_grow(r,n){let a=r.backing.length,s=r.indexBase-r.indexStart,l=a-s,t=rI(n);t>this._maxSize&&(t=this._maxSize);let e=t-s;r.backing.growTo(t,l,e)}_changeScale(r,n){let a=0;for(;r-n>=this._maxSize;)r>>=1,n>>=1,a++;return a}_downscale(r){if(r===0)return;if(r<0)throw new Error(`impossible change of scale: ${this.scale}`);let n=this._mapping.scale-r;this._positive.downscale(r),this._negative.downscale(r),this._mapping=Bm(n)}_minScale(r){let n=Math.min(this.scale,r.scale),a=Oo.combine(this._highLowAtScale(this.positive,this.scale,n),this._highLowAtScale(r.positive,r.scale,n)),s=Oo.combine(this._highLowAtScale(this.negative,this.scale,n),this._highLowAtScale(r.negative,r.scale,n));return Math.min(n-this._changeScale(a.high,a.low),n-this._changeScale(s.high,s.low))}_highLowAtScale(r,n,a){if(r.length===0)return new Oo(0,-1);let s=n-a;return new Oo(r.indexStart>>s,r.indexEnd>>s)}_mergeBuckets(r,n,a,s){let l=a.offset,t=n.scale-s;for(let e=0;e<a.length;e++)this._incrementIndexBy(r,l+e>>t,a.at(e))}_diffBuckets(r,n,a,s){let l=a.offset,t=n.scale-s;for(let e=0;e<a.length;e++){let c=(l+e>>t)-r.indexBase;c<0&&(c+=r.backing.length),r.decrementBucket(c,a.at(e))}r.trim()}},du=class{constructor(r,n){this._maxSize=r,this._recordMinMax=n,this.kind=Xt.EXPONENTIAL_HISTOGRAM}createAccumulation(r){return new qm(r,this._maxSize,this._recordMinMax)}merge(r,n){let a=n.clone();return a.merge(r),a}diff(r,n){let a=n.clone();return a.diff(r),a}toMetricData(r,n,a,s){return{descriptor:r,aggregationTemporality:n,dataPointType:lt.EXPONENTIAL_HISTOGRAM,dataPoints:a.map(([l,t])=>{let e=t.toPointValue(),i=r.type===ge.GAUGE||r.type===ge.UP_DOWN_COUNTER||r.type===ge.OBSERVABLE_GAUGE||r.type===ge.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:l,startTime:t.startTime,endTime:s,value:{min:e.hasMinMax?e.min:void 0,max:e.hasMinMax?e.max:void 0,sum:i?void 0:e.sum,positive:{offset:e.positive.offset,bucketCounts:e.positive.bucketCounts},negative:{offset:e.negative.offset,bucketCounts:e.negative.bucketCounts},count:e.count,scale:e.scale,zeroCount:e.zeroCount}}})}}}});var Ca,hu,uI=y(()=>{To();Z();go();Ca=class{constructor(r,n=0,a=[0,0]){this.startTime=r,this._current=n,this.sampleTime=a}record(r){this._current=r,this.sampleTime=mt(Date.now())}setStartTime(r){this.startTime=r}toPointValue(){return this._current}},hu=class{constructor(){this.kind=Xt.LAST_VALUE}createAccumulation(r){return new Ca(r)}merge(r,n){let a=gt(n.sampleTime)>=gt(r.sampleTime)?n:r;return new Ca(r.startTime,a.toPointValue(),a.sampleTime)}diff(r,n){let a=gt(n.sampleTime)>=gt(r.sampleTime)?n:r;return new Ca(n.startTime,a.toPointValue(),a.sampleTime)}toMetricData(r,n,a,s){return{descriptor:r,aggregationTemporality:n,dataPointType:lt.GAUGE,dataPoints:a.map(([l,t])=>({attributes:l,startTime:t.startTime,endTime:s,value:t.toPointValue()}))}}}});var Ci,Ia,fI=y(()=>{To();go();Ci=class{constructor(r,n,a=0,s=!1){this.startTime=r,this.monotonic=n,this._current=a,this.reset=s}record(r){this.monotonic&&r<0||(this._current+=r)}setStartTime(r){this.startTime=r}toPointValue(){return this._current}},Ia=class{constructor(r){this.monotonic=r,this.kind=Xt.SUM}createAccumulation(r){return new Ci(r,this.monotonic)}merge(r,n){let a=r.toPointValue(),s=n.toPointValue();return n.reset?new Ci(n.startTime,this.monotonic,s,n.reset):new Ci(r.startTime,this.monotonic,a+s)}diff(r,n){let a=r.toPointValue(),s=n.toPointValue();return this.monotonic&&a>s?new Ci(n.startTime,this.monotonic,s,!0):new Ci(n.startTime,this.monotonic,s-a)}toMetricData(r,n,a,s){return{descriptor:r,aggregationTemporality:n,dataPointType:lt.SUM,dataPoints:a.map(([l,t])=>({attributes:l,startTime:t.startTime,endTime:s,value:t.toPointValue()})),isMonotonic:this.monotonic}}}});var pI=y(()=>{JC();ZC();cI();uI();fI()});var Tt,bo,Ii,Ao,No,wa,La,Ma,dI,hI,mI,yI,O$,b$,mu=y(()=>{k();pI();ln();Tt=class{static Drop(){return dI}static Sum(){return hI}static LastValue(){return mI}static Histogram(){return yI}static ExponentialHistogram(){return O$}static Default(){return b$}},bo=class o extends Tt{createAggregator(r){return o.DEFAULT_INSTANCE}};bo.DEFAULT_INSTANCE=new su;Ii=class o extends Tt{createAggregator(r){switch(r.type){case ge.COUNTER:case ge.OBSERVABLE_COUNTER:case ge.HISTOGRAM:return o.MONOTONIC_INSTANCE;default:return o.NON_MONOTONIC_INSTANCE}}};Ii.MONOTONIC_INSTANCE=new Ia(!0);Ii.NON_MONOTONIC_INSTANCE=new Ia(!1);Ao=class o extends Tt{createAggregator(r){return o.DEFAULT_INSTANCE}};Ao.DEFAULT_INSTANCE=new hu;No=class o extends Tt{createAggregator(r){return o.DEFAULT_INSTANCE}};No.DEFAULT_INSTANCE=new Na([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);wa=class extends Tt{constructor(r,n=!0){if(super(),this._recordMinMax=n,r==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");r=r.concat(),r=r.sort((l,t)=>l-t);let a=r.lastIndexOf(-1/0),s=r.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=r.slice(a+1,s)}createAggregator(r){return new Na(this._boundaries,this._recordMinMax)}},La=class extends Tt{constructor(r=160,n=!0){super(),this._maxSize=r,this._recordMinMax=n}createAggregator(r){return new du(this._maxSize,this._recordMinMax)}},Ma=class extends Tt{_resolve(r){switch(r.type){case ge.COUNTER:case ge.UP_DOWN_COUNTER:case ge.OBSERVABLE_COUNTER:case ge.OBSERVABLE_UP_DOWN_COUNTER:return hI;case ge.GAUGE:case ge.OBSERVABLE_GAUGE:return mI;case ge.HISTOGRAM:return r.advice.explicitBucketBoundaries?new wa(r.advice.explicitBucketBoundaries):yI}return A.warn(`Unable to recognize instrument type: ${r.type}`),dI}createAggregator(r){return this._resolve(r).createAggregator(r)}},dI=new bo,hI=new Ii,mI=new Ao,yI=new No,O$=new La,b$=new Ma});var SI,yu,Gm=y(()=>{mu();ou();SI=o=>Tt.Default(),yu=o=>yr.CUMULATIVE});var xo,Hm=y(()=>{k();Ir();Gm();xo=class{constructor(r){var n,a,s;this._shutdown=!1,this._aggregationSelector=(n=r==null?void 0:r.aggregationSelector)!==null&&n!==void 0?n:SI,this._aggregationTemporalitySelector=(a=r==null?void 0:r.aggregationTemporalitySelector)!==null&&a!==void 0?a:yu,this._metricProducers=(s=r==null?void 0:r.metricProducers)!==null&&s!==void 0?s:[]}setMetricProducer(r){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=r,this.onInitialized()}selectAggregation(r){return this._aggregationSelector(r)}selectAggregationTemporality(r){return this._aggregationTemporalitySelector(r)}onInitialized(){}async collect(r){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[n,...a]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:r==null?void 0:r.timeoutMillis}),...this._metricProducers.map(e=>e.collect({timeoutMillis:r==null?void 0:r.timeoutMillis}))]),s=n.errors.concat(Mm(a,e=>e.errors)),l=n.resourceMetrics.resource,t=n.resourceMetrics.scopeMetrics.concat(Mm(a,e=>e.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:l,scopeMetrics:t},errors:s}}async shutdown(r){if(this._shutdown){A.error("Cannot call shutdown twice.");return}(r==null?void 0:r.timeoutMillis)==null?await this.onShutdown():await In(this.onShutdown(),r.timeoutMillis),this._shutdown=!0}async forceFlush(r){if(this._shutdown){A.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((r==null?void 0:r.timeoutMillis)==null){await this.onForceFlush();return}await In(this.onForceFlush(),r.timeoutMillis)}}});var Su,vI=y(()=>{k();Z();Hm();Ir();k();Su=class extends xo{constructor(r){var n,a,s,l;if(super({aggregationSelector:(n=r.exporter.selectAggregation)===null||n===void 0?void 0:n.bind(r.exporter),aggregationTemporalitySelector:(a=r.exporter.selectAggregationTemporality)===null||a===void 0?void 0:a.bind(r.exporter),metricProducers:r.metricProducers}),r.exportIntervalMillis!==void 0&&r.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(r.exportTimeoutMillis!==void 0&&r.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(r.exportTimeoutMillis!==void 0&&r.exportIntervalMillis!==void 0&&r.exportIntervalMillis<r.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=r.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(l=r.exportTimeoutMillis)!==null&&l!==void 0?l:3e4,this._exporter=r.exporter}async _runOnce(){try{await In(this._doRun(),this._exportTimeout)}catch(r){if(r instanceof Pi){A.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}we(r)}}async _doRun(){var r,n;let{resourceMetrics:a,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});s.length>0&&A.error("PeriodicExportingMetricReader: metrics collection errors",...s);let l=async()=>{let t=await sn._export(this._exporter,a);if(t.code!==oe.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${t.error})`)};a.resource.asyncAttributesPending?(n=(r=a.resource).waitForAsyncAttributes)===null||n===void 0||n.call(r).then(l,t=>A.debug("Error while resolving async portion of resource: ",t)):await l()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),gi(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}});var vu,_I=y(()=>{Z();vu=class{constructor(r){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=r}export(r,n){if(this._shutdown){setTimeout(()=>n({code:oe.FAILED}),0);return}this._metrics.push(r),setTimeout(()=>n({code:oe.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(r){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}});var _u,EI=y(()=>{Z();Gm();_u=class o{constructor(r){var n;this._shutdown=!1,this._temporalitySelector=(n=r==null?void 0:r.temporalitySelector)!==null&&n!==void 0?n:yu}export(r,n){if(this._shutdown){setImmediate(n,{code:oe.FAILED});return}return o._sendMetrics(r,n)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(r){return this._temporalitySelector(r)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(r,n){for(let a of r.scopeMetrics)for(let s of a.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints},{depth:null});n({code:oe.SUCCESS})}}});var Eu,gI=y(()=>{Eu=class{constructor(){this._registeredViews=[]}addView(r){this._registeredViews.push(r)}findViews(r,n){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,r)&&this._matchMeter(s.meterSelector,n))}_matchInstrument(r,n){return(r.getType()===void 0||n.type===r.getType())&&r.getNameFilter().match(n.name)&&r.getUnitFilter().match(n.unit)}_matchMeter(r,n){return r.getNameFilter().match(n.name)&&(n.version===void 0||r.getVersionFilter().match(n.version))&&(n.schemaUrl===void 0||r.getSchemaUrlFilter().match(n.schemaUrl))}}});function Ua(o){return o instanceof Po}var Ro,gu,Tu,Ou,bu,Po,Au,Nu,xu,Ru=y(()=>{k();Z();Ro=class{constructor(r,n){this._writableMetricStorage=r,this._descriptor=n}_record(r,n={},a=Ke.active()){if(typeof r!="number"){A.warn(`non-number value provided to metric ${this._descriptor.name}: ${r}`);return}this._descriptor.valueType===Rt.INT&&!Number.isInteger(r)&&(A.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r),!Number.isInteger(r))||this._writableMetricStorage.record(r,n,a,mt(Date.now()))}},gu=class extends Ro{add(r,n,a){this._record(r,n,a)}},Tu=class extends Ro{add(r,n,a){if(r<0){A.warn(`negative value provided to counter ${this._descriptor.name}: ${r}`);return}this._record(r,n,a)}},Ou=class extends Ro{record(r,n,a){this._record(r,n,a)}},bu=class extends Ro{record(r,n,a){if(r<0){A.warn(`negative value provided to histogram ${this._descriptor.name}: ${r}`);return}this._record(r,n,a)}},Po=class{constructor(r,n,a){this._observableRegistry=a,this._descriptor=r,this._metricStorages=n}addCallback(r){this._observableRegistry.addCallback(r,this)}removeCallback(r){this._observableRegistry.removeCallback(r,this)}},Au=class extends Po{},Nu=class extends Po{},xu=class extends Po{}});var Pu,TI=y(()=>{ln();Ru();Pu=class{constructor(r){this._meterSharedState=r}createGauge(r,n){let a=wr(r,ge.GAUGE,n),s=this._meterSharedState.registerMetricStorage(a);return new Ou(s,a)}createHistogram(r,n){let a=wr(r,ge.HISTOGRAM,n),s=this._meterSharedState.registerMetricStorage(a);return new bu(s,a)}createCounter(r,n){let a=wr(r,ge.COUNTER,n),s=this._meterSharedState.registerMetricStorage(a);return new Tu(s,a)}createUpDownCounter(r,n){let a=wr(r,ge.UP_DOWN_COUNTER,n),s=this._meterSharedState.registerMetricStorage(a);return new gu(s,a)}createObservableGauge(r,n){let a=wr(r,ge.OBSERVABLE_GAUGE,n),s=this._meterSharedState.registerAsyncMetricStorage(a);return new Nu(a,s,this._meterSharedState.observableRegistry)}createObservableCounter(r,n){let a=wr(r,ge.OBSERVABLE_COUNTER,n),s=this._meterSharedState.registerAsyncMetricStorage(a);return new Au(a,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(r,n){let a=wr(r,ge.OBSERVABLE_UP_DOWN_COUNTER,n),s=this._meterSharedState.registerAsyncMetricStorage(a);return new xu(a,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(r,n){this._meterSharedState.observableRegistry.addBatchCallback(r,n)}removeBatchObservableCallback(r,n){this._meterSharedState.observableRegistry.removeBatchCallback(r,n)}}});var Co,jm=y(()=>{ln();Co=class{constructor(r){this._instrumentDescriptor=r}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(r){this._instrumentDescriptor=wr(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:r,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}});var zm,Bt,Da=y(()=>{Ir();zm=class{constructor(r){this._hash=r,this._valueMap=new Map,this._keyMap=new Map}get(r,n){return n??(n=this._hash(r)),this._valueMap.get(n)}getOrDefault(r,n){let a=this._hash(r);if(this._valueMap.has(a))return this._valueMap.get(a);let s=n();return this._keyMap.has(a)||this._keyMap.set(a,r),this._valueMap.set(a,s),s}set(r,n,a){a??(a=this._hash(r)),this._keyMap.has(a)||this._keyMap.set(a,r),this._valueMap.set(a,n)}has(r,n){return n??(n=this._hash(r)),this._valueMap.has(n)}*keys(){let r=this._keyMap.entries(),n=r.next();for(;n.done!==!0;)yield[n.value[1],n.value[0]],n=r.next()}*entries(){let r=this._valueMap.entries(),n=r.next();for(;n.done!==!0;)yield[this._keyMap.get(n.value[0]),n.value[1],n.value[0]],n=r.next()}get size(){return this._valueMap.size}},Bt=class extends zm{constructor(){super(HC)}}});var Io,Ym=y(()=>{Da();Io=class{constructor(r){this._aggregator=r,this._activeCollectionStorage=new Bt,this._cumulativeMemoStorage=new Bt}record(r,n,a,s){let l=this._activeCollectionStorage.getOrDefault(n,()=>this._aggregator.createAccumulation(s));l==null||l.record(r)}batchCumulate(r,n){Array.from(r.entries()).forEach(([a,s,l])=>{let t=this._aggregator.createAccumulation(n);t==null||t.record(s);let e=t;if(this._cumulativeMemoStorage.has(a,l)){let i=this._cumulativeMemoStorage.get(a,l);e=this._aggregator.diff(i,t)}if(this._activeCollectionStorage.has(a,l)){let i=this._activeCollectionStorage.get(a,l);e=this._aggregator.merge(i,e)}this._cumulativeMemoStorage.set(a,t,l),this._activeCollectionStorage.set(a,e,l)})}collect(){let r=this._activeCollectionStorage;return this._activeCollectionStorage=new Bt,r}}});function A$(o){return Array.from(o.entries())}var wo,$m=y(()=>{ou();Da();wo=class o{constructor(r,n){this._aggregator=r,this._unreportedAccumulations=new Map,this._reportHistory=new Map,n.forEach(a=>{this._unreportedAccumulations.set(a,[])})}buildMetrics(r,n,a,s){this._stashAccumulations(a);let l=this._getMergedUnreportedAccumulations(r),t=l,e;if(this._reportHistory.has(r)){let c=this._reportHistory.get(r),u=c.collectionTime;e=c.aggregationTemporality,e===yr.CUMULATIVE?t=o.merge(c.accumulations,l,this._aggregator):t=o.calibrateStartTime(c.accumulations,l,u)}else e=r.selectAggregationTemporality(n.type);this._reportHistory.set(r,{accumulations:t,collectionTime:s,aggregationTemporality:e});let i=A$(t);if(i.length!==0)return this._aggregator.toMetricData(n,e,i,s)}_stashAccumulations(r){let n=this._unreportedAccumulations.keys();for(let a of n){let s=this._unreportedAccumulations.get(a);s===void 0&&(s=[],this._unreportedAccumulations.set(a,s)),s.push(r)}}_getMergedUnreportedAccumulations(r){let n=new Bt,a=this._unreportedAccumulations.get(r);if(this._unreportedAccumulations.set(r,[]),a===void 0)return n;for(let s of a)n=o.merge(n,s,this._aggregator);return n}static merge(r,n,a){let s=r,l=n.entries(),t=l.next();for(;t.done!==!0;){let[e,i,c]=t.value;if(r.has(e,c)){let u=r.get(e,c),f=a.merge(u,i);s.set(e,f,c)}else s.set(e,i,c);t=l.next()}return s}static calibrateStartTime(r,n,a){for(let[s,l]of r.keys()){let t=n.get(s,l);t==null||t.setStartTime(a)}return n}}});var Cu,OI=y(()=>{jm();Ym();$m();Da();Cu=class extends Co{constructor(r,n,a,s){super(r),this._attributesProcessor=a,this._deltaMetricStorage=new Io(n),this._temporalMetricStorage=new wo(n,s)}record(r,n){let a=new Bt;Array.from(r.entries()).forEach(([s,l])=>{a.set(this._attributesProcessor.process(s),l)}),this._deltaMetricStorage.batchCumulate(a,n)}collect(r,n){let a=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(r,this._instrumentDescriptor,a,n)}}});function Km(o,r){let n="";return o.unit!==r.unit&&(n+=`	- Unit '${o.unit}' does not match '${r.unit}'
`),o.type!==r.type&&(n+=`	- Type '${o.type}' does not match '${r.type}'
`),o.valueType!==r.valueType&&(n+=`	- Value Type '${o.valueType}' does not match '${r.valueType}'
`),o.description!==r.description&&(n+=`	- Description '${o.description}' does not match '${r.description}'
`),n}function N$(o,r){return`	- use valueType '${o.valueType}' on instrument creation or use an instrument name other than '${r.name}'`}function x$(o,r){return`	- use unit '${o.unit}' on instrument creation or use an instrument name other than '${r.name}'`}function R$(o,r){let n={name:r.name,type:r.type,unit:r.unit},a=JSON.stringify(n);return`	- create a new view with a name other than '${o.name}' and InstrumentSelector '${a}'`}function P$(o,r){let n={name:r.name,type:r.type,unit:r.unit},a=JSON.stringify(n);return`	- create a new view with a name other than '${o.name}' and InstrumentSelector '${a}'
    	- OR - create a new view with the name ${o.name} and description '${o.description}' and InstrumentSelector ${a}
    	- OR - create a new view with the name ${r.name} and description '${o.description}' and InstrumentSelector ${a}`}function Wm(o,r){return o.valueType!==r.valueType?N$(o,r):o.unit!==r.unit?x$(o,r):o.type!==r.type?R$(o,r):o.description!==r.description?P$(o,r):""}var bI=y(()=>{});var Iu,AI=y(()=>{ln();k();bI();Iu=class o{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new o}getStorages(r){let n=[];for(let s of this._sharedRegistry.values())n=n.concat(s);let a=this._perCollectorRegistry.get(r);if(a!=null)for(let s of a.values())n=n.concat(s);return n}register(r){this._registerStorage(r,this._sharedRegistry)}registerForCollector(r,n){let a=this._perCollectorRegistry.get(r);a==null&&(a=new Map,this._perCollectorRegistry.set(r,a)),this._registerStorage(n,a)}findOrUpdateCompatibleStorage(r){let n=this._sharedRegistry.get(r.name);return n===void 0?null:this._findOrUpdateCompatibleStorage(r,n)}findOrUpdateCompatibleCollectorStorage(r,n){let a=this._perCollectorRegistry.get(r);if(a===void 0)return null;let s=a.get(n.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(n,s)}_registerStorage(r,n){let a=r.getInstrumentDescriptor(),s=n.get(a.name);if(s===void 0){n.set(a.name,[r]);return}s.push(r)}_findOrUpdateCompatibleStorage(r,n){let a=null;for(let s of n){let l=s.getInstrumentDescriptor();QC(l,r)?(l.description!==r.description&&(r.description.length>l.description.length&&s.updateDescription(r.description),A.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,Km(l,r),`The longer description will be used.
To resolve the conflict:`,Wm(l,r))),a=s):A.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,Km(l,r),`To resolve the conflict:
`,Wm(l,r))}return a}}});var wu,NI=y(()=>{wu=class{constructor(r){this._backingStorages=r}record(r,n,a,s){this._backingStorages.forEach(l=>{l.record(r,n,a,s)})}}});var Lu,Mu,xI=y(()=>{k();Da();Ru();Lu=class{constructor(r,n){this._instrumentName=r,this._valueType=n,this._buffer=new Bt}observe(r,n={}){if(typeof r!="number"){A.warn(`non-number value provided to metric ${this._instrumentName}: ${r}`);return}this._valueType===Rt.INT&&!Number.isInteger(r)&&(A.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),r=Math.trunc(r),!Number.isInteger(r))||this._buffer.set(n,r)}},Mu=class{constructor(){this._buffer=new Map}observe(r,n,a={}){if(!Ua(r))return;let s=this._buffer.get(r);if(s==null&&(s=new Bt,this._buffer.set(r,s)),typeof n!="number"){A.warn(`non-number value provided to metric ${r._descriptor.name}: ${n}`);return}r._descriptor.valueType===Rt.INT&&!Number.isInteger(n)&&(A.warn(`INT value type cannot accept a floating-point value for ${r._descriptor.name}, ignoring the fractional digits.`),n=Math.trunc(n),!Number.isInteger(n))||s.set(a,n)}}});var Uu,RI=y(()=>{k();Ru();xI();Ir();Uu=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(r,n){this._findCallback(r,n)>=0||this._callbacks.push({callback:r,instrument:n})}removeCallback(r,n){let a=this._findCallback(r,n);a<0||this._callbacks.splice(a,1)}addBatchCallback(r,n){let a=new Set(n.filter(Ua));if(a.size===0){A.error("BatchObservableCallback is not associated with valid instruments",n);return}this._findBatchCallback(r,a)>=0||this._batchCallbacks.push({callback:r,instruments:a})}removeBatchCallback(r,n){let a=new Set(n.filter(Ua)),s=this._findBatchCallback(r,a);s<0||this._batchCallbacks.splice(s,1)}async observe(r,n){let a=this._observeCallbacks(r,n),s=this._observeBatchCallbacks(r,n);return(await zC([...a,...s])).filter(YC).map(e=>e.reason)}_observeCallbacks(r,n){return this._callbacks.map(async({callback:a,instrument:s})=>{let l=new Lu(s._descriptor.name,s._descriptor.valueType),t=Promise.resolve(a(l));n!=null&&(t=In(t,n)),await t,s._metricStorages.forEach(e=>{e.record(l._buffer,r)})})}_observeBatchCallbacks(r,n){return this._batchCallbacks.map(async({callback:a,instruments:s})=>{let l=new Mu,t=Promise.resolve(a(l));n!=null&&(t=In(t,n)),await t,s.forEach(e=>{let i=l._buffer.get(e);i!=null&&e._metricStorages.forEach(c=>{c.record(i,r)})})})}_findCallback(r,n){return this._callbacks.findIndex(a=>a.callback===r&&a.instrument===n)}_findBatchCallback(r,n){return this._batchCallbacks.findIndex(a=>a.callback===r&&$C(a.instruments,n))}}});var Du,PI=y(()=>{jm();Ym();$m();Du=class extends Co{constructor(r,n,a,s){super(r),this._attributesProcessor=a,this._deltaMetricStorage=new Io(n),this._temporalMetricStorage=new wo(n,s)}record(r,n,a,s){n=this._attributesProcessor.process(n,a),this._deltaMetricStorage.record(r,n,a,s)}collect(r,n){let a=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(r,this._instrumentDescriptor,a,n)}}});var wn,Jm,ku,C$,Xm=y(()=>{wn=class{static Noop(){return C$}},Jm=class extends wn{process(r,n){return r}},ku=class extends wn{constructor(r){super(),this._allowedAttributeNames=r}process(r,n){let a={};return Object.keys(r).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>a[s]=r[s]),a}},C$=new Jm});var Vu,CI=y(()=>{ln();TI();Ir();OI();AI();NI();RI();PI();Xm();Vu=class{constructor(r,n){this._meterProviderSharedState=r,this._instrumentationScope=n,this.metricStorageRegistry=new Iu,this.observableRegistry=new Uu,this.meter=new Pu(this)}registerMetricStorage(r){let n=this._registerMetricStorage(r,Du);return n.length===1?n[0]:new wu(n)}registerAsyncMetricStorage(r){return this._registerMetricStorage(r,Cu)}async collect(r,n,a){let s=await this.observableRegistry.observe(n,a==null?void 0:a.timeoutMillis),l=this.metricStorageRegistry.getStorages(r);if(l.length===0)return null;let t=l.map(e=>e.collect(r,n)).filter(GC);return t.length===0?{errors:s}:{scopeMetrics:{scope:this._instrumentationScope,metrics:t},errors:s}}_registerMetricStorage(r,n){let s=this._meterProviderSharedState.viewRegistry.findViews(r,this._instrumentationScope).map(l=>{let t=XC(l,r),e=this.metricStorageRegistry.findOrUpdateCompatibleStorage(t);if(e!=null)return e;let i=l.aggregation.createAggregator(t),c=new n(t,i,l.attributesProcessor,this._meterProviderSharedState.metricCollectors);return this.metricStorageRegistry.register(c),c});if(s.length===0){let t=this._meterProviderSharedState.selectAggregations(r.type).map(([e,i])=>{let c=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(e,r);if(c!=null)return c;let u=i.createAggregator(r),f=new n(r,u,wn.Noop(),[e]);return this.metricStorageRegistry.registerForCollector(e,f),f});s=s.concat(t)}return s}}});var Bu,II=y(()=>{Ir();gI();CI();Bu=class{constructor(r){this.resource=r,this.viewRegistry=new Eu,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(r){let n=jC(r),a=this.meterSharedStates.get(n);return a==null&&(a=new Vu(this,r),this.meterSharedStates.set(n,a)),a}selectAggregations(r){let n=[];for(let a of this.metricCollectors)n.push([a,a.selectAggregation(r)]);return n}}});var Fu,wI=y(()=>{Z();Fu=class{constructor(r,n){this._sharedState=r,this._metricReader=n}async collect(r){let n=mt(Date.now()),a=[],s=[],l=Array.from(this._sharedState.meterSharedStates.values()).map(async t=>{let e=await t.collect(this,n,r);(e==null?void 0:e.scopeMetrics)!=null&&a.push(e.scopeMetrics),(e==null?void 0:e.errors)!=null&&s.push(...e.errors)});return await Promise.all(l),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:a},errors:s}}async forceFlush(r){await this._metricReader.forceFlush(r)}async shutdown(r){await this._metricReader.shutdown(r)}selectAggregationTemporality(r){return this._metricReader.selectAggregationTemporality(r)}selectAggregation(r){return this._metricReader.selectAggregation(r)}}});var qu,LI=y(()=>{k();Cn();II();wI();qu=class{constructor(r){var n;this._shutdown=!1;let a=he.default().merge((n=r==null?void 0:r.resource)!==null&&n!==void 0?n:he.empty());if(this._sharedState=new Bu(a),(r==null?void 0:r.views)!=null&&r.views.length>0)for(let s of r.views)this._sharedState.viewRegistry.addView(s);if((r==null?void 0:r.readers)!=null&&r.readers.length>0)for(let s of r.readers)this.addMetricReader(s)}getMeter(r,n="",a={}){return this._shutdown?(A.warn("A shutdown MeterProvider cannot provide a Meter"),mc()):this._sharedState.getMeterSharedState({name:r,version:n,schemaUrl:a.schemaUrl}).meter}addMetricReader(r){let n=new Fu(this._sharedState,r);r.setMetricProducer(n),this._sharedState.metricCollectors.push(n)}async shutdown(r){if(this._shutdown){A.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(n=>n.shutdown(r)))}async forceFlush(r){if(this._shutdown){A.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(n=>n.forceFlush(r)))}}});var I$,Lo,Ln,Gu=y(()=>{I$=/[\^$\\.+?()[\]{}|]/g,Lo=class o{constructor(r){r==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(o.escapePattern(r)))}match(r){return this._matchAll?!0:this._regexp.test(r)}static escapePattern(r){return`^${r.replace(I$,"\\$&").replace("*",".*")}$`}static hasWildcard(r){return r.includes("*")}},Ln=class{constructor(r){this._matchAll=r===void 0,this._pattern=r}match(r){return!!(this._matchAll||r===this._pattern)}}});var Hu,MI=y(()=>{Gu();Hu=class{constructor(r){var n;this._nameFilter=new Lo((n=r==null?void 0:r.name)!==null&&n!==void 0?n:"*"),this._type=r==null?void 0:r.type,this._unitFilter=new Ln(r==null?void 0:r.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}});var ju,UI=y(()=>{Gu();ju=class{constructor(r){this._nameFilter=new Ln(r==null?void 0:r.name),this._versionFilter=new Ln(r==null?void 0:r.version),this._schemaUrlFilter=new Ln(r==null?void 0:r.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}});function w$(o){return o.instrumentName==null&&o.instrumentType==null&&o.instrumentUnit==null&&o.meterName==null&&o.meterVersion==null&&o.meterSchemaUrl==null}var zu,DI=y(()=>{Gu();Xm();MI();UI();mu();zu=class{constructor(r){var n;if(w$(r))throw new Error("Cannot create view with no selector arguments supplied");if(r.name!=null&&((r==null?void 0:r.instrumentName)==null||Lo.hasWildcard(r.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");r.attributeKeys!=null?this.attributesProcessor=new ku(r.attributeKeys):this.attributesProcessor=wn.Noop(),this.name=r.name,this.description=r.description,this.aggregation=(n=r.aggregation)!==null&&n!==void 0?n:Tt.Default(),this.instrumentSelector=new Hu({name:r.instrumentName,type:r.instrumentType,unit:r.instrumentUnit}),this.meterSelector=new ju({name:r.meterName,version:r.meterVersion,schemaUrl:r.meterSchemaUrl})}}});var Qm={};Ue(Qm,{Aggregation:()=>Tt,AggregationTemporality:()=>yr,ConsoleMetricExporter:()=>_u,DataPointType:()=>lt,DefaultAggregation:()=>Ma,DropAggregation:()=>bo,ExplicitBucketHistogramAggregation:()=>wa,ExponentialHistogramAggregation:()=>La,HistogramAggregation:()=>No,InMemoryMetricExporter:()=>vu,InstrumentType:()=>ge,LastValueAggregation:()=>Ao,MeterProvider:()=>qu,MetricReader:()=>xo,PeriodicExportingMetricReader:()=>Su,SumAggregation:()=>Ii,TimeoutError:()=>Pi,View:()=>zu});var Yu=y(()=>{ou();go();Hm();vI();_I();EI();ln();LI();mu();DI();Ir()});var ey=E($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.AbstractAsyncHooksContextManager=void 0;var L$=B("events"),M$=["addListener","on","once","prependListener","prependOnceListener"],Zm=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(r,n){return n instanceof L$.EventEmitter?this._bindEventEmitter(r,n):typeof n=="function"?this._bindFunction(r,n):n}_bindFunction(r,n){let a=this,s=function(...l){return a.with(r,()=>n.apply(this,l))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:n.length}),s}_bindEventEmitter(r,n){return this._getPatchMap(n)!==void 0||(this._createPatchMap(n),M$.forEach(s=>{n[s]!==void 0&&(n[s]=this._patchAddListener(n,n[s],r))}),typeof n.removeListener=="function"&&(n.removeListener=this._patchRemoveListener(n,n.removeListener)),typeof n.off=="function"&&(n.off=this._patchRemoveListener(n,n.off)),typeof n.removeAllListeners=="function"&&(n.removeAllListeners=this._patchRemoveAllListeners(n,n.removeAllListeners))),n}_patchRemoveListener(r,n){let a=this;return function(s,l){var t;let e=(t=a._getPatchMap(r))===null||t===void 0?void 0:t[s];if(e===void 0)return n.call(this,s,l);let i=e.get(l);return n.call(this,s,i||l)}}_patchRemoveAllListeners(r,n){let a=this;return function(s){let l=a._getPatchMap(r);return l!==void 0&&(arguments.length===0?a._createPatchMap(r):l[s]!==void 0&&delete l[s]),n.apply(this,arguments)}}_patchAddListener(r,n,a){let s=this;return function(l,t){if(s._wrapped)return n.call(this,l,t);let e=s._getPatchMap(r);e===void 0&&(e=s._createPatchMap(r));let i=e[l];i===void 0&&(i=new WeakMap,e[l]=i);let c=s.bind(a,t);i.set(t,c),s._wrapped=!0;try{return n.call(this,l,c)}finally{s._wrapped=!1}}}_createPatchMap(r){let n=Object.create(null);return r[this._kOtListeners]=n,n}_getPatchMap(r){return r[this._kOtListeners]}};$u.AbstractAsyncHooksContextManager=Zm});var kI=E(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.AsyncHooksContextManager=void 0;var U$=(k(),ie(st)),D$=B("async_hooks"),k$=ey(),ty=class extends k$.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=D$.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var r;return(r=this._stack[this._stack.length-1])!==null&&r!==void 0?r:U$.ROOT_CONTEXT}with(r,n,a,...s){this._enterContext(r);try{return n.call(a,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(r,n){if(n==="TIMERWRAP")return;let a=this._stack[this._stack.length-1];a!==void 0&&this._contexts.set(r,a)}_destroy(r){this._contexts.delete(r)}_before(r){let n=this._contexts.get(r);n!==void 0&&this._enterContext(n)}_after(){this._exitContext()}_enterContext(r){this._stack.push(r)}_exitContext(){this._stack.pop()}};Ku.AsyncHooksContextManager=ty});var VI=E(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.AsyncLocalStorageContextManager=void 0;var V$=(k(),ie(st)),B$=B("async_hooks"),F$=ey(),ry=class extends F$.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new B$.AsyncLocalStorage}active(){var r;return(r=this._asyncLocalStorage.getStore())!==null&&r!==void 0?r:V$.ROOT_CONTEXT}with(r,n,a,...s){let l=a==null?n:n.bind(a);return this._asyncLocalStorage.run(r,l,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};Wu.AsyncLocalStorageContextManager=ry});var FI=E(Mn=>{"use strict";var q$=Mn&&Mn.__createBinding||(Object.create?function(o,r,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return r[n]}})}:function(o,r,n,a){a===void 0&&(a=n),o[a]=r[n]}),BI=Mn&&Mn.__exportStar||function(o,r){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&q$(r,o,n)};Object.defineProperty(Mn,"__esModule",{value:!0});BI(kI(),Mn);BI(VI(),Mn)});var Mo,ny=y(()=>{k();Mo=Kt("OpenTelemetry Context Key B3 Debug Flag")});var wi,ka,Va,Ba,iy,Fa,qa=y(()=>{wi="b3",ka="x-b3-traceid",Va="x-b3-spanid",Ba="x-b3-sampled",iy="x-b3-parentspanid",Fa="x-b3-flags"});function j$(o){return o===Ee.SAMPLED||o===Ee.NONE}function z$(o){return Array.isArray(o)?o[0]:o}function Xu(o,r,n){let a=r.get(o,n);return z$(a)}function Y$(o,r){let n=Xu(o,r,ka);return typeof n=="string"?n.padStart(32,"0"):""}function $$(o,r){let n=Xu(o,r,Va);return typeof n=="string"?n:""}function qI(o,r){return Xu(o,r,Fa)==="1"?"1":void 0}function K$(o,r){let n=Xu(o,r,Ba);if(qI(o,r)==="1"||G$.has(n))return Ee.SAMPLED;if(n===void 0||H$.has(n))return Ee.NONE}var G$,H$,Ju,GI=y(()=>{k();Z();ny();qa();G$=new Set([!0,"true","True","1",1]),H$=new Set([!1,"false","False","0",0]);Ju=class{inject(r,n,a){let s=Se.getSpanContext(r);if(!s||!Xe(s)||Et(r))return;let l=r.getValue(Mo);a.set(n,ka,s.traceId),a.set(n,Va,s.spanId),l==="1"?a.set(n,Fa,l):s.traceFlags!==void 0&&a.set(n,Ba,(Ee.SAMPLED&s.traceFlags)===Ee.SAMPLED?"1":"0")}extract(r,n,a){let s=Y$(n,a),l=$$(n,a),t=K$(n,a),e=qI(n,a);return hr(s)&&yi(l)&&j$(t)?(r=r.setValue(Mo,e),Se.setSpanContext(r,{traceId:s,spanId:l,isRemote:!0,traceFlags:t})):r}fields(){return[ka,Va,Fa,Ba,iy]}}});function Z$(o){return o.length===32?o:`${J$}${o}`}function e8(o){return o&&X$.has(o)?Ee.SAMPLED:Ee.NONE}var W$,J$,X$,Q$,Qu,HI=y(()=>{k();Z();ny();qa();W$=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,J$="0".repeat(16),X$=new Set(["d","1"]),Q$="d";Qu=class{inject(r,n,a){let s=Se.getSpanContext(r);if(!s||!Xe(s)||Et(r))return;let l=r.getValue(Mo)||s.traceFlags&1,t=`${s.traceId}-${s.spanId}-${l}`;a.set(n,wi,t)}extract(r,n,a){let s=a.get(n,wi),l=Array.isArray(s)?s[0]:s;if(typeof l!="string")return r;let t=l.match(W$);if(!t)return r;let[,e,i,c]=t,u=Z$(e);if(!hr(u)||!yi(i))return r;let f=e8(c);return c===Q$&&(r=r.setValue(Mo,c)),Se.setSpanContext(r,{traceId:u,spanId:i,isRemote:!0,traceFlags:f})}fields(){return[wi]}}});var Ga,oy=y(()=>{(function(o){o[o.SINGLE_HEADER=0]="SINGLE_HEADER",o[o.MULTI_HEADER=1]="MULTI_HEADER"})(Ga||(Ga={}))});var sy,jI=y(()=>{Z();GI();HI();qa();oy();sy=class{constructor(r={}){this._b3MultiPropagator=new Ju,this._b3SinglePropagator=new Qu,r.injectEncoding===Ga.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(r,n,a){Et(r)||this._inject(r,n,a)}extract(r,n,a){let s=a.get(n,wi);return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(r,n,a):this._b3MultiPropagator.extract(r,n,a)}fields(){return this._fields}}});var zI={};Ue(zI,{B3InjectEncoding:()=>Ga,B3Propagator:()=>sy,B3_CONTEXT_HEADER:()=>wi,X_B3_FLAGS:()=>Fa,X_B3_PARENT_SPAN_ID:()=>iy,X_B3_SAMPLED:()=>Ba,X_B3_SPAN_ID:()=>Va,X_B3_TRACE_ID:()=>ka});var YI=y(()=>{jI();qa();oy()});var $I,KI=y(()=>{$I="exception"});var Ha,ay=y(()=>{k();Z();Jt();KI();Ha=class{constructor(r,n,a,s,l,t,e=[],i,c,u){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Cr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=a,this._spanContext=s,this.parentSpanId=t,this.kind=l,this.links=e;let f=Date.now();this._performanceStartTime=on.now(),this._performanceOffset=f-(this._performanceStartTime+la()),this._startTimeProvided=i!=null,this.startTime=this._getTime(i??f),this.resource=r.resource,this.instrumentationLibrary=r.instrumentationLibrary,this._spanLimits=r.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,u!=null&&this.setAttributes(u),this._spanProcessor=r.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}spanContext(){return this._spanContext}setAttribute(r,n){return n==null||this._isSpanEnded()?this:r.length===0?(A.warn(`Invalid attribute key: ${r}`),this):_i(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,r)?(this._droppedAttributesCount++,this):(this.attributes[r]=this._truncateToSize(n),this):(A.warn(`Invalid attribute value set for key: ${r}`),this)}setAttributes(r){for(let[n,a]of Object.entries(r))this.setAttribute(n,a);return this}addEvent(r,n,a){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return A.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&A.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),kc(n)&&(kc(a)||(a=n),n=void 0);let s=vi(n);return this.events.push({name:r,attributes:s,time:this._getTime(a),droppedAttributesCount:0}),this}setStatus(r){return this._isSpanEnded()?this:(this.status=r,this)}updateName(r){return this._isSpanEnded()?this:(this.name=r,this)}end(r){if(this._isSpanEnded()){A.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(r),this._duration=$h(this.startTime,this.endTime),this._duration[0]<0&&(A.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&A.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(r){if(typeof r=="number"&&r<on.now())return Uc(r+this._performanceOffset);if(typeof r=="number")return mt(r);if(r instanceof Date)return mt(r.getTime());if(ca(r))return r;if(this._startTimeProvided)return mt(Date.now());let n=on.now()-this._performanceStartTime;return Vc(this.startTime,mt(n))}isRecording(){return this._ended===!1}recordException(r,n){let a={};typeof r=="string"?a[nn.EXCEPTION_MESSAGE]=r:r&&(r.code?a[nn.EXCEPTION_TYPE]=r.code.toString():r.name&&(a[nn.EXCEPTION_TYPE]=r.name),r.message&&(a[nn.EXCEPTION_MESSAGE]=r.message),r.stack&&(a[nn.EXCEPTION_STACKTRACE]=r.stack)),a[nn.EXCEPTION_TYPE]||a[nn.EXCEPTION_MESSAGE]?this.addEvent($I,a,n):A.warn(`Failed to record an exception ${r}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&A.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(r,n){return r.length<=n?r:r.substr(0,n)}_truncateToSize(r){let n=this._attributeValueLengthLimit;return n<=0?(A.warn(`Attribute value limit must be positive, got ${n}`),r):typeof r=="string"?this._truncateToLimitUtil(r,n):Array.isArray(r)?r.map(a=>typeof a=="string"?this._truncateToLimitUtil(a,n):a):r}}});var Mr,ja=y(()=>{(function(o){o[o.NOT_RECORD=0]="NOT_RECORD",o[o.RECORD=1]="RECORD",o[o.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Mr||(Mr={}))});var cn,Zu=y(()=>{ja();cn=class{shouldSample(){return{decision:Mr.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var Sr,ef=y(()=>{ja();Sr=class{shouldSample(){return{decision:Mr.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var Li,ly=y(()=>{k();Z();Zu();ef();Li=class{constructor(r){var n,a,s,l;this._root=r.root,this._root||(we(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Sr),this._remoteParentSampled=(n=r.remoteParentSampled)!==null&&n!==void 0?n:new Sr,this._remoteParentNotSampled=(a=r.remoteParentNotSampled)!==null&&a!==void 0?a:new cn,this._localParentSampled=(s=r.localParentSampled)!==null&&s!==void 0?s:new Sr,this._localParentNotSampled=(l=r.localParentNotSampled)!==null&&l!==void 0?l:new cn}shouldSample(r,n,a,s,l,t){let e=Se.getSpanContext(r);return!e||!Xe(e)?this._root.shouldSample(r,n,a,s,l,t):e.isRemote?e.traceFlags&Ee.SAMPLED?this._remoteParentSampled.shouldSample(r,n,a,s,l,t):this._remoteParentNotSampled.shouldSample(r,n,a,s,l,t):e.traceFlags&Ee.SAMPLED?this._localParentSampled.shouldSample(r,n,a,s,l,t):this._localParentNotSampled.shouldSample(r,n,a,s,l,t)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var Uo,cy=y(()=>{k();ja();Uo=class{constructor(r=0){this._ratio=r,this._ratio=this._normalize(r),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(r,n){return{decision:hr(n)&&this._accumulate(n)<this._upperBound?Mr.RECORD_AND_SAMPLED:Mr.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(r){return typeof r!="number"||isNaN(r)?0:r>=1?1:r<=0?0:r}_accumulate(r){let n=0;for(let a=0;a<r.length/8;a++){let s=a*8,l=parseInt(r.slice(s,s+8),16);n=(n^l)>>>0}return n}}});function tf(){return{sampler:uy(t8),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:ee().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ee().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:ee().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ee().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:ee().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:ee().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:ee().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:ee().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function uy(o=ee()){switch(o.OTEL_TRACES_SAMPLER){case Vt.AlwaysOn:return new Sr;case Vt.AlwaysOff:return new cn;case Vt.ParentBasedAlwaysOn:return new Li({root:new Sr});case Vt.ParentBasedAlwaysOff:return new Li({root:new cn});case Vt.TraceIdRatio:return new Uo(WI(o));case Vt.ParentBasedTraceIdRatio:return new Li({root:new Uo(WI(o))});default:return A.error(`OTEL_TRACES_SAMPLER value "${o.OTEL_TRACES_SAMPLER} invalid, defaulting to ${r8}".`),new Sr}}function WI(o){if(o.OTEL_TRACES_SAMPLER_ARG===void 0||o.OTEL_TRACES_SAMPLER_ARG==="")return A.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Do}.`),Do;let r=Number(o.OTEL_TRACES_SAMPLER_ARG);return isNaN(r)?(A.error(`OTEL_TRACES_SAMPLER_ARG=${o.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Do}.`),Do):r<0||r>1?(A.error(`OTEL_TRACES_SAMPLER_ARG=${o.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Do}.`),Do):r}var t8,r8,Do,fy=y(()=>{k();Z();Zu();ef();ly();cy();t8=ee(),r8=Vt.AlwaysOn,Do=1});function JI(o){let r={sampler:uy()},n=tf(),a=Object.assign({},n,r,o);return a.generalLimits=Object.assign({},n.generalLimits,o.generalLimits||{}),a.spanLimits=Object.assign({},n.spanLimits,o.spanLimits||{}),a}function XI(o){var r,n,a,s,l,t,e,i,c,u,f,v;let _=Object.assign({},o.spanLimits),x=fo();return _.attributeCountLimit=(t=(l=(s=(n=(r=o.spanLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&n!==void 0?n:(a=o.generalLimits)===null||a===void 0?void 0:a.attributeCountLimit)!==null&&s!==void 0?s:x.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&l!==void 0?l:x.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&t!==void 0?t:Pn,_.attributeValueLengthLimit=(v=(f=(u=(i=(e=o.spanLimits)===null||e===void 0?void 0:e.attributeValueLengthLimit)!==null&&i!==void 0?i:(c=o.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&u!==void 0?u:x.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:x.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&v!==void 0?v:Rn,Object.assign({},o,{spanLimits:_})}var py=y(()=>{fy();Z()});var rf,QI=y(()=>{k();Z();rf=class{constructor(r,n){this._exporter=r,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let a=ee();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:a.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:a.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:a.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:a.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new at(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(A.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(r,n){}onEnd(r){this._shutdownOnce.isCalled||r.spanContext().traceFlags&Ee.SAMPLED&&this._addToBuffer(r)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(r){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&A.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(A.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(r),this._maybeStartTimer()}_flushAll(){return new Promise((r,n)=>{let a=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let l=0,t=s;l<t;l++)a.push(this._flushOneBatch());Promise.all(a).then(()=>{r()}).catch(n)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((r,n)=>{let a=setTimeout(()=>{n(new Error("Timeout"))},this._exportTimeoutMillis);Ke.with(ia(Ke.active()),()=>{let s;this._finishedSpans.length<=this._maxExportBatchSize?(s=this._finishedSpans,this._finishedSpans=[]):s=this._finishedSpans.splice(0,this._maxExportBatchSize);let l=()=>this._exporter.export(s,e=>{var i;clearTimeout(a),e.code===oe.SUCCESS?r():n((i=e.error)!==null&&i!==void 0?i:new Error("BatchSpanProcessor: span export failed"))}),t=null;for(let e=0,i=s.length;e<i;e++){let c=s[e];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(t??(t=[]),t.push(c.resource.waitForAsyncAttributes()))}t===null?l():Promise.all(t).then(l,e=>{we(e),n(e)})})})}_maybeStartTimer(){if(this._isExporting)return;let r=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(n=>{this._isExporting=!1,we(n)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return r();this._timer===void 0&&(this._timer=setTimeout(()=>r(),this._scheduledDelayMillis),gi(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}});var za,ZI=y(()=>{QI();za=class extends rf{onShutdown(){}}});function e1(o){return function(){for(let n=0;n<o/4;n++)nf.writeUInt32BE(Math.random()*2**32>>>0,n*4);for(let n=0;n<o&&!(nf[n]>0);n++)n===o-1&&(nf[o-1]=1);return nf.toString("hex",0,o)}}var Ya,nf,t1=y(()=>{Ya=class{constructor(){this.generateTraceId=e1(16),this.generateSpanId=e1(8)}},nf=Buffer.allocUnsafe(16)});var r1=y(()=>{ZI();t1()});var of=y(()=>{r1()});var $a,n1=y(()=>{k();Z();ay();py();of();$a=class{constructor(r,n,a){this._tracerProvider=a;let s=JI(n);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=n.idGenerator||new Ya,this.resource=a.resource,this.instrumentationLibrary=r}startSpan(r,n={},a=Ke.active()){var s,l,t;n.root&&(a=Se.deleteSpan(a));let e=Se.getSpan(a);if(Et(a))return A.debug("Instrumentation suppressed, returning Noop Span"),Se.wrapSpanContext(co);let i=e==null?void 0:e.spanContext(),c=this._idGenerator.generateSpanId(),u,f,v;!i||!Se.isSpanContextValid(i)?u=this._idGenerator.generateTraceId():(u=i.traceId,f=i.traceState,v=i.spanId);let _=(s=n.kind)!==null&&s!==void 0?s:Wt.INTERNAL,x=((l=n.links)!==null&&l!==void 0?l:[]).map(K=>({context:K.context,attributes:vi(K.attributes)})),O=vi(n.attributes),R=this._sampler.shouldSample(a,u,r,_,O,x);f=(t=R.traceState)!==null&&t!==void 0?t:f;let N=R.decision===Pt.RECORD_AND_SAMPLED?Ee.SAMPLED:Ee.NONE,C={traceId:u,spanId:c,traceFlags:N,traceState:f};if(R.decision===Pt.NOT_RECORD)return A.debug("Recording is off, propagating context in a non-recording span"),Se.wrapSpanContext(C);let D=vi(Object.assign(O,R.attributes));return new Ha(this,a,r,C,_,v,x,n.startTime,void 0,D)}startActiveSpan(r,n,a,s){let l,t,e;if(arguments.length<2)return;arguments.length===2?e=n:arguments.length===3?(l=n,e=a):(l=n,t=a,e=s);let i=t??Ke.active(),c=this.startSpan(r,l,i),u=Se.setSpan(i,c);return Ke.with(u,e,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}});var sf,i1=y(()=>{Z();sf=class{constructor(r){this._spanProcessors=r}forceFlush(){let r=[];for(let n of this._spanProcessors)r.push(n.forceFlush());return new Promise(n=>{Promise.all(r).then(()=>{n()}).catch(a=>{we(a||new Error("MultiSpanProcessor: forceFlush failed")),n()})})}onStart(r,n){for(let a of this._spanProcessors)a.onStart(r,n)}onEnd(r){for(let n of this._spanProcessors)n.onEnd(r)}shutdown(){let r=[];for(let n of this._spanProcessors)r.push(n.shutdown());return new Promise((n,a)=>{Promise.all(r).then(()=>{n()},a)})}}});var Ka,dy=y(()=>{Ka=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}});var Un,Wa,o1=y(()=>{k();Z();Cn();Mi();fy();i1();dy();of();py();(function(o){o[o.resolved=0]="resolved",o[o.timeout=1]="timeout",o[o.error=2]="error",o[o.unresolved=3]="unresolved"})(Un||(Un={}));Wa=class{constructor(r={}){var n;this._registeredSpanProcessors=[],this._tracers=new Map;let a=ha({},tf(),XI(r));this.resource=(n=a.resource)!==null&&n!==void 0?n:he.empty(),this.resource=he.default().merge(this.resource),this._config=Object.assign({},a,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let l=new za(s);this.activeSpanProcessor=l}else this.activeSpanProcessor=new Ka}getTracer(r,n,a){let s=`${r}@${n||""}:${(a==null?void 0:a.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new $a({name:r,version:n,schemaUrl:a==null?void 0:a.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(r){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(n=>A.error("Error while trying to shutdown current span processor",n)),this._registeredSpanProcessors.push(r),this.activeSpanProcessor=new sf(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(r={}){Se.setGlobalTracerProvider(this),r.propagator===void 0&&(r.propagator=this._buildPropagatorFromEnv()),r.contextManager&&Ke.setGlobalContextManager(r.contextManager),r.propagator&&Ct.setGlobalPropagator(r.propagator)}forceFlush(){let r=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(a=>new Promise(s=>{let l,t=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${r} ms`)),l=Un.timeout},r);a.forceFlush().then(()=>{clearTimeout(t),l!==Un.timeout&&(l=Un.resolved,s(l))}).catch(e=>{clearTimeout(t),l=Un.error,s(e)})}));return new Promise((a,s)=>{Promise.all(n).then(l=>{let t=l.filter(e=>e!==Un.resolved);t.length>0?s(t):a()}).catch(l=>s([l]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(r){var n;return(n=this.constructor._registeredPropagators.get(r))===null||n===void 0?void 0:n()}_getSpanExporter(r){var n;return(n=this.constructor._registeredExporters.get(r))===null||n===void 0?void 0:n()}_buildPropagatorFromEnv(){let r=Array.from(new Set(ee().OTEL_PROPAGATORS)),a=r.map(s=>{let l=this._getPropagator(s);return l||A.warn(`Propagator "${s}" requested through environment variable is unavailable.`),l}).reduce((s,l)=>(l&&s.push(l),s),[]);if(a.length!==0)return r.length===1?a[0]:new ua({propagators:a})}_buildExporterFromEnv(){let r=ee().OTEL_TRACES_EXPORTER;if(r==="none"||r==="")return;let n=this._getSpanExporter(r);return n||A.error(`Exporter "${r}" requested through environment variable is unavailable.`),n}};Wa._registeredPropagators=new Map([["tracecontext",()=>new pa],["baggage",()=>new sa]]);Wa._registeredExporters=new Map});var hy,s1=y(()=>{Z();hy=class{export(r,n){return this._sendSpans(r,n)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(r){var n;return{resource:{attributes:r.resource.attributes},traceId:r.spanContext().traceId,parentId:r.parentSpanId,traceState:(n=r.spanContext().traceState)===null||n===void 0?void 0:n.serialize(),name:r.name,id:r.spanContext().spanId,kind:r.kind,timestamp:gt(r.startTime),duration:gt(r.duration),attributes:r.attributes,status:r.status,events:r.events,links:r.links}}_sendSpans(r,n){for(let a of r)console.dir(this._exportInfo(a),{depth:3});if(n)return n({code:oe.SUCCESS})}}});var my,a1=y(()=>{Z();my=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(r,n){if(this._stopped)return n({code:oe.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...r),setTimeout(()=>n({code:oe.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}});var l1=y(()=>{});var yy,c1=y(()=>{k();Z();yy=class{constructor(r){this._exporter=r,this._shutdownOnce=new at(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(r,n){}onEnd(r){var n,a;if(this._shutdownOnce.isCalled||!(r.spanContext().traceFlags&Ee.SAMPLED))return;let s=()=>sn._export(this._exporter,[r]).then(l=>{var t;l.code!==oe.SUCCESS&&we((t=l.error)!==null&&t!==void 0?t:new Error(`SimpleSpanProcessor: span export failed (status ${l})`))}).catch(l=>{we(l)});if(r.resource.asyncAttributesPending){let l=(a=(n=r.resource).waitForAsyncAttributes)===null||a===void 0?void 0:a.call(n).then(()=>(l!=null&&this._unresolvedExports.delete(l),s()),t=>we(t));l!=null&&this._unresolvedExports.add(l)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var u1=y(()=>{});var f1=y(()=>{});var p1=y(()=>{});var d1=y(()=>{});var h1=y(()=>{});var ko={};Ue(ko,{AlwaysOffSampler:()=>cn,AlwaysOnSampler:()=>Sr,BasicTracerProvider:()=>Wa,BatchSpanProcessor:()=>za,ConsoleSpanExporter:()=>hy,ForceFlushState:()=>Un,InMemorySpanExporter:()=>my,NoopSpanProcessor:()=>Ka,ParentBasedSampler:()=>Li,RandomIdGenerator:()=>Ya,SamplingDecision:()=>Mr,SimpleSpanProcessor:()=>yy,Span:()=>Ha,TraceIdRatioBasedSampler:()=>Uo,Tracer:()=>$a});var Mi=y(()=>{n1();o1();of();s1();a1();l1();c1();u1();dy();Zu();ef();ly();cy();ja();ay();f1();p1();d1();h1()});var Ja=E((zye,m1)=>{var n8="2.0.0",i8=Number.MAX_SAFE_INTEGER||9007199254740991,o8=16,s8=250,a8=["major","premajor","minor","preminor","patch","prepatch","prerelease"];m1.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:o8,MAX_SAFE_BUILD_LENGTH:s8,MAX_SAFE_INTEGER:i8,RELEASE_TYPES:a8,SEMVER_SPEC_VERSION:n8,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Xa=E((Yye,y1)=>{var l8=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...o)=>console.error("SEMVER",...o):()=>{};y1.exports=l8});var Vo=E((un,S1)=>{var{MAX_SAFE_COMPONENT_LENGTH:Sy,MAX_SAFE_BUILD_LENGTH:c8,MAX_LENGTH:u8}=Ja(),f8=Xa();un=S1.exports={};var p8=un.re=[],d8=un.safeRe=[],F=un.src=[],q=un.t={},h8=0,vy="[a-zA-Z0-9-]",m8=[["\\s",1],["\\d",u8],[vy,c8]],y8=o=>{for(let[r,n]of m8)o=o.split(`${r}*`).join(`${r}{0,${n}}`).split(`${r}+`).join(`${r}{1,${n}}`);return o},ue=(o,r,n)=>{let a=y8(r),s=h8++;f8(o,s,r),q[o]=s,F[s]=r,p8[s]=new RegExp(r,n?"g":void 0),d8[s]=new RegExp(a,n?"g":void 0)};ue("NUMERICIDENTIFIER","0|[1-9]\\d*");ue("NUMERICIDENTIFIERLOOSE","\\d+");ue("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${vy}*`);ue("MAINVERSION",`(${F[q.NUMERICIDENTIFIER]})\\.(${F[q.NUMERICIDENTIFIER]})\\.(${F[q.NUMERICIDENTIFIER]})`);ue("MAINVERSIONLOOSE",`(${F[q.NUMERICIDENTIFIERLOOSE]})\\.(${F[q.NUMERICIDENTIFIERLOOSE]})\\.(${F[q.NUMERICIDENTIFIERLOOSE]})`);ue("PRERELEASEIDENTIFIER",`(?:${F[q.NUMERICIDENTIFIER]}|${F[q.NONNUMERICIDENTIFIER]})`);ue("PRERELEASEIDENTIFIERLOOSE",`(?:${F[q.NUMERICIDENTIFIERLOOSE]}|${F[q.NONNUMERICIDENTIFIER]})`);ue("PRERELEASE",`(?:-(${F[q.PRERELEASEIDENTIFIER]}(?:\\.${F[q.PRERELEASEIDENTIFIER]})*))`);ue("PRERELEASELOOSE",`(?:-?(${F[q.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${F[q.PRERELEASEIDENTIFIERLOOSE]})*))`);ue("BUILDIDENTIFIER",`${vy}+`);ue("BUILD",`(?:\\+(${F[q.BUILDIDENTIFIER]}(?:\\.${F[q.BUILDIDENTIFIER]})*))`);ue("FULLPLAIN",`v?${F[q.MAINVERSION]}${F[q.PRERELEASE]}?${F[q.BUILD]}?`);ue("FULL",`^${F[q.FULLPLAIN]}$`);ue("LOOSEPLAIN",`[v=\\s]*${F[q.MAINVERSIONLOOSE]}${F[q.PRERELEASELOOSE]}?${F[q.BUILD]}?`);ue("LOOSE",`^${F[q.LOOSEPLAIN]}$`);ue("GTLT","((?:<|>)?=?)");ue("XRANGEIDENTIFIERLOOSE",`${F[q.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ue("XRANGEIDENTIFIER",`${F[q.NUMERICIDENTIFIER]}|x|X|\\*`);ue("XRANGEPLAIN",`[v=\\s]*(${F[q.XRANGEIDENTIFIER]})(?:\\.(${F[q.XRANGEIDENTIFIER]})(?:\\.(${F[q.XRANGEIDENTIFIER]})(?:${F[q.PRERELEASE]})?${F[q.BUILD]}?)?)?`);ue("XRANGEPLAINLOOSE",`[v=\\s]*(${F[q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${F[q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${F[q.XRANGEIDENTIFIERLOOSE]})(?:${F[q.PRERELEASELOOSE]})?${F[q.BUILD]}?)?)?`);ue("XRANGE",`^${F[q.GTLT]}\\s*${F[q.XRANGEPLAIN]}$`);ue("XRANGELOOSE",`^${F[q.GTLT]}\\s*${F[q.XRANGEPLAINLOOSE]}$`);ue("COERCE",`(^|[^\\d])(\\d{1,${Sy}})(?:\\.(\\d{1,${Sy}}))?(?:\\.(\\d{1,${Sy}}))?(?:$|[^\\d])`);ue("COERCERTL",F[q.COERCE],!0);ue("LONETILDE","(?:~>?)");ue("TILDETRIM",`(\\s*)${F[q.LONETILDE]}\\s+`,!0);un.tildeTrimReplace="$1~";ue("TILDE",`^${F[q.LONETILDE]}${F[q.XRANGEPLAIN]}$`);ue("TILDELOOSE",`^${F[q.LONETILDE]}${F[q.XRANGEPLAINLOOSE]}$`);ue("LONECARET","(?:\\^)");ue("CARETTRIM",`(\\s*)${F[q.LONECARET]}\\s+`,!0);un.caretTrimReplace="$1^";ue("CARET",`^${F[q.LONECARET]}${F[q.XRANGEPLAIN]}$`);ue("CARETLOOSE",`^${F[q.LONECARET]}${F[q.XRANGEPLAINLOOSE]}$`);ue("COMPARATORLOOSE",`^${F[q.GTLT]}\\s*(${F[q.LOOSEPLAIN]})$|^$`);ue("COMPARATOR",`^${F[q.GTLT]}\\s*(${F[q.FULLPLAIN]})$|^$`);ue("COMPARATORTRIM",`(\\s*)${F[q.GTLT]}\\s*(${F[q.LOOSEPLAIN]}|${F[q.XRANGEPLAIN]})`,!0);un.comparatorTrimReplace="$1$2$3";ue("HYPHENRANGE",`^\\s*(${F[q.XRANGEPLAIN]})\\s+-\\s+(${F[q.XRANGEPLAIN]})\\s*$`);ue("HYPHENRANGELOOSE",`^\\s*(${F[q.XRANGEPLAINLOOSE]})\\s+-\\s+(${F[q.XRANGEPLAINLOOSE]})\\s*$`);ue("STAR","(<|>)?=?\\s*\\*");ue("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ue("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var af=E(($ye,v1)=>{var S8=Object.freeze({loose:!0}),v8=Object.freeze({}),_8=o=>o?typeof o!="object"?S8:o:v8;v1.exports=_8});var _y=E((Kye,g1)=>{var _1=/^[0-9]+$/,E1=(o,r)=>{let n=_1.test(o),a=_1.test(r);return n&&a&&(o=+o,r=+r),o===r?0:n&&!a?-1:a&&!n?1:o<r?-1:1},E8=(o,r)=>E1(r,o);g1.exports={compareIdentifiers:E1,rcompareIdentifiers:E8}});var yt=E((Wye,A1)=>{var lf=Xa(),{MAX_LENGTH:T1,MAX_SAFE_INTEGER:cf}=Ja(),{safeRe:O1,t:b1}=Vo(),g8=af(),{compareIdentifiers:Bo}=_y(),Ey=class o{constructor(r,n){if(n=g8(n),r instanceof o){if(r.loose===!!n.loose&&r.includePrerelease===!!n.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>T1)throw new TypeError(`version is longer than ${T1} characters`);lf("SemVer",r,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let a=r.trim().match(n.loose?O1[b1.LOOSE]:O1[b1.FULL]);if(!a)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>cf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cf||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let l=+s;if(l>=0&&l<cf)return l}return s}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(lf("SemVer.compare",this.version,this.options,r),!(r instanceof o)){if(typeof r=="string"&&r===this.version)return 0;r=new o(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof o||(r=new o(r,this.options)),Bo(this.major,r.major)||Bo(this.minor,r.minor)||Bo(this.patch,r.patch)}comparePre(r){if(r instanceof o||(r=new o(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let n=0;do{let a=this.prerelease[n],s=r.prerelease[n];if(lf("prerelease compare",n,a,s),a===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(a===void 0)return-1;if(a===s)continue;return Bo(a,s)}while(++n)}compareBuild(r){r instanceof o||(r=new o(r,this.options));let n=0;do{let a=this.build[n],s=r.build[n];if(lf("prerelease compare",n,a,s),a===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(a===void 0)return-1;if(a===s)continue;return Bo(a,s)}while(++n)}inc(r,n,a){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,a),this.inc("pre",n,a);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,a),this.inc("pre",n,a);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(a)?1:0;if(!n&&a===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let l=this.prerelease.length;for(;--l>=0;)typeof this.prerelease[l]=="number"&&(this.prerelease[l]++,l=-2);if(l===-1){if(n===this.prerelease.join(".")&&a===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let l=[n,s];a===!1&&(l=[n]),Bo(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};A1.exports=Ey});var Ui=E((Jye,x1)=>{var N1=yt(),T8=(o,r,n=!1)=>{if(o instanceof N1)return o;try{return new N1(o,r)}catch(a){if(!n)return null;throw a}};x1.exports=T8});var P1=E((Xye,R1)=>{var O8=Ui(),b8=(o,r)=>{let n=O8(o,r);return n?n.version:null};R1.exports=b8});var I1=E((Qye,C1)=>{var A8=Ui(),N8=(o,r)=>{let n=A8(o.trim().replace(/^[=v]+/,""),r);return n?n.version:null};C1.exports=N8});var M1=E((Zye,L1)=>{var w1=yt(),x8=(o,r,n,a,s)=>{typeof n=="string"&&(s=a,a=n,n=void 0);try{return new w1(o instanceof w1?o.version:o,n).inc(r,a,s).version}catch{return null}};L1.exports=x8});var k1=E((eSe,D1)=>{var U1=Ui(),R8=(o,r)=>{let n=U1(o,null,!0),a=U1(r,null,!0),s=n.compare(a);if(s===0)return null;let l=s>0,t=l?n:a,e=l?a:n,i=!!t.prerelease.length;if(!!e.prerelease.length&&!i)return!e.patch&&!e.minor?"major":t.patch?"patch":t.minor?"minor":"major";let u=i?"pre":"";return n.major!==a.major?u+"major":n.minor!==a.minor?u+"minor":n.patch!==a.patch?u+"patch":"prerelease"};D1.exports=R8});var B1=E((tSe,V1)=>{var P8=yt(),C8=(o,r)=>new P8(o,r).major;V1.exports=C8});var q1=E((rSe,F1)=>{var I8=yt(),w8=(o,r)=>new I8(o,r).minor;F1.exports=w8});var H1=E((nSe,G1)=>{var L8=yt(),M8=(o,r)=>new L8(o,r).patch;G1.exports=M8});var z1=E((iSe,j1)=>{var U8=Ui(),D8=(o,r)=>{let n=U8(o,r);return n&&n.prerelease.length?n.prerelease:null};j1.exports=D8});var Qt=E((oSe,$1)=>{var Y1=yt(),k8=(o,r,n)=>new Y1(o,n).compare(new Y1(r,n));$1.exports=k8});var W1=E((sSe,K1)=>{var V8=Qt(),B8=(o,r,n)=>V8(r,o,n);K1.exports=B8});var X1=E((aSe,J1)=>{var F8=Qt(),q8=(o,r)=>F8(o,r,!0);J1.exports=q8});var uf=E((lSe,Z1)=>{var Q1=yt(),G8=(o,r,n)=>{let a=new Q1(o,n),s=new Q1(r,n);return a.compare(s)||a.compareBuild(s)};Z1.exports=G8});var tw=E((cSe,ew)=>{var H8=uf(),j8=(o,r)=>o.sort((n,a)=>H8(n,a,r));ew.exports=j8});var nw=E((uSe,rw)=>{var z8=uf(),Y8=(o,r)=>o.sort((n,a)=>z8(a,n,r));rw.exports=Y8});var Qa=E((fSe,iw)=>{var $8=Qt(),K8=(o,r,n)=>$8(o,r,n)>0;iw.exports=K8});var ff=E((pSe,ow)=>{var W8=Qt(),J8=(o,r,n)=>W8(o,r,n)<0;ow.exports=J8});var gy=E((dSe,sw)=>{var X8=Qt(),Q8=(o,r,n)=>X8(o,r,n)===0;sw.exports=Q8});var Ty=E((hSe,aw)=>{var Z8=Qt(),e5=(o,r,n)=>Z8(o,r,n)!==0;aw.exports=e5});var pf=E((mSe,lw)=>{var t5=Qt(),r5=(o,r,n)=>t5(o,r,n)>=0;lw.exports=r5});var df=E((ySe,cw)=>{var n5=Qt(),i5=(o,r,n)=>n5(o,r,n)<=0;cw.exports=i5});var Oy=E((SSe,uw)=>{var o5=gy(),s5=Ty(),a5=Qa(),l5=pf(),c5=ff(),u5=df(),f5=(o,r,n,a)=>{switch(r){case"===":return typeof o=="object"&&(o=o.version),typeof n=="object"&&(n=n.version),o===n;case"!==":return typeof o=="object"&&(o=o.version),typeof n=="object"&&(n=n.version),o!==n;case"":case"=":case"==":return o5(o,n,a);case"!=":return s5(o,n,a);case">":return a5(o,n,a);case">=":return l5(o,n,a);case"<":return c5(o,n,a);case"<=":return u5(o,n,a);default:throw new TypeError(`Invalid operator: ${r}`)}};uw.exports=f5});var pw=E((vSe,fw)=>{var p5=yt(),d5=Ui(),{safeRe:hf,t:mf}=Vo(),h5=(o,r)=>{if(o instanceof p5)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;r=r||{};let n=null;if(!r.rtl)n=o.match(hf[mf.COERCE]);else{let a;for(;(a=hf[mf.COERCERTL].exec(o))&&(!n||n.index+n[0].length!==o.length);)(!n||a.index+a[0].length!==n.index+n[0].length)&&(n=a),hf[mf.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;hf[mf.COERCERTL].lastIndex=-1}return n===null?null:d5(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,r)};fw.exports=h5});var hw=E((_Se,dw)=>{"use strict";dw.exports=function(o){o.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}});var yw=E((ESe,mw)=>{"use strict";mw.exports=be;be.Node=Di;be.create=be;function be(o){var r=this;if(r instanceof be||(r=new be),r.tail=null,r.head=null,r.length=0,o&&typeof o.forEach=="function")o.forEach(function(s){r.push(s)});else if(arguments.length>0)for(var n=0,a=arguments.length;n<a;n++)r.push(arguments[n]);return r}be.prototype.removeNode=function(o){if(o.list!==this)throw new Error("removing node which does not belong to this list");var r=o.next,n=o.prev;return r&&(r.prev=n),n&&(n.next=r),o===this.head&&(this.head=r),o===this.tail&&(this.tail=n),o.list.length--,o.next=null,o.prev=null,o.list=null,r};be.prototype.unshiftNode=function(o){if(o!==this.head){o.list&&o.list.removeNode(o);var r=this.head;o.list=this,o.next=r,r&&(r.prev=o),this.head=o,this.tail||(this.tail=o),this.length++}};be.prototype.pushNode=function(o){if(o!==this.tail){o.list&&o.list.removeNode(o);var r=this.tail;o.list=this,o.prev=r,r&&(r.next=o),this.tail=o,this.head||(this.head=o),this.length++}};be.prototype.push=function(){for(var o=0,r=arguments.length;o<r;o++)y5(this,arguments[o]);return this.length};be.prototype.unshift=function(){for(var o=0,r=arguments.length;o<r;o++)S5(this,arguments[o]);return this.length};be.prototype.pop=function(){if(this.tail){var o=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,o}};be.prototype.shift=function(){if(this.head){var o=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,o}};be.prototype.forEach=function(o,r){r=r||this;for(var n=this.head,a=0;n!==null;a++)o.call(r,n.value,a,this),n=n.next};be.prototype.forEachReverse=function(o,r){r=r||this;for(var n=this.tail,a=this.length-1;n!==null;a--)o.call(r,n.value,a,this),n=n.prev};be.prototype.get=function(o){for(var r=0,n=this.head;n!==null&&r<o;r++)n=n.next;if(r===o&&n!==null)return n.value};be.prototype.getReverse=function(o){for(var r=0,n=this.tail;n!==null&&r<o;r++)n=n.prev;if(r===o&&n!==null)return n.value};be.prototype.map=function(o,r){r=r||this;for(var n=new be,a=this.head;a!==null;)n.push(o.call(r,a.value,this)),a=a.next;return n};be.prototype.mapReverse=function(o,r){r=r||this;for(var n=new be,a=this.tail;a!==null;)n.push(o.call(r,a.value,this)),a=a.prev;return n};be.prototype.reduce=function(o,r){var n,a=this.head;if(arguments.length>1)n=r;else if(this.head)a=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;a!==null;s++)n=o(n,a.value,s),a=a.next;return n};be.prototype.reduceReverse=function(o,r){var n,a=this.tail;if(arguments.length>1)n=r;else if(this.tail)a=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;a!==null;s--)n=o(n,a.value,s),a=a.prev;return n};be.prototype.toArray=function(){for(var o=new Array(this.length),r=0,n=this.head;n!==null;r++)o[r]=n.value,n=n.next;return o};be.prototype.toArrayReverse=function(){for(var o=new Array(this.length),r=0,n=this.tail;n!==null;r++)o[r]=n.value,n=n.prev;return o};be.prototype.slice=function(o,r){r=r||this.length,r<0&&(r+=this.length),o=o||0,o<0&&(o+=this.length);var n=new be;if(r<o||r<0)return n;o<0&&(o=0),r>this.length&&(r=this.length);for(var a=0,s=this.head;s!==null&&a<o;a++)s=s.next;for(;s!==null&&a<r;a++,s=s.next)n.push(s.value);return n};be.prototype.sliceReverse=function(o,r){r=r||this.length,r<0&&(r+=this.length),o=o||0,o<0&&(o+=this.length);var n=new be;if(r<o||r<0)return n;o<0&&(o=0),r>this.length&&(r=this.length);for(var a=this.length,s=this.tail;s!==null&&a>r;a--)s=s.prev;for(;s!==null&&a>o;a--,s=s.prev)n.push(s.value);return n};be.prototype.splice=function(o,r,...n){o>this.length&&(o=this.length-1),o<0&&(o=this.length+o);for(var a=0,s=this.head;s!==null&&a<o;a++)s=s.next;for(var l=[],a=0;s&&a<r;a++)l.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var a=0;a<n.length;a++)s=m5(this,s,n[a]);return l};be.prototype.reverse=function(){for(var o=this.head,r=this.tail,n=o;n!==null;n=n.prev){var a=n.prev;n.prev=n.next,n.next=a}return this.head=r,this.tail=o,this};function m5(o,r,n){var a=r===o.head?new Di(n,null,r,o):new Di(n,r,r.next,o);return a.next===null&&(o.tail=a),a.prev===null&&(o.head=a),o.length++,a}function y5(o,r){o.tail=new Di(r,o.tail,null,o),o.head||(o.head=o.tail),o.length++}function S5(o,r){o.head=new Di(r,null,o.head,o),o.tail||(o.tail=o.head),o.length++}function Di(o,r,n,a){if(!(this instanceof Di))return new Di(o,r,n,a);this.list=a,this.value=o,r?(r.next=this,this.prev=r):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{hw()(be)}catch{}});var gw=E((gSe,Ew)=>{"use strict";var v5=yw(),ki=Symbol("max"),pn=Symbol("length"),Fo=Symbol("lengthCalculator"),el=Symbol("allowStale"),Vi=Symbol("maxAge"),fn=Symbol("dispose"),Sw=Symbol("noDisposeOnSet"),Qe=Symbol("lruList"),vr=Symbol("cache"),_w=Symbol("updateAgeOnGet"),by=()=>1,Ny=class{constructor(r){if(typeof r=="number"&&(r={max:r}),r||(r={}),r.max&&(typeof r.max!="number"||r.max<0))throw new TypeError("max must be a non-negative number");let n=this[ki]=r.max||1/0,a=r.length||by;if(this[Fo]=typeof a!="function"?by:a,this[el]=r.stale||!1,r.maxAge&&typeof r.maxAge!="number")throw new TypeError("maxAge must be a number");this[Vi]=r.maxAge||0,this[fn]=r.dispose,this[Sw]=r.noDisposeOnSet||!1,this[_w]=r.updateAgeOnGet||!1,this.reset()}set max(r){if(typeof r!="number"||r<0)throw new TypeError("max must be a non-negative number");this[ki]=r||1/0,Za(this)}get max(){return this[ki]}set allowStale(r){this[el]=!!r}get allowStale(){return this[el]}set maxAge(r){if(typeof r!="number")throw new TypeError("maxAge must be a non-negative number");this[Vi]=r,Za(this)}get maxAge(){return this[Vi]}set lengthCalculator(r){typeof r!="function"&&(r=by),r!==this[Fo]&&(this[Fo]=r,this[pn]=0,this[Qe].forEach(n=>{n.length=this[Fo](n.value,n.key),this[pn]+=n.length})),Za(this)}get lengthCalculator(){return this[Fo]}get length(){return this[pn]}get itemCount(){return this[Qe].length}rforEach(r,n){n=n||this;for(let a=this[Qe].tail;a!==null;){let s=a.prev;vw(this,r,a,n),a=s}}forEach(r,n){n=n||this;for(let a=this[Qe].head;a!==null;){let s=a.next;vw(this,r,a,n),a=s}}keys(){return this[Qe].toArray().map(r=>r.key)}values(){return this[Qe].toArray().map(r=>r.value)}reset(){this[fn]&&this[Qe]&&this[Qe].length&&this[Qe].forEach(r=>this[fn](r.key,r.value)),this[vr]=new Map,this[Qe]=new v5,this[pn]=0}dump(){return this[Qe].map(r=>yf(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[Qe]}set(r,n,a){if(a=a||this[Vi],a&&typeof a!="number")throw new TypeError("maxAge must be a number");let s=a?Date.now():0,l=this[Fo](n,r);if(this[vr].has(r)){if(l>this[ki])return qo(this,this[vr].get(r)),!1;let i=this[vr].get(r).value;return this[fn]&&(this[Sw]||this[fn](r,i.value)),i.now=s,i.maxAge=a,i.value=n,this[pn]+=l-i.length,i.length=l,this.get(r),Za(this),!0}let t=new xy(r,n,l,s,a);return t.length>this[ki]?(this[fn]&&this[fn](r,n),!1):(this[pn]+=t.length,this[Qe].unshift(t),this[vr].set(r,this[Qe].head),Za(this),!0)}has(r){if(!this[vr].has(r))return!1;let n=this[vr].get(r).value;return!yf(this,n)}get(r){return Ay(this,r,!0)}peek(r){return Ay(this,r,!1)}pop(){let r=this[Qe].tail;return r?(qo(this,r),r.value):null}del(r){qo(this,this[vr].get(r))}load(r){this.reset();let n=Date.now();for(let a=r.length-1;a>=0;a--){let s=r[a],l=s.e||0;if(l===0)this.set(s.k,s.v);else{let t=l-n;t>0&&this.set(s.k,s.v,t)}}}prune(){this[vr].forEach((r,n)=>Ay(this,n,!1))}},Ay=(o,r,n)=>{let a=o[vr].get(r);if(a){let s=a.value;if(yf(o,s)){if(qo(o,a),!o[el])return}else n&&(o[_w]&&(a.value.now=Date.now()),o[Qe].unshiftNode(a));return s.value}},yf=(o,r)=>{if(!r||!r.maxAge&&!o[Vi])return!1;let n=Date.now()-r.now;return r.maxAge?n>r.maxAge:o[Vi]&&n>o[Vi]},Za=o=>{if(o[pn]>o[ki])for(let r=o[Qe].tail;o[pn]>o[ki]&&r!==null;){let n=r.prev;qo(o,r),r=n}},qo=(o,r)=>{if(r){let n=r.value;o[fn]&&o[fn](n.key,n.value),o[pn]-=n.length,o[vr].delete(n.key),o[Qe].removeNode(r)}},xy=class{constructor(r,n,a,s,l){this.key=r,this.value=n,this.length=a,this.now=s,this.maxAge=l||0}},vw=(o,r,n,a)=>{let s=n.value;yf(o,s)&&(qo(o,n),o[el]||(s=void 0)),s&&r.call(a,s.value,s.key,o)};Ew.exports=Ny});var Zt=E((TSe,Aw)=>{var Ry=class o{constructor(r,n){if(n=E5(n),r instanceof o)return r.loose===!!n.loose&&r.includePrerelease===!!n.includePrerelease?r:new o(r.raw,n);if(r instanceof Py)return this.raw=r.value,this.set=[[r]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let a=this.set[0];if(this.set=this.set.filter(s=>!Ow(s[0])),this.set.length===0)this.set=[a];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&x5(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(r=>r.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(r){let a=((this.options.includePrerelease&&A5)|(this.options.loose&&N5))+":"+r,s=Tw.get(a);if(s)return s;let l=this.options.loose,t=l?It[Ot.HYPHENRANGELOOSE]:It[Ot.HYPHENRANGE];r=r.replace(t,k5(this.options.includePrerelease)),Le("hyphen replace",r),r=r.replace(It[Ot.COMPARATORTRIM],T5),Le("comparator trim",r),r=r.replace(It[Ot.TILDETRIM],O5),Le("tilde trim",r),r=r.replace(It[Ot.CARETTRIM],b5),Le("caret trim",r);let e=r.split(" ").map(f=>R5(f,this.options)).join(" ").split(/\s+/).map(f=>D5(f,this.options));l&&(e=e.filter(f=>(Le("loose invalid filter",f,this.options),!!f.match(It[Ot.COMPARATORLOOSE])))),Le("range list",e);let i=new Map,c=e.map(f=>new Py(f,this.options));for(let f of c){if(Ow(f))return[f];i.set(f.value,f)}i.size>1&&i.has("")&&i.delete("");let u=[...i.values()];return Tw.set(a,u),u}intersects(r,n){if(!(r instanceof o))throw new TypeError("a Range is required");return this.set.some(a=>bw(a,n)&&r.set.some(s=>bw(s,n)&&a.every(l=>s.every(t=>l.intersects(t,n)))))}test(r){if(!r)return!1;if(typeof r=="string")try{r=new g5(r,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(V5(this.set[n],r,this.options))return!0;return!1}};Aw.exports=Ry;var _5=gw(),Tw=new _5({max:1e3}),E5=af(),Py=tl(),Le=Xa(),g5=yt(),{safeRe:It,t:Ot,comparatorTrimReplace:T5,tildeTrimReplace:O5,caretTrimReplace:b5}=Vo(),{FLAG_INCLUDE_PRERELEASE:A5,FLAG_LOOSE:N5}=Ja(),Ow=o=>o.value==="<0.0.0-0",x5=o=>o.value==="",bw=(o,r)=>{let n=!0,a=o.slice(),s=a.pop();for(;n&&a.length;)n=a.every(l=>s.intersects(l,r)),s=a.pop();return n},R5=(o,r)=>(Le("comp",o,r),o=I5(o,r),Le("caret",o),o=P5(o,r),Le("tildes",o),o=L5(o,r),Le("xrange",o),o=U5(o,r),Le("stars",o),o),bt=o=>!o||o.toLowerCase()==="x"||o==="*",P5=(o,r)=>o.trim().split(/\s+/).map(n=>C5(n,r)).join(" "),C5=(o,r)=>{let n=r.loose?It[Ot.TILDELOOSE]:It[Ot.TILDE];return o.replace(n,(a,s,l,t,e)=>{Le("tilde",o,a,s,l,t,e);let i;return bt(s)?i="":bt(l)?i=`>=${s}.0.0 <${+s+1}.0.0-0`:bt(t)?i=`>=${s}.${l}.0 <${s}.${+l+1}.0-0`:e?(Le("replaceTilde pr",e),i=`>=${s}.${l}.${t}-${e} <${s}.${+l+1}.0-0`):i=`>=${s}.${l}.${t} <${s}.${+l+1}.0-0`,Le("tilde return",i),i})},I5=(o,r)=>o.trim().split(/\s+/).map(n=>w5(n,r)).join(" "),w5=(o,r)=>{Le("caret",o,r);let n=r.loose?It[Ot.CARETLOOSE]:It[Ot.CARET],a=r.includePrerelease?"-0":"";return o.replace(n,(s,l,t,e,i)=>{Le("caret",o,s,l,t,e,i);let c;return bt(l)?c="":bt(t)?c=`>=${l}.0.0${a} <${+l+1}.0.0-0`:bt(e)?l==="0"?c=`>=${l}.${t}.0${a} <${l}.${+t+1}.0-0`:c=`>=${l}.${t}.0${a} <${+l+1}.0.0-0`:i?(Le("replaceCaret pr",i),l==="0"?t==="0"?c=`>=${l}.${t}.${e}-${i} <${l}.${t}.${+e+1}-0`:c=`>=${l}.${t}.${e}-${i} <${l}.${+t+1}.0-0`:c=`>=${l}.${t}.${e}-${i} <${+l+1}.0.0-0`):(Le("no pr"),l==="0"?t==="0"?c=`>=${l}.${t}.${e}${a} <${l}.${t}.${+e+1}-0`:c=`>=${l}.${t}.${e}${a} <${l}.${+t+1}.0-0`:c=`>=${l}.${t}.${e} <${+l+1}.0.0-0`),Le("caret return",c),c})},L5=(o,r)=>(Le("replaceXRanges",o,r),o.split(/\s+/).map(n=>M5(n,r)).join(" ")),M5=(o,r)=>{o=o.trim();let n=r.loose?It[Ot.XRANGELOOSE]:It[Ot.XRANGE];return o.replace(n,(a,s,l,t,e,i)=>{Le("xRange",o,a,s,l,t,e,i);let c=bt(l),u=c||bt(t),f=u||bt(e),v=f;return s==="="&&v&&(s=""),i=r.includePrerelease?"-0":"",c?s===">"||s==="<"?a="<0.0.0-0":a="*":s&&v?(u&&(t=0),e=0,s===">"?(s=">=",u?(l=+l+1,t=0,e=0):(t=+t+1,e=0)):s==="<="&&(s="<",u?l=+l+1:t=+t+1),s==="<"&&(i="-0"),a=`${s+l}.${t}.${e}${i}`):u?a=`>=${l}.0.0${i} <${+l+1}.0.0-0`:f&&(a=`>=${l}.${t}.0${i} <${l}.${+t+1}.0-0`),Le("xRange return",a),a})},U5=(o,r)=>(Le("replaceStars",o,r),o.trim().replace(It[Ot.STAR],"")),D5=(o,r)=>(Le("replaceGTE0",o,r),o.trim().replace(It[r.includePrerelease?Ot.GTE0PRE:Ot.GTE0],"")),k5=o=>(r,n,a,s,l,t,e,i,c,u,f,v,_)=>(bt(a)?n="":bt(s)?n=`>=${a}.0.0${o?"-0":""}`:bt(l)?n=`>=${a}.${s}.0${o?"-0":""}`:t?n=`>=${n}`:n=`>=${n}${o?"-0":""}`,bt(c)?i="":bt(u)?i=`<${+c+1}.0.0-0`:bt(f)?i=`<${c}.${+u+1}.0-0`:v?i=`<=${c}.${u}.${f}-${v}`:o?i=`<${c}.${u}.${+f+1}-0`:i=`<=${i}`,`${n} ${i}`.trim()),V5=(o,r,n)=>{for(let a=0;a<o.length;a++)if(!o[a].test(r))return!1;if(r.prerelease.length&&!n.includePrerelease){for(let a=0;a<o.length;a++)if(Le(o[a].semver),o[a].semver!==Py.ANY&&o[a].semver.prerelease.length>0){let s=o[a].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0}});var tl=E((OSe,Iw)=>{var rl=Symbol("SemVer ANY"),wy=class o{static get ANY(){return rl}constructor(r,n){if(n=Nw(n),r instanceof o){if(r.loose===!!n.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),Iy("comparator",r,n),this.options=n,this.loose=!!n.loose,this.parse(r),this.semver===rl?this.value="":this.value=this.operator+this.semver.version,Iy("comp",this)}parse(r){let n=this.options.loose?xw[Rw.COMPARATORLOOSE]:xw[Rw.COMPARATOR],a=r.match(n);if(!a)throw new TypeError(`Invalid comparator: ${r}`);this.operator=a[1]!==void 0?a[1]:"",this.operator==="="&&(this.operator=""),a[2]?this.semver=new Pw(a[2],this.options.loose):this.semver=rl}toString(){return this.value}test(r){if(Iy("Comparator.test",r,this.options.loose),this.semver===rl||r===rl)return!0;if(typeof r=="string")try{r=new Pw(r,this.options)}catch{return!1}return Cy(r,this.operator,this.semver,this.options)}intersects(r,n){if(!(r instanceof o))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Cw(r.value,n).test(this.value):r.operator===""?r.value===""?!0:new Cw(this.value,n).test(r.semver):(n=Nw(n),n.includePrerelease&&(this.value==="<0.0.0-0"||r.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||r.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&r.operator.startsWith(">")||this.operator.startsWith("<")&&r.operator.startsWith("<")||this.semver.version===r.semver.version&&this.operator.includes("=")&&r.operator.includes("=")||Cy(this.semver,"<",r.semver,n)&&this.operator.startsWith(">")&&r.operator.startsWith("<")||Cy(this.semver,">",r.semver,n)&&this.operator.startsWith("<")&&r.operator.startsWith(">")))}};Iw.exports=wy;var Nw=af(),{safeRe:xw,t:Rw}=Vo(),Cy=Oy(),Iy=Xa(),Pw=yt(),Cw=Zt()});var nl=E((bSe,ww)=>{var B5=Zt(),F5=(o,r,n)=>{try{r=new B5(r,n)}catch{return!1}return r.test(o)};ww.exports=F5});var Mw=E((ASe,Lw)=>{var q5=Zt(),G5=(o,r)=>new q5(o,r).set.map(n=>n.map(a=>a.value).join(" ").trim().split(" "));Lw.exports=G5});var Dw=E((NSe,Uw)=>{var H5=yt(),j5=Zt(),z5=(o,r,n)=>{let a=null,s=null,l=null;try{l=new j5(r,n)}catch{return null}return o.forEach(t=>{l.test(t)&&(!a||s.compare(t)===-1)&&(a=t,s=new H5(a,n))}),a};Uw.exports=z5});var Vw=E((xSe,kw)=>{var Y5=yt(),$5=Zt(),K5=(o,r,n)=>{let a=null,s=null,l=null;try{l=new $5(r,n)}catch{return null}return o.forEach(t=>{l.test(t)&&(!a||s.compare(t)===1)&&(a=t,s=new Y5(a,n))}),a};kw.exports=K5});var qw=E((RSe,Fw)=>{var Ly=yt(),W5=Zt(),Bw=Qa(),J5=(o,r)=>{o=new W5(o,r);let n=new Ly("0.0.0");if(o.test(n)||(n=new Ly("0.0.0-0"),o.test(n)))return n;n=null;for(let a=0;a<o.set.length;++a){let s=o.set[a],l=null;s.forEach(t=>{let e=new Ly(t.semver.version);switch(t.operator){case">":e.prerelease.length===0?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":(!l||Bw(e,l))&&(l=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}}),l&&(!n||Bw(n,l))&&(n=l)}return n&&o.test(n)?n:null};Fw.exports=J5});var Hw=E((PSe,Gw)=>{var X5=Zt(),Q5=(o,r)=>{try{return new X5(o,r).range||"*"}catch{return null}};Gw.exports=Q5});var Sf=E((CSe,$w)=>{var Z5=yt(),Yw=tl(),{ANY:eK}=Yw,tK=Zt(),rK=nl(),jw=Qa(),zw=ff(),nK=df(),iK=pf(),oK=(o,r,n,a)=>{o=new Z5(o,a),r=new tK(r,a);let s,l,t,e,i;switch(n){case">":s=jw,l=nK,t=zw,e=">",i=">=";break;case"<":s=zw,l=iK,t=jw,e="<",i="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(rK(o,r,a))return!1;for(let c=0;c<r.set.length;++c){let u=r.set[c],f=null,v=null;if(u.forEach(_=>{_.semver===eK&&(_=new Yw(">=0.0.0")),f=f||_,v=v||_,s(_.semver,f.semver,a)?f=_:t(_.semver,v.semver,a)&&(v=_)}),f.operator===e||f.operator===i||(!v.operator||v.operator===e)&&l(o,v.semver))return!1;if(v.operator===i&&t(o,v.semver))return!1}return!0};$w.exports=oK});var Ww=E((ISe,Kw)=>{var sK=Sf(),aK=(o,r,n)=>sK(o,r,">",n);Kw.exports=aK});var Xw=E((wSe,Jw)=>{var lK=Sf(),cK=(o,r,n)=>lK(o,r,"<",n);Jw.exports=cK});var eL=E((LSe,Zw)=>{var Qw=Zt(),uK=(o,r,n)=>(o=new Qw(o,n),r=new Qw(r,n),o.intersects(r,n));Zw.exports=uK});var rL=E((MSe,tL)=>{var fK=nl(),pK=Qt();tL.exports=(o,r,n)=>{let a=[],s=null,l=null,t=o.sort((u,f)=>pK(u,f,n));for(let u of t)fK(u,r,n)?(l=u,s||(s=u)):(l&&a.push([s,l]),l=null,s=null);s&&a.push([s,null]);let e=[];for(let[u,f]of a)u===f?e.push(u):!f&&u===t[0]?e.push("*"):f?u===t[0]?e.push(`<=${f}`):e.push(`${u} - ${f}`):e.push(`>=${u}`);let i=e.join(" || "),c=typeof r.raw=="string"?r.raw:String(r);return i.length<c.length?i:r}});var lL=E((USe,aL)=>{var nL=Zt(),Uy=tl(),{ANY:My}=Uy,il=nl(),Dy=Qt(),dK=(o,r,n={})=>{if(o===r)return!0;o=new nL(o,n),r=new nL(r,n);let a=!1;e:for(let s of o.set){for(let l of r.set){let t=mK(s,l,n);if(a=a||t!==null,t)continue e}if(a)return!1}return!0},hK=[new Uy(">=0.0.0-0")],iL=[new Uy(">=0.0.0")],mK=(o,r,n)=>{if(o===r)return!0;if(o.length===1&&o[0].semver===My){if(r.length===1&&r[0].semver===My)return!0;n.includePrerelease?o=hK:o=iL}if(r.length===1&&r[0].semver===My){if(n.includePrerelease)return!0;r=iL}let a=new Set,s,l;for(let _ of o)_.operator===">"||_.operator===">="?s=oL(s,_,n):_.operator==="<"||_.operator==="<="?l=sL(l,_,n):a.add(_.semver);if(a.size>1)return null;let t;if(s&&l){if(t=Dy(s.semver,l.semver,n),t>0)return null;if(t===0&&(s.operator!==">="||l.operator!=="<="))return null}for(let _ of a){if(s&&!il(_,String(s),n)||l&&!il(_,String(l),n))return null;for(let x of r)if(!il(_,String(x),n))return!1;return!0}let e,i,c,u,f=l&&!n.includePrerelease&&l.semver.prerelease.length?l.semver:!1,v=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&l.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let _ of r){if(u=u||_.operator===">"||_.operator===">=",c=c||_.operator==="<"||_.operator==="<=",s){if(v&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===v.major&&_.semver.minor===v.minor&&_.semver.patch===v.patch&&(v=!1),_.operator===">"||_.operator===">="){if(e=oL(s,_,n),e===_&&e!==s)return!1}else if(s.operator===">="&&!il(s.semver,String(_),n))return!1}if(l){if(f&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===f.major&&_.semver.minor===f.minor&&_.semver.patch===f.patch&&(f=!1),_.operator==="<"||_.operator==="<="){if(i=sL(l,_,n),i===_&&i!==l)return!1}else if(l.operator==="<="&&!il(l.semver,String(_),n))return!1}if(!_.operator&&(l||s)&&t!==0)return!1}return!(s&&c&&!l&&t!==0||l&&u&&!s&&t!==0||v||f)},oL=(o,r,n)=>{if(!o)return r;let a=Dy(o.semver,r.semver,n);return a>0?o:a<0||r.operator===">"&&o.operator===">="?r:o},sL=(o,r,n)=>{if(!o)return r;let a=Dy(o.semver,r.semver,n);return a<0?o:a>0||r.operator==="<"&&o.operator==="<="?r:o};aL.exports=dK});var Vy=E((DSe,fL)=>{var ky=Vo(),cL=Ja(),yK=yt(),uL=_y(),SK=Ui(),vK=P1(),_K=I1(),EK=M1(),gK=k1(),TK=B1(),OK=q1(),bK=H1(),AK=z1(),NK=Qt(),xK=W1(),RK=X1(),PK=uf(),CK=tw(),IK=nw(),wK=Qa(),LK=ff(),MK=gy(),UK=Ty(),DK=pf(),kK=df(),VK=Oy(),BK=pw(),FK=tl(),qK=Zt(),GK=nl(),HK=Mw(),jK=Dw(),zK=Vw(),YK=qw(),$K=Hw(),KK=Sf(),WK=Ww(),JK=Xw(),XK=eL(),QK=rL(),ZK=lL();fL.exports={parse:SK,valid:vK,clean:_K,inc:EK,diff:gK,major:TK,minor:OK,patch:bK,prerelease:AK,compare:NK,rcompare:xK,compareLoose:RK,compareBuild:PK,sort:CK,rsort:IK,gt:wK,lt:LK,eq:MK,neq:UK,gte:DK,lte:kK,cmp:VK,coerce:BK,Comparator:FK,Range:qK,satisfies:GK,toComparators:HK,maxSatisfying:jK,minSatisfying:zK,minVersion:YK,validRange:$K,outside:KK,gtr:WK,ltr:JK,intersects:XK,simplifyRange:QK,subset:ZK,SemVer:yK,re:ky.re,src:ky.src,tokens:ky.t,SEMVER_SPEC_VERSION:cL.SEMVER_SPEC_VERSION,RELEASE_TYPES:cL.RELEASE_TYPES,compareIdentifiers:uL.compareIdentifiers,rcompareIdentifiers:uL.rcompareIdentifiers}});function rW(o){var r=decodeURIComponent(o).split(":");if(r.length!==4)return null;var n=dL(r,4),a=n[0],s=n[1],l=n[3],t=a.padStart(32,"0"),e=s.padStart(16,"0"),i=tW.test(l)?parseInt(l,16)&1:1;return{traceId:t,spanId:e,isRemote:!0,traceFlags:i}}var pL,dL,hL,By,eW,tW,mL=y(()=>{k();Z();pL=function(o){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&o[r],a=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},dL=function(o,r){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),s,l=[],t;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l},hL="uber-trace-id",By="uberctx",eW=function(){function o(r){typeof r=="string"?(this._jaegerTraceHeader=r,this._jaegerBaggageHeaderPrefix=By):(this._jaegerTraceHeader=(r==null?void 0:r.customTraceHeader)||hL,this._jaegerBaggageHeaderPrefix=(r==null?void 0:r.customBaggageHeaderPrefix)||By)}return o.prototype.inject=function(r,n,a){var s,l,t=Se.getSpanContext(r),e=Ct.getBaggage(r);if(t&&Et(r)===!1){var i="0"+(t.traceFlags||Ee.NONE).toString(16);a.set(n,this._jaegerTraceHeader,t.traceId+":"+t.spanId+":0:"+i)}if(e)try{for(var c=pL(e.getAllEntries()),u=c.next();!u.done;u=c.next()){var f=dL(u.value,2),v=f[0],_=f[1];a.set(n,this._jaegerBaggageHeaderPrefix+"-"+v,encodeURIComponent(_.value))}}catch(x){s={error:x}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}},o.prototype.extract=function(r,n,a){var s,l,t=this,e,i=a.get(n,this._jaegerTraceHeader),c=Array.isArray(i)?i[0]:i,u=a.keys(n).filter(function(N){return N.startsWith(t._jaegerBaggageHeaderPrefix+"-")}).map(function(N){var C=a.get(n,N);return{key:N.substring(t._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(C)?C[0]:C}}),f=r;if(typeof c=="string"){var v=rW(c);v&&(f=Se.setSpanContext(f,v))}if(u.length===0)return f;var _=(e=Ct.getBaggage(r))!==null&&e!==void 0?e:Ct.createBaggage();try{for(var x=pL(u),O=x.next();!O.done;O=x.next()){var R=O.value;R.value!==void 0&&(_=_.setEntry(R.key,{value:decodeURIComponent(R.value)}))}}catch(N){s={error:N}}finally{try{O&&!O.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}return f=Ct.setBaggage(f,_),f},o.prototype.fields=function(){return[this._jaegerTraceHeader]},o}(),tW=/^[0-9a-f]{1,2}$/i});var yL={};Ue(yL,{JaegerPropagator:()=>eW,UBER_BAGGAGE_HEADER_PREFIX:()=>By,UBER_TRACE_ID_HEADER:()=>hL});var SL=y(()=>{mL()});var EL=E(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.NodeTracerProvider=void 0;var vL=FI(),vf=(YI(),ie(zI)),_L=(Mi(),ie(ko)),nW=Vy(),iW=(SL(),ie(yL)),_f=class extends _L.BasicTracerProvider{constructor(r={}){super(r)}register(r={}){if(r.contextManager===void 0){let n=nW.gte(process.version,"14.8.0")?vL.AsyncLocalStorageContextManager:vL.AsyncHooksContextManager;r.contextManager=new n,r.contextManager.enable()}super.register(r)}};Ef.NodeTracerProvider=_f;_f._registeredPropagators=new Map([..._L.BasicTracerProvider._registeredPropagators,["b3",()=>new vf.B3Propagator({injectEncoding:vf.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new vf.B3Propagator({injectEncoding:vf.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new iW.JaegerPropagator]])});var gf=E(Dn=>{"use strict";var oW=Dn&&Dn.__createBinding||(Object.create?function(o,r,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return r[n]}})}:function(o,r,n,a){a===void 0&&(a=n),o[a]=r[n]}),gL=Dn&&Dn.__exportStar||function(o,r){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&oW(r,o,n)};Object.defineProperty(Dn,"__esModule",{value:!0});gL(EL(),Dn);gL((Mi(),ie(ko)),Dn)});function Fy(o=[]){let r=[];for(let n=0,a=o.length;n<a;n++){let s=o[n];if(Array.isArray(s)){let l=Fy(s);r=r.concat(l.instrumentations)}else typeof s=="function"?r.push(new s):s.instrumentationName&&r.push(s)}return{instrumentations:r}}function TL(o,r,n,a){for(let s=0,l=o.length;s<l;s++){let t=o[s];r&&t.setTracerProvider(r),n&&t.setMeterProvider(n),a&&t.setLoggerProvider&&t.setLoggerProvider(a),t.getConfig().enabled||t.enable()}}function OL(o){o.forEach(r=>r.disable())}var bL=y(()=>{});function sW(o){let{instrumentations:r}=Fy(o.instrumentations),n=o.tracerProvider||Se.getTracerProvider(),a=o.meterProvider||Si.getMeterProvider(),s=o.loggerProvider||Oa.getLoggerProvider();return TL(r,n,a,s),()=>{OL(r)}}var AL=y(()=>{k();ba();bL()});var Gy=E((KSe,RL)=>{"use strict";function qy(o){return typeof o=="function"}var At=console.error.bind(console);function ol(o,r,n){var a=!!o[r]&&o.propertyIsEnumerable(r);Object.defineProperty(o,r,{configurable:!0,enumerable:a,writable:!0,value:n})}function sl(o){o&&o.logger&&(qy(o.logger)?At=o.logger:At("new logger isn't a function, not replacing"))}function NL(o,r,n){if(!o||!o[r]){At("no original function "+r+" to wrap");return}if(!n){At("no wrapper function"),At(new Error().stack);return}if(!qy(o[r])||!qy(n)){At("original object and wrapper must be functions");return}var a=o[r],s=n(a,r);return ol(s,"__original",a),ol(s,"__unwrap",function(){o[r]===s&&ol(o,r,a)}),ol(s,"__wrapped",!0),ol(o,r,s),s}function aW(o,r,n){if(o)Array.isArray(o)||(o=[o]);else{At("must provide one or more modules to patch"),At(new Error().stack);return}if(!(r&&Array.isArray(r))){At("must provide one or more functions to wrap on modules");return}o.forEach(function(a){r.forEach(function(s){NL(a,s,n)})})}function xL(o,r){if(!o||!o[r]){At("no function to unwrap."),At(new Error().stack);return}if(!o[r].__unwrap)At("no original to unwrap to -- has "+r+" already been unwrapped?");else return o[r].__unwrap()}function lW(o,r){if(o)Array.isArray(o)||(o=[o]);else{At("must provide one or more modules to patch"),At(new Error().stack);return}if(!(r&&Array.isArray(r))){At("must provide one or more functions to unwrap on modules");return}o.forEach(function(n){r.forEach(function(a){xL(n,a)})})}sl.wrap=NL;sl.massWrap=aW;sl.unwrap=xL;sl.massUnwrap=lW;RL.exports=sl});var kn,Tf,PL=y(()=>{k();ba();kn=An(Gy()),Tf=class{constructor(r,n,a={}){this.instrumentationName=r,this.instrumentationVersion=n,this._wrap=kn.wrap,this._unwrap=kn.unwrap,this._massWrap=kn.massWrap,this._massUnwrap=kn.massUnwrap,this._config=Object.assign({enabled:!0},a),this._diag=A.createComponentLogger({namespace:r}),this._tracer=Se.getTracer(r,n),this._meter=Si.getMeter(r,n),this._logger=Oa.getLogger(r,n),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(r){this._meter=r.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(r){this._logger=r.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var r;let n=(r=this.init())!==null&&r!==void 0?r:[];return Array.isArray(n)?n:[n]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(r={}){this._config=Object.assign({},r)}setTracerProvider(r){this._tracer=r.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}}});var Hy=E((QSe,CL)=>{"use strict";var cW=B("os");CL.exports=cW.homedir||function(){var r=process.env.HOME,n=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||r||null:process.platform==="darwin"?r||(n?"/Users/"+n:null):process.platform==="linux"?r||(process.getuid()===0?"/root":n?"/home/"+n:null):r||null}});var jy=E((ZSe,IL)=>{IL.exports=function(){var o=Error.prepareStackTrace;Error.prepareStackTrace=function(n,a){return a};var r=new Error().stack;return Error.prepareStackTrace=o,r[2].getFileName()}});var wL=E((eve,al)=>{"use strict";var uW=process.platform==="win32",fW=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,zy={};function pW(o){return fW.exec(o).slice(1)}zy.parse=function(o){if(typeof o!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var r=pW(o);if(!r||r.length!==5)throw new TypeError("Invalid path '"+o+"'");return{root:r[1],dir:r[0]===r[1]?r[0]:r[0].slice(0,-1),base:r[2],ext:r[4],name:r[3]}};var dW=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Yy={};function hW(o){return dW.exec(o).slice(1)}Yy.parse=function(o){if(typeof o!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var r=hW(o);if(!r||r.length!==5)throw new TypeError("Invalid path '"+o+"'");return{root:r[1],dir:r[0].slice(0,-1),base:r[2],ext:r[4],name:r[3]}};uW?al.exports=zy.parse:al.exports=Yy.parse;al.exports.posix=Yy.parse;al.exports.win32=zy.parse});var $y=E((tve,DL)=>{var UL=B("path"),LL=UL.parse||wL(),ML=function(r,n){var a="/";/^([A-Za-z]:)/.test(r)?a="":/^\\\\/.test(r)&&(a="\\\\");for(var s=[r],l=LL(r);l.dir!==s[s.length-1];)s.push(l.dir),l=LL(l.dir);return s.reduce(function(t,e){return t.concat(n.map(function(i){return UL.resolve(a,e,i)}))},[])};DL.exports=function(r,n,a){var s=n&&n.moduleDirectory?[].concat(n.moduleDirectory):["node_modules"];if(n&&typeof n.paths=="function")return n.paths(a,r,function(){return ML(r,s)},n);var l=ML(r,s);return n&&n.paths?l.concat(n.paths):l}});var Ky=E((rve,kL)=>{kL.exports=function(o,r){return r||{}}});var BL=E((nve,VL)=>{"use strict";var mW="Function.prototype.bind called on incompatible ",Wy=Array.prototype.slice,yW=Object.prototype.toString,SW="[object Function]";VL.exports=function(r){var n=this;if(typeof n!="function"||yW.call(n)!==SW)throw new TypeError(mW+n);for(var a=Wy.call(arguments,1),s,l=function(){if(this instanceof s){var u=n.apply(this,a.concat(Wy.call(arguments)));return Object(u)===u?u:this}else return n.apply(r,a.concat(Wy.call(arguments)))},t=Math.max(0,n.length-a.length),e=[],i=0;i<t;i++)e.push("$"+i);if(s=Function("binder","return function ("+e.join(",")+"){ return binder.apply(this,arguments); }")(l),n.prototype){var c=function(){};c.prototype=n.prototype,s.prototype=new c,c.prototype=null}return s}});var qL=E((ive,FL)=>{"use strict";var vW=BL();FL.exports=Function.prototype.bind||vW});var HL=E((ove,GL)=>{"use strict";var _W=qL();GL.exports=_W.call(Function.call,Object.prototype.hasOwnProperty)});var jL=E((sve,EW)=>{EW.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":[">= 19.9",">= 20"],"node:test/reporters":[">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 20"],"node:wasi":">= 20",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var ll=E((ave,$L)=>{"use strict";var gW=HL();function TW(o,r){for(var n=o.split("."),a=r.split(" "),s=a.length>1?a[0]:"=",l=(a.length>1?a[1]:a[0]).split("."),t=0;t<3;++t){var e=parseInt(n[t]||0,10),i=parseInt(l[t]||0,10);if(e!==i)return s==="<"?e<i:s===">="?e>=i:!1}return s===">="}function zL(o,r){var n=r.split(/ ?&& ?/);if(n.length===0)return!1;for(var a=0;a<n.length;++a)if(!TW(o,n[a]))return!1;return!0}function OW(o,r){if(typeof r=="boolean")return r;var n=typeof o>"u"?process.versions&&process.versions.node:o;if(typeof n!="string")throw new TypeError(typeof o>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(r&&typeof r=="object"){for(var a=0;a<r.length;++a)if(zL(n,r[a]))return!0;return!1}return zL(n,r)}var YL=jL();$L.exports=function(r,n){return gW(YL,r)&&OW(n,YL[r])}});var JL=E((lve,WL)=>{var Bi=B("fs"),bW=Hy(),Ye=B("path"),AW=jy(),NW=$y(),xW=Ky(),RW=ll(),PW=process.platform!=="win32"&&Bi.realpath&&typeof Bi.realpath.native=="function"?Bi.realpath.native:Bi.realpath,KL=bW(),CW=function(){return[Ye.join(KL,".node_modules"),Ye.join(KL,".node_libraries")]},IW=function(r,n){Bi.stat(r,function(a,s){return a?a.code==="ENOENT"||a.code==="ENOTDIR"?n(null,!1):n(a):n(null,s.isFile()||s.isFIFO())})},wW=function(r,n){Bi.stat(r,function(a,s){return a?a.code==="ENOENT"||a.code==="ENOTDIR"?n(null,!1):n(a):n(null,s.isDirectory())})},LW=function(r,n){PW(r,function(a,s){a&&a.code!=="ENOENT"?n(a):n(null,a?r:s)})},cl=function(r,n,a,s){a&&a.preserveSymlinks===!1?r(n,s):s(null,n)},MW=function(r,n,a){r(n,function(s,l){if(s)a(s);else try{var t=JSON.parse(l);a(null,t)}catch{a(null)}})},UW=function(r,n,a){for(var s=NW(n,a,r),l=0;l<s.length;l++)s[l]=Ye.join(s[l],r);return s};WL.exports=function(r,n,a){var s=a,l=n;if(typeof n=="function"&&(s=l,l={}),typeof r!="string"){var t=new TypeError("Path must be a string.");return process.nextTick(function(){s(t)})}l=xW(r,l);var e=l.isFile||IW,i=l.isDirectory||wW,c=l.readFile||Bi.readFile,u=l.realpath||LW,f=l.readPackage||MW;if(l.readFile&&l.readPackage){var v=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(v)})}var _=l.packageIterator,x=l.extensions||[".js"],O=l.includeCoreModules!==!1,R=l.basedir||Ye.dirname(AW()),N=l.filename||R;l.paths=l.paths||CW();var C=Ye.resolve(R);cl(u,C,l,function(b,G){b?s(b):M(G)});var D;function M(b){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(r))D=Ye.resolve(b,r),(r==="."||r===".."||r.slice(-1)==="/")&&(D+="/"),/\/$/.test(r)&&D===b?ce(D,l.package,K):$(D,l.package,K);else{if(O&&RW(r))return s(null,r);de(r,b,function(G,P,S){if(G)s(G);else{if(P)return cl(u,P,l,function(te,re){te?s(te):s(null,re,S)});var L=new Error("Cannot find module '"+r+"' from '"+N+"'");L.code="MODULE_NOT_FOUND",s(L)}})}}function K(b,G,P){b?s(b):G?s(null,G,P):ce(D,function(S,L,te){if(S)s(S);else if(L)cl(u,L,l,function(Q,me){Q?s(Q):s(null,me,te)});else{var re=new Error("Cannot find module '"+r+"' from '"+N+"'");re.code="MODULE_NOT_FOUND",s(re)}})}function $(b,G,P){var S=G,L=P;typeof S=="function"&&(L=S,S=void 0);var te=[""].concat(x);re(te,b,S);function re(Q,me,ye){if(Q.length===0)return L(null,void 0,ye);var ke=me+Q[0],Ne=ye;Ne?fe(null,Ne):j(Ye.dirname(ke),fe);function fe(Re,qe,dt){if(Ne=qe,Re)return L(Re);if(dt&&Ne&&l.pathFilter){var Ge=Ye.relative(dt,ke),w=Ge.slice(0,Ge.length-Q[0].length),I=l.pathFilter(Ne,me,w);if(I)return re([""].concat(x.slice()),Ye.resolve(dt,I),Ne)}e(ke,Fe)}function Fe(Re,qe){if(Re)return L(Re);if(qe)return L(null,ke,Ne);re(Q.slice(1),me,Ne)}}}function j(b,G){if(b===""||b==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(b)||/[/\\]node_modules[/\\]*$/.test(b))return G(null);cl(u,b,l,function(P,S){if(P)return j(Ye.dirname(b),G);var L=Ye.join(S,"package.json");e(L,function(te,re){if(!re)return j(Ye.dirname(b),G);f(c,L,function(Q,me){Q&&G(Q);var ye=me;ye&&l.packageFilter&&(ye=l.packageFilter(ye,L)),G(null,ye,b)})})})}function ce(b,G,P){var S=P,L=G;typeof L=="function"&&(S=L,L=l.package),cl(u,b,l,function(te,re){if(te)return S(te);var Q=Ye.join(re,"package.json");e(Q,function(me,ye){if(me)return S(me);if(!ye)return $(Ye.join(b,"index"),L,S);f(c,Q,function(ke,Ne){if(ke)return S(ke);var fe=Ne;if(fe&&l.packageFilter&&(fe=l.packageFilter(fe,Q)),fe&&fe.main){if(typeof fe.main!="string"){var Fe=new TypeError("package \u201C"+fe.name+"\u201D `main` must be a string");return Fe.code="INVALID_PACKAGE_MAIN",S(Fe)}(fe.main==="."||fe.main==="./")&&(fe.main="index"),$(Ye.resolve(b,fe.main),fe,function(Re,qe,dt){if(Re)return S(Re);if(qe)return S(null,qe,dt);if(!dt)return $(Ye.join(b,"index"),dt,S);var Ge=Ye.resolve(b,dt.main);ce(Ge,dt,function(w,I,U){if(w)return S(w);if(I)return S(null,I,U);$(Ye.join(b,"index"),U,S)})});return}$(Ye.join(b,"/index"),fe,S)})})})}function ne(b,G){if(G.length===0)return b(null,void 0);var P=G[0];i(Ye.dirname(P),S);function S(re,Q){if(re)return b(re);if(!Q)return ne(b,G.slice(1));$(P,l.package,L)}function L(re,Q,me){if(re)return b(re);if(Q)return b(null,Q,me);ce(P,l.package,te)}function te(re,Q,me){if(re)return b(re);if(Q)return b(null,Q,me);ne(b,G.slice(1))}}function de(b,G,P){var S=function(){return UW(b,G,l)};ne(P,_?_(b,G,S,l):S())}}});var XL=E((cve,DW)=>{DW.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var tM=E((uve,eM)=>{"use strict";var kW=ll(),QL=XL(),ZL={};for(Of in QL)Object.prototype.hasOwnProperty.call(QL,Of)&&(ZL[Of]=kW(Of));var Of;eM.exports=ZL});var nM=E((fve,rM)=>{var VW=ll();rM.exports=function(r){return VW(r)}});var sM=E((pve,oM)=>{var BW=ll(),Fi=B("fs"),St=B("path"),FW=Hy(),qW=jy(),GW=$y(),HW=Ky(),jW=process.platform!=="win32"&&Fi.realpathSync&&typeof Fi.realpathSync.native=="function"?Fi.realpathSync.native:Fi.realpathSync,iM=FW(),zW=function(){return[St.join(iM,".node_modules"),St.join(iM,".node_libraries")]},YW=function(r){try{var n=Fi.statSync(r,{throwIfNoEntry:!1})}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return!1;throw a}return!!n&&(n.isFile()||n.isFIFO())},$W=function(r){try{var n=Fi.statSync(r,{throwIfNoEntry:!1})}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return!1;throw a}return!!n&&n.isDirectory()},KW=function(r){try{return jW(r)}catch(n){if(n.code!=="ENOENT")throw n}return r},ul=function(r,n,a){return a&&a.preserveSymlinks===!1?r(n):n},WW=function(r,n){var a=r(n);try{var s=JSON.parse(a);return s}catch{}},JW=function(r,n,a){for(var s=GW(n,a,r),l=0;l<s.length;l++)s[l]=St.join(s[l],r);return s};oM.exports=function(r,n){if(typeof r!="string")throw new TypeError("Path must be a string.");var a=HW(r,n),s=a.isFile||YW,l=a.readFileSync||Fi.readFileSync,t=a.isDirectory||$W,e=a.realpathSync||KW,i=a.readPackageSync||WW;if(a.readFileSync&&a.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var c=a.packageIterator,u=a.extensions||[".js"],f=a.includeCoreModules!==!1,v=a.basedir||St.dirname(qW()),_=a.filename||v;a.paths=a.paths||zW();var x=ul(e,St.resolve(v),a);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(r)){var O=St.resolve(x,r);(r==="."||r===".."||r.slice(-1)==="/")&&(O+="/");var R=D(O)||K(O);if(R)return ul(e,R,a)}else{if(f&&BW(r))return r;var N=$(r,x);if(N)return ul(e,N,a)}var C=new Error("Cannot find module '"+r+"' from '"+_+"'");throw C.code="MODULE_NOT_FOUND",C;function D(j){var ce=M(St.dirname(j));if(ce&&ce.dir&&ce.pkg&&a.pathFilter){var ne=St.relative(ce.dir,j),de=a.pathFilter(ce.pkg,j,ne);de&&(j=St.resolve(ce.dir,de))}if(s(j))return j;for(var b=0;b<u.length;b++){var G=j+u[b];if(s(G))return G}}function M(j){if(!(j===""||j==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(j))&&!/[/\\]node_modules[/\\]*$/.test(j)){var ce=St.join(ul(e,j,a),"package.json");if(!s(ce))return M(St.dirname(j));var ne=i(l,ce);return ne&&a.packageFilter&&(ne=a.packageFilter(ne,j)),{pkg:ne,dir:j}}}function K(j){var ce=St.join(ul(e,j,a),"/package.json");if(s(ce)){try{var ne=i(l,ce)}catch{}if(ne&&a.packageFilter&&(ne=a.packageFilter(ne,j)),ne&&ne.main){if(typeof ne.main!="string"){var de=new TypeError("package \u201C"+ne.name+"\u201D `main` must be a string");throw de.code="INVALID_PACKAGE_MAIN",de}(ne.main==="."||ne.main==="./")&&(ne.main="index");try{var b=D(St.resolve(j,ne.main));if(b)return b;var G=K(St.resolve(j,ne.main));if(G)return G}catch{}}}return D(St.join(j,"/index"))}function $(j,ce){for(var ne=function(){return JW(j,ce,a)},de=c?c(j,ce,ne,a):ne(),b=0;b<de.length;b++){var G=de[b];if(t(St.dirname(G))){var P=D(G);if(P)return P;var S=K(G);if(S)return S}}}}});var lM=E((dve,aM)=>{var bf=JL();bf.core=tM();bf.isCore=nM();bf.sync=sM();aM.exports=bf});var uM=E((hve,cM)=>{var Go=1e3,Ho=Go*60,jo=Ho*60,qi=jo*24,XW=qi*7,QW=qi*365.25;cM.exports=function(o,r){r=r||{};var n=typeof o;if(n==="string"&&o.length>0)return ZW(o);if(n==="number"&&isFinite(o))return r.long?t7(o):e7(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function ZW(o){if(o=String(o),!(o.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(r){var n=parseFloat(r[1]),a=(r[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return n*QW;case"weeks":case"week":case"w":return n*XW;case"days":case"day":case"d":return n*qi;case"hours":case"hour":case"hrs":case"hr":case"h":return n*jo;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ho;case"seconds":case"second":case"secs":case"sec":case"s":return n*Go;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function e7(o){var r=Math.abs(o);return r>=qi?Math.round(o/qi)+"d":r>=jo?Math.round(o/jo)+"h":r>=Ho?Math.round(o/Ho)+"m":r>=Go?Math.round(o/Go)+"s":o+"ms"}function t7(o){var r=Math.abs(o);return r>=qi?Af(o,r,qi,"day"):r>=jo?Af(o,r,jo,"hour"):r>=Ho?Af(o,r,Ho,"minute"):r>=Go?Af(o,r,Go,"second"):o+" ms"}function Af(o,r,n,a){var s=r>=n*1.5;return Math.round(o/n)+" "+a+(s?"s":"")}});var Jy=E((mve,fM)=>{function r7(o){n.debug=n,n.default=n,n.coerce=i,n.disable=l,n.enable=s,n.enabled=t,n.humanize=uM(),n.destroy=c,Object.keys(o).forEach(u=>{n[u]=o[u]}),n.names=[],n.skips=[],n.formatters={};function r(u){let f=0;for(let v=0;v<u.length;v++)f=(f<<5)-f+u.charCodeAt(v),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=r;function n(u){let f,v=null,_,x;function O(...R){if(!O.enabled)return;let N=O,C=Number(new Date),D=C-(f||C);N.diff=D,N.prev=f,N.curr=C,f=C,R[0]=n.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let M=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,($,j)=>{if($==="%%")return"%";M++;let ce=n.formatters[j];if(typeof ce=="function"){let ne=R[M];$=ce.call(N,ne),R.splice(M,1),M--}return $}),n.formatArgs.call(N,R),(N.log||n.log).apply(N,R)}return O.namespace=u,O.useColors=n.useColors(),O.color=n.selectColor(u),O.extend=a,O.destroy=n.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(_!==n.namespaces&&(_=n.namespaces,x=n.enabled(u)),x),set:R=>{v=R}}),typeof n.init=="function"&&n.init(O),O}function a(u,f){let v=n(this.namespace+(typeof f>"u"?":":f)+u);return v.log=this.log,v}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f,v=(typeof u=="string"?u:"").split(/[\s,]+/),_=v.length;for(f=0;f<_;f++)v[f]&&(u=v[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function l(){let u=[...n.names.map(e),...n.skips.map(e).map(f=>"-"+f)].join(",");return n.enable(""),u}function t(u){if(u[u.length-1]==="*")return!0;let f,v;for(f=0,v=n.skips.length;f<v;f++)if(n.skips[f].test(u))return!1;for(f=0,v=n.names.length;f<v;f++)if(n.names[f].test(u))return!0;return!1}function e(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function i(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}fM.exports=r7});var pM=E((Ft,Nf)=>{Ft.formatArgs=i7;Ft.save=o7;Ft.load=s7;Ft.useColors=n7;Ft.storage=a7();Ft.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ft.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n7(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i7(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+Nf.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;o.splice(1,0,r,"color: inherit");let n=0,a=0;o[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(a=n))}),o.splice(a,0,r)}Ft.log=console.debug||console.log||(()=>{});function o7(o){try{o?Ft.storage.setItem("debug",o):Ft.storage.removeItem("debug")}catch{}}function s7(){let o;try{o=Ft.storage.getItem("debug")}catch{}return!o&&typeof process<"u"&&"env"in process&&(o=process.env.DEBUG),o}function a7(){try{return localStorage}catch{}}Nf.exports=Jy()(Ft);var{formatters:l7}=Nf.exports;l7.j=function(o){try{return JSON.stringify(o)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var hM=E((yve,dM)=>{"use strict";dM.exports=(o,r=process.argv)=>{let n=o.startsWith("-")?"":o.length===1?"-":"--",a=r.indexOf(n+o),s=r.indexOf("--");return a!==-1&&(s===-1||a<s)}});var SM=E((Sve,yM)=>{"use strict";var c7=B("os"),mM=B("tty"),er=hM(),{env:Ze}=process,Vn;er("no-color")||er("no-colors")||er("color=false")||er("color=never")?Vn=0:(er("color")||er("colors")||er("color=true")||er("color=always"))&&(Vn=1);"FORCE_COLOR"in Ze&&(Ze.FORCE_COLOR==="true"?Vn=1:Ze.FORCE_COLOR==="false"?Vn=0:Vn=Ze.FORCE_COLOR.length===0?1:Math.min(parseInt(Ze.FORCE_COLOR,10),3));function Xy(o){return o===0?!1:{level:o,hasBasic:!0,has256:o>=2,has16m:o>=3}}function Qy(o,r){if(Vn===0)return 0;if(er("color=16m")||er("color=full")||er("color=truecolor"))return 3;if(er("color=256"))return 2;if(o&&!r&&Vn===void 0)return 0;let n=Vn||0;if(Ze.TERM==="dumb")return n;if(process.platform==="win32"){let a=c7.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in Ze)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(a=>a in Ze)||Ze.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in Ze)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ze.TEAMCITY_VERSION)?1:0;if(Ze.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ze){let a=parseInt((Ze.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ze.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ze.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ze.TERM)||"COLORTERM"in Ze?1:n}function u7(o){let r=Qy(o,o&&o.isTTY);return Xy(r)}yM.exports={supportsColor:u7,stdout:Xy(Qy(!0,mM.isatty(1))),stderr:Xy(Qy(!0,mM.isatty(2)))}});var _M=E((ct,Rf)=>{var f7=B("tty"),xf=B("util");ct.init=v7;ct.log=m7;ct.formatArgs=d7;ct.save=y7;ct.load=S7;ct.useColors=p7;ct.destroy=xf.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ct.colors=[6,2,3,4,5,1];try{let o=SM();o&&(o.stderr||o).level>=2&&(ct.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ct.inspectOpts=Object.keys(process.env).filter(o=>/^debug_/i.test(o)).reduce((o,r)=>{let n=r.substring(6).toLowerCase().replace(/_([a-z])/g,(s,l)=>l.toUpperCase()),a=process.env[r];return/^(yes|on|true|enabled)$/i.test(a)?a=!0:/^(no|off|false|disabled)$/i.test(a)?a=!1:a==="null"?a=null:a=Number(a),o[n]=a,o},{});function p7(){return"colors"in ct.inspectOpts?!!ct.inspectOpts.colors:f7.isatty(process.stderr.fd)}function d7(o){let{namespace:r,useColors:n}=this;if(n){let a=this.color,s="\x1B[3"+(a<8?a:"8;5;"+a),l=`  ${s};1m${r} \x1B[0m`;o[0]=l+o[0].split(`
`).join(`
`+l),o.push(s+"m+"+Rf.exports.humanize(this.diff)+"\x1B[0m")}else o[0]=h7()+r+" "+o[0]}function h7(){return ct.inspectOpts.hideDate?"":new Date().toISOString()+" "}function m7(...o){return process.stderr.write(xf.format(...o)+`
`)}function y7(o){o?process.env.DEBUG=o:delete process.env.DEBUG}function S7(){return process.env.DEBUG}function v7(o){o.inspectOpts={};let r=Object.keys(ct.inspectOpts);for(let n=0;n<r.length;n++)o.inspectOpts[r[n]]=ct.inspectOpts[r[n]]}Rf.exports=Jy()(ct);var{formatters:vM}=Rf.exports;vM.o=function(o){return this.inspectOpts.colors=this.useColors,xf.inspect(o,this.inspectOpts).split(`
`).map(r=>r.trim()).join(" ")};vM.O=function(o){return this.inspectOpts.colors=this.useColors,xf.inspect(o,this.inspectOpts)}});var EM=E((vve,Zy)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Zy.exports=pM():Zy.exports=_M()});var tS=E((_ve,gM)=>{"use strict";var eS=B("path");gM.exports=function(o){var r=o.split(eS.sep),n=r.lastIndexOf("node_modules");if(n!==-1&&r[n+1]){var a=r[n+1][0]==="@",s=a?r[n+1]+"/"+r[n+2]:r[n+1],l=a?3:2;return{name:s,basedir:r.slice(0,n+l).join(eS.sep),path:r.slice(n+l).join(eS.sep)}}}});var TM=E((Eve,_7)=>{_7.exports={name:"require-in-the-middle",version:"7.3.0",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var oS=E((gve,iS)=>{"use strict";var zo=B("path"),dn=B("module"),rS=lM(),ut=EM()("require-in-the-middle"),E7=tS();iS.exports=pl;iS.exports.Hook=pl;var fl;if(dn.isBuiltin)fl=dn.isBuiltin;else{let[o,r]=process.versions.node.split(".").map(Number);o===8&&r<8?fl=n=>n==="http2"?!0:!!rS.core[n]:fl=n=>!!rS.core[n]}var g7=/([/\\]index)?(\.js)?$/,nS=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(r,n){if(this._localCache.has(r))return!0;if(n)return!1;{let a=B.cache[r];return!!(a&&this._kRitmExports in a)}}get(r,n){let a=this._localCache.get(r);if(a!==void 0)return a;if(!n){let s=B.cache[r];return s&&s[this._kRitmExports]}}set(r,n,a){a?this._localCache.set(r,n):r in B.cache?B.cache[r][this._kRitmExports]=n:(ut('non-core module is unexpectedly not in require.cache: "%s"',r),this._localCache.set(r,n))}};function pl(o,r,n){if(!(this instanceof pl))return new pl(o,r,n);if(typeof o=="function"?(n=o,o=null,r=null):typeof r=="function"&&(n=r,r=null),typeof dn._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof dn._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,TM().bugs.url);return}this._cache=new nS,this._unhooked=!1,this._origRequire=dn.prototype.require;let a=this,s=new Set,l=r?r.internals===!0:!1,t=Array.isArray(o);ut("registering require hook"),this._require=dn.prototype.require=function(e){if(a._unhooked===!0)return ut("ignoring require call - module is soft-unhooked"),a._origRequire.apply(this,arguments);let i=fl(e),c;if(i){if(c=e,e.startsWith("node:")){let O=e.slice(5);fl(O)&&(c=O)}}else try{c=dn._resolveFilename(e,this)}catch(O){return ut('Module._resolveFilename("%s") threw %j, calling original Module.require',e,O.message),a._origRequire.apply(this,arguments)}let u,f;if(ut("processing %s module require('%s'): %s",i===!0?"core":"non-core",e,c),a._cache.has(c,i)===!0)return ut("returning already patched cached module: %s",c),a._cache.get(c,i);let v=s.has(c);v===!1&&s.add(c);let _=a._origRequire.apply(this,arguments);if(v===!0)return ut("module is in the process of being patched already - ignoring: %s",c),_;if(s.delete(c),i===!0){if(t===!0&&o.includes(c)===!1)return ut("ignoring core module not on whitelist: %s",c),_;u=c}else if(t===!0&&o.includes(c)){let O=zo.parse(c);u=O.name,f=O.dir}else{let O=E7(c);if(O===void 0)return ut("could not parse filename: %s",c),_;u=O.name,f=O.basedir;let R=T7(O);ut("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",u,e,R,f);let N=!1;if(t){if(!e.startsWith(".")&&o.includes(e)&&(u=e,N=!0),!o.includes(u)&&!o.includes(R))return _;o.includes(R)&&R!==u&&(u=R,N=!0)}if(!N){let C;try{C=rS.sync(u,{basedir:f})}catch{return ut("could not resolve module: %s",u),a._cache.set(c,_,i),_}if(C!==c)if(l===!0)u=u+zo.sep+zo.relative(f,c),ut("preparing to process require of internal file: %s",u);else return ut("ignoring require of non-main module file: %s",C),a._cache.set(c,_,i),_}}a._cache.set(c,_,i),ut("calling require hook: %s",u);let x=n(_,u,f);return a._cache.set(c,x,i),ut("returning module: %s",u),x}}pl.prototype.unhook=function(){this._unhooked=!0,this._require===dn.prototype.require?(dn.prototype.require=this._origRequire,ut("unhook successful")):ut("unhook unsuccessful")};function T7(o){let r=zo.sep!=="/"?o.path.split(zo.sep).join("/"):o.path;return zo.posix.join(o.name,r).replace(g7,"")}});var dl,Pf,Cf,OM=y(()=>{dl="/",Pf=class{constructor(){this.hooks=[],this.children=new Map}},Cf=class{constructor(){this._trie=new Pf,this._counter=0}insert(r){let n=this._trie;for(let a of r.moduleName.split(dl)){let s=n.children.get(a);s||(s=new Pf,n.children.set(a,s)),n=s}n.hooks.push({hook:r,insertedId:this._counter++})}search(r,{maintainInsertionOrder:n,fullOnly:a}={}){let s=this._trie,l=[],t=!0;for(let e of r.split(dl)){let i=s.children.get(e);if(!i){t=!1;break}a||l.push(...i.hooks),s=i}return a&&t&&l.push(...s.hooks),l.length===0?[]:l.length===1?[l[0].hook]:(n&&l.sort((e,i)=>e.insertedId-i.insertedId),l.map(({hook:e})=>e))}}});import*as sS from"path";function b7(o){return sS.sep!==dl?o.split(sS.sep).join(dl):o}var bM,O7,If,AM=y(()=>{bM=An(oS());OM();O7=["afterEach","after","beforeEach","before","describe","it"].every(o=>typeof global[o]=="function"),If=class o{constructor(){this._moduleNameTrie=new Cf,this._initialize()}_initialize(){new bM.Hook(null,{internals:!0},(r,n,a)=>{let s=b7(n),l=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:a===void 0});for(let{onRequire:t}of l)r=t(r,n,a);return r})}register(r,n){let a={moduleName:r,onRequire:n};return this._moduleNameTrie.insert(a),a}static getInstance(){var r;return O7?new o:this._instance=(r=this._instance)!==null&&r!==void 0?r:new o}}});var PM=E(hl=>{var NM=[],aS=new WeakMap,xM=new Map,RM=[],A7={set(o,r,n){return aS.get(o)[r](n)},defineProperty(o,r,n){if(!("value"in n))throw new Error("Getters/setters are not supported for exports property descriptors.");return aS.get(o)[r](n.value)}};function N7(o,r,n,a){xM.set(o,a),aS.set(r,n);let s=new Proxy(r,A7);NM.forEach(l=>l(o,s)),RM.push([o,s])}hl.register=N7;hl.importHooks=NM;hl.specifiers=xM;hl.toHook=RM});var UM=E((xve,Lf)=>{var CM=B("path"),x7=tS(),{fileURLToPath:IM}=B("url"),{importHooks:lS,specifiers:R7,toHook:P7}=PM();function LM(o){lS.push(o),P7.forEach(([r,n])=>o(r,n))}function MM(o){let r=lS.indexOf(o);r>-1&&lS.splice(r,1)}function wM(o,r,n,a){let s=o(r,n,a);s&&s!==r&&(r.default=s)}function wf(o,r,n){if(!(this instanceof wf))return new wf(o,r,n);typeof o=="function"?(n=o,o=null,r=null):typeof r=="function"&&(n=r,r=null);let a=r?r.internals===!0:!1;this._iitmHook=(s,l)=>{let t=s,e=s.startsWith("node:"),i;if(e)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=IM(s)}catch{}let c=x7(s);c&&(s=c.name,i=c.basedir)}if(o){for(let c of o)if(c===s){if(i){if(a)s=s+CM.sep+CM.relative(i,IM(t));else if(!i.endsWith(R7.get(t)))continue}wM(n,l,s,i)}}else wM(n,l,s,i)},LM(this._iitmHook)}wf.prototype.unhook=function(){MM(this._iitmHook)};Lf.exports=wf;Lf.exports.addHook=LM;Lf.exports.removeHook=MM});import*as $o from"path";import{types as DM}from"util";import{readFileSync as I7}from"fs";function kM(o,r,n){return typeof r>"u"?o.includes("*"):o.some(a=>(0,VM.satisfies)(r,a,{includePrerelease:n}))}var VM,ml,C7,BM,Yo,FM=y(()=>{VM=An(Vy()),ml=An(Gy());PL();AM();C7=An(UM());k();BM=An(oS()),Yo=class extends Tf{constructor(r,n,a={}){super(r,n,a),this._hooks=[],this._requireInTheMiddleSingleton=If.getInstance(),this._enabled=!1,this._wrap=(l,t,e)=>{if(DM.isProxy(l)){let i=(0,ml.wrap)(Object.assign({},l),t,e);return Object.defineProperty(l,t,{value:i})}else return(0,ml.wrap)(l,t,e)},this._unwrap=(l,t)=>DM.isProxy(l)?Object.defineProperty(l,t,{value:l[t]}):(0,ml.unwrap)(l,t),this._massWrap=(l,t,e)=>{if(l)Array.isArray(l)||(l=[l]);else{A.error("must provide one or more modules to patch");return}if(!(t&&Array.isArray(t))){A.error("must provide one or more functions to wrap on modules");return}l.forEach(i=>{t.forEach(c=>{this._wrap(i,c,e)})})},this._massUnwrap=(l,t)=>{if(l)Array.isArray(l)||(l=[l]);else{A.error("must provide one or more modules to patch");return}if(!(t&&Array.isArray(t))){A.error("must provide one or more functions to wrap on modules");return}l.forEach(e=>{t.forEach(i=>{this._unwrap(e,i)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&A.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(r=>{let{name:n}=r;try{let a=B.resolve(n);B.cache[a]&&this._diag.warn(`Module ${n} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${n}`)}catch{}})}_extractPackageVersion(r){try{let n=I7($o.join(r,"package.json"),{encoding:"utf8"}),a=JSON.parse(n).version;return typeof a=="string"?a:void 0}catch{A.warn("Failed extracting version",r)}}_onRequire(r,n,a,s){var l;if(!s)return typeof r.patch=="function"&&(r.moduleExports=n,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:r.name}),r.patch(n)):n;let t=this._extractPackageVersion(s);if(r.moduleVersion=t,r.name===a)return kM(r.supportedVersions,t,r.includePrerelease)&&typeof r.patch=="function"&&(r.moduleExports=n,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:r.name,version:r.moduleVersion,baseDir:s}),r.patch(n,r.moduleVersion)):n;let e=(l=r.files)!==null&&l!==void 0?l:[],i=$o.normalize(a);return e.filter(u=>u.name===i).filter(u=>kM(u.supportedVersions,t,r.includePrerelease)).reduce((u,f)=>(f.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:r.name,version:r.moduleVersion,fileName:f.name,baseDir:s}),f.patch(u,r.moduleVersion)):u),n)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let r of this._modules){typeof r.patch=="function"&&r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:r.name,version:r.moduleVersion}),r.patch(r.moduleExports,r.moduleVersion));for(let n of r.files)n.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:r.name,version:r.moduleVersion,fileName:n.name}),n.patch(n.moduleExports,r.moduleVersion))}return}this._warnOnPreloadedModules();for(let r of this._modules){let n=(t,e,i)=>this._onRequire(r,t,e,i),a=(t,e,i)=>this._onRequire(r,t,e,i),s=$o.isAbsolute(r.name)?new BM.Hook([r.name],{internals:!0},a):this._requireInTheMiddleSingleton.register(r.name,a);this._hooks.push(s);let l=new C7([r.name],{internals:!1},n);this._hooks.push(l)}}}disable(){if(this._enabled){this._enabled=!1;for(let r of this._modules){typeof r.unpatch=="function"&&r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:r.name,version:r.moduleVersion}),r.unpatch(r.moduleExports,r.moduleVersion));for(let n of r.files)n.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:r.name,version:r.moduleVersion,fileName:n.name}),n.unpatch(n.moduleExports,r.moduleVersion))}}}isEnabled(){return this._enabled}}});import{normalize as Mf}from"path";var qM=y(()=>{});var GM=y(()=>{FM();qM()});var cS=y(()=>{GM()});var Uf,HM=y(()=>{Uf=class{constructor(r,n,a,s,l){this.name=r,this.supportedVersions=n,this.patch=a,this.unpatch=s,this.files=l||[]}}});var Df,jM=y(()=>{cS();Df=class{constructor(r,n,a,s){this.supportedVersions=n,this.patch=a,this.unpatch=s,this.name=Mf(r)}}});var zM=y(()=>{});var YM=y(()=>{});function w7(o,r,n){let a,s;try{s=o()}catch(l){a=l}finally{if(r(a,s),a&&!n)throw a;return s}}async function L7(o,r,n){let a,s;try{s=await o()}catch(l){a=l}finally{if(r(a,s),a&&!n)throw a;return s}}function M7(o){return typeof o=="function"&&typeof o.__original=="function"&&typeof o.__unwrap=="function"&&o.__wrapped===!0}var $M=y(()=>{});var KM={};Ue(KM,{InstrumentationBase:()=>Yo,InstrumentationNodeModuleDefinition:()=>Uf,InstrumentationNodeModuleFile:()=>Df,isWrapped:()=>M7,registerInstrumentations:()=>sW,safeExecuteInTheMiddle:()=>w7,safeExecuteInTheMiddleAsync:()=>L7});var WM=y(()=>{AL();cS();HM();jM();zM();YM();$M()});function Ur(o={}){let r={};return Object.entries(o).forEach(([n,a])=>{typeof a<"u"?r[n]=String(a):A.warn(`Header "${n}" has invalid value (${a}) and will be ignored`)}),r}function Ko(o,r){return o.endsWith("/")||(o=o+"/"),o+r}function Wo(o){try{let r=new URL(o);return r.pathname===""&&(r.pathname=r.pathname+"/"),r.toString()}catch{return A.warn(`Could not parse export URL: '${o}'`),o}}function qf(o){return typeof o=="number"?o<=0?Gf(o,JM):o:U7()}function U7(){var o;let r=Number((o=ee().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&o!==void 0?o:ee().OTEL_EXPORTER_OTLP_TIMEOUT);return r<=0?Gf(r,JM):r}function Gf(o,r){return A.warn("Timeout must be greater than 0",o),r}function Hf(o){return[429,502,503,504].includes(o)}function jf(o){if(o==null)return-1;let r=Number.parseInt(o,10);if(Number.isInteger(r))return r>0?r*1e3:-1;let n=new Date(o).getTime()-Date.now();return n>=0?n:0}var JM,kf,Vf,Bf,Ff,Gi=y(()=>{k();Z();JM=1e4,kf=5,Vf=1e3,Bf=5e3,Ff=1.5});var Bn,zf=y(()=>{k();Z();Gi();Bn=class{constructor(r={}){this._sendingPromises=[],this.url=this.getDefaultUrl(r),typeof r.hostname=="string"&&(this.hostname=r.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new at(this._shutdown,this),this._concurrencyLimit=typeof r.concurrencyLimit=="number"?r.concurrencyLimit:30,this.timeoutMillis=qf(r.timeoutMillis),this.onInit(r)}export(r,n){if(this._shutdownOnce.isCalled){n({code:oe.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){n({code:oe.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(r).then(()=>{n({code:oe.SUCCESS})}).catch(a=>{n({code:oe.FAILED,error:a})})}_export(r){return new Promise((n,a)=>{try{A.debug("items to be sent",r),this.send(r,n,a)}catch(s){a(s)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return A.debug("shutdown started"),this.onShutdown(),this.forceFlush()}}});var Dr,uS=y(()=>{(function(o){o.NONE="none",o.GZIP="gzip"})(Dr||(Dr={}))});var et,Yf=y(()=>{et=class extends Error{constructor(r,n,a){super(r),this.name="OTLPExporterError",this.data=a,this.code=n}}});import*as fS from"url";import*as $f from"http";import*as Kf from"https";import*as XM from"zlib";import{Readable as D7}from"stream";function Hi(o,r,n,a,s){let l=o.timeoutMillis,t=new fS.URL(o.url),e=Number(process.versions.node.split(".")[0]),i,c,u=!1,f=setTimeout(()=>{if(clearTimeout(i),u=!0,c.destroyed){let O=new et("Request Timeout");s(O)}else e>=14?c.destroy():c.abort()},l),v={hostname:t.hostname,port:t.port,path:t.pathname,method:"POST",headers:Object.assign({"Content-Type":n},o.headers),agent:o.agent},_=t.protocol==="http:"?$f.request:Kf.request,x=(O=kf,R=Vf)=>{switch(c=_(v,N=>{let C="";N.on("data",D=>C+=D),N.on("aborted",()=>{if(u){let D=new et("Request Timeout");s(D)}}),N.on("end",()=>{if(u===!1)if(N.statusCode&&N.statusCode<299)A.debug(`statusCode: ${N.statusCode}`,C),a(),clearTimeout(f),clearTimeout(i);else if(N.statusCode&&Hf(N.statusCode)&&O>0){let D;R=Ff*R,N.headers["retry-after"]?D=jf(N.headers["retry-after"]):D=Math.round(Math.random()*(Bf-R)+R),i=setTimeout(()=>{x(O-1,R)},D)}else{let D=new et(N.statusMessage,N.statusCode,C);s(D),clearTimeout(f),clearTimeout(i)}})}),c.on("error",N=>{if(u){let C=new et("Request Timeout",N.code);s(C)}else s(N);clearTimeout(f),clearTimeout(i)}),c.on("abort",()=>{if(u){let N=new et("Request Timeout");s(N)}clearTimeout(f),clearTimeout(i)}),o.compression){case Dr.GZIP:{c.setHeader("Content-Encoding","gzip"),k7(r).on("error",s).pipe(XM.createGzip()).on("error",s).pipe(c);break}default:c.end(r);break}};x()}function k7(o){let r=new D7;return r.push(o),r.push(null),r}function yl(o){if(o.httpAgentOptions&&o.keepAlive===!1){A.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(o.keepAlive===!1||!o.url))try{let n=new fS.URL(o.url).protocol==="http:"?$f.Agent:Kf.Agent;return new n(Object.assign({keepAlive:!0},o.httpAgentOptions))}catch(r){A.error(`collector exporter failed to create http agent. err: ${r.message}`);return}}function Sl(o){return o||((ee().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||ee().OTEL_EXPORTER_OTLP_COMPRESSION)===Dr.GZIP?Dr.GZIP:Dr.NONE)}var pS=y(()=>{k();uS();Z();Yf();Gi()});var hn,QM=y(()=>{zf();Gi();pS();k();Z();hn=class extends Bn{constructor(r={}){super(r),this.DEFAULT_HEADERS={},r.metadata&&A.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,Ur(r.headers),mr.parseKeyPairsIntoRecord(ee().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=yl(r),this.compression=Sl(r.compression)}onInit(r){}send(r,n,a){if(this._shutdownOnce.isCalled){A.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(r),l=new Promise((e,i)=>{Hi(this,JSON.stringify(s),"application/json",e,i)}).then(n,a);this._sendingPromises.push(l);let t=()=>{let e=this._sendingPromises.indexOf(l);this._sendingPromises.splice(e,1)};l.then(t,t)}onShutdown(){}}});var ZM=y(()=>{QM();pS();uS()});function eU(o,r,n,a,s){if(navigator.sendBeacon(r,new Blob([o],n)))A.debug("sendBeacon - can send",o),a();else{let l=new et(`sendBeacon - cannot send ${o}`);s(l)}}function vl(o,r,n,a,s,l){let t,e,i=!1,c=setTimeout(()=>{if(clearTimeout(t),i=!0,e.readyState===XMLHttpRequest.DONE){let f=new et("Request Timeout");l(f)}else e.abort()},a),u=(f=kf,v=Vf)=>{e=new XMLHttpRequest,e.open("POST",r),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),n)).forEach(([x,O])=>{e.setRequestHeader(x,O)}),e.send(o),e.onreadystatechange=()=>{if(e.readyState===XMLHttpRequest.DONE&&i===!1)if(e.status>=200&&e.status<=299)A.debug("xhr success",o),s(),clearTimeout(c),clearTimeout(t);else if(e.status&&Hf(e.status)&&f>0){let x;v=Ff*v,e.getResponseHeader("Retry-After")?x=jf(e.getResponseHeader("Retry-After")):x=Math.round(Math.random()*(Bf-v)+v),t=setTimeout(()=>{u(f-1,v)},x)}else{let x=new et(`Failed to export with XHR (status: ${e.status})`,e.status);l(x),clearTimeout(c),clearTimeout(t)}},e.onabort=()=>{if(i){let x=new et("Request Timeout");l(x)}clearTimeout(c),clearTimeout(t)},e.onerror=()=>{if(i){let x=new et("Request Timeout");l(x)}clearTimeout(c),clearTimeout(t)}};u()}var dS=y(()=>{k();Yf();Gi()});var _l,tU=y(()=>{zf();Gi();dS();k();Z();_l=class extends Bn{constructor(r={}){super(r),this._useXHR=!1,this._useXHR=!!r.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},Ur(r.headers),mr.parseKeyPairsIntoRecord(ee().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){}onShutdown(){}send(r,n,a){if(this._shutdownOnce.isCalled){A.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(r),l=JSON.stringify(s),t=new Promise((i,c)=>{this._useXHR?vl(l,this.url,this._headers,this.timeoutMillis,i,c):eU(l,this.url,{type:"application/json"},i,c)}).then(n,a);this._sendingPromises.push(t);let e=()=>{let i=this._sendingPromises.indexOf(t);this._sendingPromises.splice(i,1)};t.then(e,e)}}});var rU=y(()=>{tU();dS()});var nU=y(()=>{ZM();rU()});var hS={};Ue(hS,{CompressionAlgorithm:()=>Dr,OTLPExporterBase:()=>Bn,OTLPExporterBrowserBase:()=>_l,OTLPExporterError:()=>et,OTLPExporterNodeBase:()=>hn,appendResourcePathToUrl:()=>Ko,appendRootPathToUrlIfNeeded:()=>Wo,configureCompression:()=>Sl,configureExporterTimeout:()=>qf,createHttpAgent:()=>yl,invalidTimeout:()=>Gf,parseHeaders:()=>Ur,sendWithHttp:()=>Hi,sendWithXhr:()=>vl});var Fn=y(()=>{nU();zf();Yf();Gi()});var mS=E((z_e,iU)=>{"use strict";iU.exports=V7;function V7(o,r){for(var n=new Array(arguments.length-1),a=0,s=2,l=!0;s<arguments.length;)n[a++]=arguments[s++];return new Promise(function(e,i){n[a]=function(u){if(l)if(l=!1,u)i(u);else{for(var f=new Array(arguments.length-1),v=0;v<f.length;)f[v++]=arguments[v];e.apply(null,f)}};try{o.apply(r||null,n)}catch(c){l&&(l=!1,i(c))}})}});var lU=E(aU=>{"use strict";var Wf=aU;Wf.length=function(r){var n=r.length;if(!n)return 0;for(var a=0;--n%4>1&&r.charAt(n)==="=";)++a;return Math.ceil(r.length*3)/4-a};var Jo=new Array(64),sU=new Array(123);for(_r=0;_r<64;)sU[Jo[_r]=_r<26?_r+65:_r<52?_r+71:_r<62?_r-4:_r-59|43]=_r++;var _r;Wf.encode=function(r,n,a){for(var s=null,l=[],t=0,e=0,i;n<a;){var c=r[n++];switch(e){case 0:l[t++]=Jo[c>>2],i=(c&3)<<4,e=1;break;case 1:l[t++]=Jo[i|c>>4],i=(c&15)<<2,e=2;break;case 2:l[t++]=Jo[i|c>>6],l[t++]=Jo[c&63],e=0;break}t>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,l)),t=0)}return e&&(l[t++]=Jo[i],l[t++]=61,e===1&&(l[t++]=61)),s?(t&&s.push(String.fromCharCode.apply(String,l.slice(0,t))),s.join("")):String.fromCharCode.apply(String,l.slice(0,t))};var oU="invalid encoding";Wf.decode=function(r,n,a){for(var s=a,l=0,t,e=0;e<r.length;){var i=r.charCodeAt(e++);if(i===61&&l>1)break;if((i=sU[i])===void 0)throw Error(oU);switch(l){case 0:t=i,l=1;break;case 1:n[a++]=t<<2|(i&48)>>4,t=i,l=2;break;case 2:n[a++]=(t&15)<<4|(i&60)>>2,t=i,l=3;break;case 3:n[a++]=(t&3)<<6|i,l=0;break}}if(l===1)throw Error(oU);return a-s};Wf.test=function(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}});var uU=E(($_e,cU)=>{"use strict";cU.exports=Jf;function Jf(){this._listeners={}}Jf.prototype.on=function(r,n,a){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:n,ctx:a||this}),this};Jf.prototype.off=function(r,n){if(r===void 0)this._listeners={};else if(n===void 0)this._listeners[r]=[];else for(var a=this._listeners[r],s=0;s<a.length;)a[s].fn===n?a.splice(s,1):++s;return this};Jf.prototype.emit=function(r){var n=this._listeners[r];if(n){for(var a=[],s=1;s<arguments.length;)a.push(arguments[s++]);for(s=0;s<n.length;)n[s].fn.apply(n[s++].ctx,a)}return this}});var SU=E((K_e,yU)=>{"use strict";yU.exports=fU(fU);function fU(o){return typeof Float32Array<"u"?function(){var r=new Float32Array([-0]),n=new Uint8Array(r.buffer),a=n[3]===128;function s(i,c,u){r[0]=i,c[u]=n[0],c[u+1]=n[1],c[u+2]=n[2],c[u+3]=n[3]}function l(i,c,u){r[0]=i,c[u]=n[3],c[u+1]=n[2],c[u+2]=n[1],c[u+3]=n[0]}o.writeFloatLE=a?s:l,o.writeFloatBE=a?l:s;function t(i,c){return n[0]=i[c],n[1]=i[c+1],n[2]=i[c+2],n[3]=i[c+3],r[0]}function e(i,c){return n[3]=i[c],n[2]=i[c+1],n[1]=i[c+2],n[0]=i[c+3],r[0]}o.readFloatLE=a?t:e,o.readFloatBE=a?e:t}():function(){function r(a,s,l,t){var e=s<0?1:0;if(e&&(s=-s),s===0)a(1/s>0?0:2147483648,l,t);else if(isNaN(s))a(2143289344,l,t);else if(s>34028234663852886e22)a((e<<31|2139095040)>>>0,l,t);else if(s<11754943508222875e-54)a((e<<31|Math.round(s/1401298464324817e-60))>>>0,l,t);else{var i=Math.floor(Math.log(s)/Math.LN2),c=Math.round(s*Math.pow(2,-i)*8388608)&8388607;a((e<<31|i+127<<23|c)>>>0,l,t)}}o.writeFloatLE=r.bind(null,pU),o.writeFloatBE=r.bind(null,dU);function n(a,s,l){var t=a(s,l),e=(t>>31)*2+1,i=t>>>23&255,c=t&8388607;return i===255?c?NaN:e*(1/0):i===0?e*1401298464324817e-60*c:e*Math.pow(2,i-150)*(c+8388608)}o.readFloatLE=n.bind(null,hU),o.readFloatBE=n.bind(null,mU)}(),typeof Float64Array<"u"?function(){var r=new Float64Array([-0]),n=new Uint8Array(r.buffer),a=n[7]===128;function s(i,c,u){r[0]=i,c[u]=n[0],c[u+1]=n[1],c[u+2]=n[2],c[u+3]=n[3],c[u+4]=n[4],c[u+5]=n[5],c[u+6]=n[6],c[u+7]=n[7]}function l(i,c,u){r[0]=i,c[u]=n[7],c[u+1]=n[6],c[u+2]=n[5],c[u+3]=n[4],c[u+4]=n[3],c[u+5]=n[2],c[u+6]=n[1],c[u+7]=n[0]}o.writeDoubleLE=a?s:l,o.writeDoubleBE=a?l:s;function t(i,c){return n[0]=i[c],n[1]=i[c+1],n[2]=i[c+2],n[3]=i[c+3],n[4]=i[c+4],n[5]=i[c+5],n[6]=i[c+6],n[7]=i[c+7],r[0]}function e(i,c){return n[7]=i[c],n[6]=i[c+1],n[5]=i[c+2],n[4]=i[c+3],n[3]=i[c+4],n[2]=i[c+5],n[1]=i[c+6],n[0]=i[c+7],r[0]}o.readDoubleLE=a?t:e,o.readDoubleBE=a?e:t}():function(){function r(a,s,l,t,e,i){var c=t<0?1:0;if(c&&(t=-t),t===0)a(0,e,i+s),a(1/t>0?0:2147483648,e,i+l);else if(isNaN(t))a(0,e,i+s),a(2146959360,e,i+l);else if(t>17976931348623157e292)a(0,e,i+s),a((c<<31|2146435072)>>>0,e,i+l);else{var u;if(t<22250738585072014e-324)u=t/5e-324,a(u>>>0,e,i+s),a((c<<31|u/4294967296)>>>0,e,i+l);else{var f=Math.floor(Math.log(t)/Math.LN2);f===1024&&(f=1023),u=t*Math.pow(2,-f),a(u*4503599627370496>>>0,e,i+s),a((c<<31|f+1023<<20|u*1048576&1048575)>>>0,e,i+l)}}}o.writeDoubleLE=r.bind(null,pU,0,4),o.writeDoubleBE=r.bind(null,dU,4,0);function n(a,s,l,t,e){var i=a(t,e+s),c=a(t,e+l),u=(c>>31)*2+1,f=c>>>20&2047,v=4294967296*(c&1048575)+i;return f===2047?v?NaN:u*(1/0):f===0?u*5e-324*v:u*Math.pow(2,f-1075)*(v+4503599627370496)}o.readDoubleLE=n.bind(null,hU,0,4),o.readDoubleBE=n.bind(null,mU,4,0)}(),o}function pU(o,r,n){r[n]=o&255,r[n+1]=o>>>8&255,r[n+2]=o>>>16&255,r[n+3]=o>>>24}function dU(o,r,n){r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255}function hU(o,r){return(o[r]|o[r+1]<<8|o[r+2]<<16|o[r+3]<<24)>>>0}function mU(o,r){return(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3])>>>0}});var yS=E((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}});var _U=E(vU=>{"use strict";var SS=vU;SS.length=function(r){for(var n=0,a=0,s=0;s<r.length;++s)a=r.charCodeAt(s),a<128?n+=1:a<2048?n+=2:(a&64512)===55296&&(r.charCodeAt(s+1)&64512)===56320?(++s,n+=4):n+=3;return n};SS.read=function(r,n,a){var s=a-n;if(s<1)return"";for(var l=null,t=[],e=0,i;n<a;)i=r[n++],i<128?t[e++]=i:i>191&&i<224?t[e++]=(i&31)<<6|r[n++]&63:i>239&&i<365?(i=((i&7)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,t[e++]=55296+(i>>10),t[e++]=56320+(i&1023)):t[e++]=(i&15)<<12|(r[n++]&63)<<6|r[n++]&63,e>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,t)),e=0);return l?(e&&l.push(String.fromCharCode.apply(String,t.slice(0,e))),l.join("")):String.fromCharCode.apply(String,t.slice(0,e))};SS.write=function(r,n,a){for(var s=a,l,t,e=0;e<r.length;++e)l=r.charCodeAt(e),l<128?n[a++]=l:l<2048?(n[a++]=l>>6|192,n[a++]=l&63|128):(l&64512)===55296&&((t=r.charCodeAt(e+1))&64512)===56320?(l=65536+((l&1023)<<10)+(t&1023),++e,n[a++]=l>>18|240,n[a++]=l>>12&63|128,n[a++]=l>>6&63|128,n[a++]=l&63|128):(n[a++]=l>>12|224,n[a++]=l>>6&63|128,n[a++]=l&63|128);return a-s}});var gU=E((J_e,EU)=>{"use strict";EU.exports=B7;function B7(o,r,n){var a=n||8192,s=a>>>1,l=null,t=a;return function(i){if(i<1||i>s)return o(i);t+i>a&&(l=o(a),t=0);var c=r.call(l,t,t+=i);return t&7&&(t=(t|7)+1),c}}});var OU=E((X_e,TU)=>{"use strict";TU.exports=tt;var El=kr();function tt(o,r){this.lo=o>>>0,this.hi=r>>>0}var ji=tt.zero=new tt(0,0);ji.toNumber=function(){return 0};ji.zzEncode=ji.zzDecode=function(){return this};ji.length=function(){return 1};var F7=tt.zeroHash="\0\0\0\0\0\0\0\0";tt.fromNumber=function(r){if(r===0)return ji;var n=r<0;n&&(r=-r);var a=r>>>0,s=(r-a)/4294967296>>>0;return n&&(s=~s>>>0,a=~a>>>0,++a>4294967295&&(a=0,++s>4294967295&&(s=0))),new tt(a,s)};tt.from=function(r){if(typeof r=="number")return tt.fromNumber(r);if(El.isString(r))if(El.Long)r=El.Long.fromString(r);else return tt.fromNumber(parseInt(r,10));return r.low||r.high?new tt(r.low>>>0,r.high>>>0):ji};tt.prototype.toNumber=function(r){if(!r&&this.hi>>>31){var n=~this.lo+1>>>0,a=~this.hi>>>0;return n||(a=a+1>>>0),-(n+a*4294967296)}return this.lo+this.hi*4294967296};tt.prototype.toLong=function(r){return El.Long?new El.Long(this.lo|0,this.hi|0,!!r):{low:this.lo|0,high:this.hi|0,unsigned:!!r}};var qn=String.prototype.charCodeAt;tt.fromHash=function(r){return r===F7?ji:new tt((qn.call(r,0)|qn.call(r,1)<<8|qn.call(r,2)<<16|qn.call(r,3)<<24)>>>0,(qn.call(r,4)|qn.call(r,5)<<8|qn.call(r,6)<<16|qn.call(r,7)<<24)>>>0)};tt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};tt.prototype.zzEncode=function(){var r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^r)>>>0,this.lo=(this.lo<<1^r)>>>0,this};tt.prototype.zzDecode=function(){var r=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^r)>>>0,this.hi=(this.hi>>>1^r)>>>0,this};tt.prototype.length=function(){var r=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,a=this.hi>>>24;return a===0?n===0?r<16384?r<128?1:2:r<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:a<128?9:10}});var kr=E(vS=>{"use strict";var z=vS;z.asPromise=mS();z.base64=lU();z.EventEmitter=uU();z.float=SU();z.inquire=yS();z.utf8=_U();z.pool=gU();z.LongBits=OU();z.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);z.global=z.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||vS;z.emptyArray=Object.freeze?Object.freeze([]):[];z.emptyObject=Object.freeze?Object.freeze({}):{};z.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r};z.isString=function(r){return typeof r=="string"||r instanceof String};z.isObject=function(r){return r&&typeof r=="object"};z.isset=z.isSet=function(r,n){var a=r[n];return a!=null&&r.hasOwnProperty(n)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1};z.Buffer=function(){try{var o=z.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}();z._Buffer_from=null;z._Buffer_allocUnsafe=null;z.newBuffer=function(r){return typeof r=="number"?z.Buffer?z._Buffer_allocUnsafe(r):new z.Array(r):z.Buffer?z._Buffer_from(r):typeof Uint8Array>"u"?r:new Uint8Array(r)};z.Array=typeof Uint8Array<"u"?Uint8Array:Array;z.Long=z.global.dcodeIO&&z.global.dcodeIO.Long||z.global.Long||z.inquire("long");z.key2Re=/^true|false|0|1$/;z.key32Re=/^-?(?:0|[1-9][0-9]*)$/;z.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;z.longToHash=function(r){return r?z.LongBits.from(r).toHash():z.LongBits.zeroHash};z.longFromHash=function(r,n){var a=z.LongBits.fromHash(r);return z.Long?z.Long.fromBits(a.lo,a.hi,n):a.toNumber(!!n)};function bU(o,r,n){for(var a=Object.keys(r),s=0;s<a.length;++s)(o[a[s]]===void 0||!n)&&(o[a[s]]=r[a[s]]);return o}z.merge=bU;z.lcFirst=function(r){return r.charAt(0).toLowerCase()+r.substring(1)};function AU(o){function r(n,a){if(!(this instanceof r))return new r(n,a);Object.defineProperty(this,"message",{get:function(){return n}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&bU(this,a)}return r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return o},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),r}z.newError=AU;z.ProtocolError=AU("ProtocolError");z.oneOfGetter=function(r){for(var n={},a=0;a<r.length;++a)n[r[a]]=1;return function(){for(var s=Object.keys(this),l=s.length-1;l>-1;--l)if(n[s[l]]===1&&this[s[l]]!==void 0&&this[s[l]]!==null)return s[l]}};z.oneOfSetter=function(r){return function(n){for(var a=0;a<r.length;++a)r[a]!==n&&delete this[r[a]]}};z.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};z._configure=function(){var o=z.Buffer;if(!o){z._Buffer_from=z._Buffer_allocUnsafe=null;return}z._Buffer_from=o.from!==Uint8Array.from&&o.from||function(n,a){return new o(n,a)},z._Buffer_allocUnsafe=o.allocUnsafe||function(n){return new o(n)}}});var Qf=E((Z_e,PU)=>{"use strict";PU.exports=Te;var tr=kr(),_S,Xf=tr.LongBits,NU=tr.base64,xU=tr.utf8;function gl(o,r,n){this.fn=o,this.len=r,this.next=void 0,this.val=n}function gS(){}function q7(o){this.head=o.head,this.tail=o.tail,this.len=o.len,this.next=o.states}function Te(){this.len=0,this.head=new gl(gS,0,0),this.tail=this.head,this.states=null}var RU=function(){return tr.Buffer?function(){return(Te.create=function(){return new _S})()}:function(){return new Te}};Te.create=RU();Te.alloc=function(r){return new tr.Array(r)};tr.Array!==Array&&(Te.alloc=tr.pool(Te.alloc,tr.Array.prototype.subarray));Te.prototype._push=function(r,n,a){return this.tail=this.tail.next=new gl(r,n,a),this.len+=n,this};function TS(o,r,n){r[n]=o&255}function G7(o,r,n){for(;o>127;)r[n++]=o&127|128,o>>>=7;r[n]=o}function OS(o,r){this.len=o,this.next=void 0,this.val=r}OS.prototype=Object.create(gl.prototype);OS.prototype.fn=G7;Te.prototype.uint32=function(r){return this.len+=(this.tail=this.tail.next=new OS((r=r>>>0)<128?1:r<16384?2:r<2097152?3:r<268435456?4:5,r)).len,this};Te.prototype.int32=function(r){return r<0?this._push(bS,10,Xf.fromNumber(r)):this.uint32(r)};Te.prototype.sint32=function(r){return this.uint32((r<<1^r>>31)>>>0)};function bS(o,r,n){for(;o.hi;)r[n++]=o.lo&127|128,o.lo=(o.lo>>>7|o.hi<<25)>>>0,o.hi>>>=7;for(;o.lo>127;)r[n++]=o.lo&127|128,o.lo=o.lo>>>7;r[n++]=o.lo}Te.prototype.uint64=function(r){var n=Xf.from(r);return this._push(bS,n.length(),n)};Te.prototype.int64=Te.prototype.uint64;Te.prototype.sint64=function(r){var n=Xf.from(r).zzEncode();return this._push(bS,n.length(),n)};Te.prototype.bool=function(r){return this._push(TS,1,r?1:0)};function ES(o,r,n){r[n]=o&255,r[n+1]=o>>>8&255,r[n+2]=o>>>16&255,r[n+3]=o>>>24}Te.prototype.fixed32=function(r){return this._push(ES,4,r>>>0)};Te.prototype.sfixed32=Te.prototype.fixed32;Te.prototype.fixed64=function(r){var n=Xf.from(r);return this._push(ES,4,n.lo)._push(ES,4,n.hi)};Te.prototype.sfixed64=Te.prototype.fixed64;Te.prototype.float=function(r){return this._push(tr.float.writeFloatLE,4,r)};Te.prototype.double=function(r){return this._push(tr.float.writeDoubleLE,8,r)};var H7=tr.Array.prototype.set?function(r,n,a){n.set(r,a)}:function(r,n,a){for(var s=0;s<r.length;++s)n[a+s]=r[s]};Te.prototype.bytes=function(r){var n=r.length>>>0;if(!n)return this._push(TS,1,0);if(tr.isString(r)){var a=Te.alloc(n=NU.length(r));NU.decode(r,a,0),r=a}return this.uint32(n)._push(H7,n,r)};Te.prototype.string=function(r){var n=xU.length(r);return n?this.uint32(n)._push(xU.write,n,r):this._push(TS,1,0)};Te.prototype.fork=function(){return this.states=new q7(this),this.head=this.tail=new gl(gS,0,0),this.len=0,this};Te.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new gl(gS,0,0),this.len=0),this};Te.prototype.ldelim=function(){var r=this.head,n=this.tail,a=this.len;return this.reset().uint32(a),a&&(this.tail.next=r.next,this.tail=n,this.len+=a),this};Te.prototype.finish=function(){for(var r=this.head.next,n=this.constructor.alloc(this.len),a=0;r;)r.fn(r.val,n,a),a+=r.len,r=r.next;return n};Te._configure=function(o){_S=o,Te.create=RU(),_S._configure()}});var wU=E((eEe,IU)=>{"use strict";IU.exports=Vr;var CU=Qf();(Vr.prototype=Object.create(CU.prototype)).constructor=Vr;var Gn=kr();function Vr(){CU.call(this)}Vr._configure=function(){Vr.alloc=Gn._Buffer_allocUnsafe,Vr.writeBytesBuffer=Gn.Buffer&&Gn.Buffer.prototype instanceof Uint8Array&&Gn.Buffer.prototype.set.name==="set"?function(r,n,a){n.set(r,a)}:function(r,n,a){if(r.copy)r.copy(n,a,0,r.length);else for(var s=0;s<r.length;)n[a++]=r[s++]}};Vr.prototype.bytes=function(r){Gn.isString(r)&&(r=Gn._Buffer_from(r,"base64"));var n=r.length>>>0;return this.uint32(n),n&&this._push(Vr.writeBytesBuffer,n,r),this};function j7(o,r,n){o.length<40?Gn.utf8.write(o,r,n):r.utf8Write?r.utf8Write(o,n):r.write(o,n)}Vr.prototype.string=function(r){var n=Gn.Buffer.byteLength(r);return this.uint32(n),n&&this._push(j7,n,r),this};Vr._configure()});var ep=E((tEe,kU)=>{"use strict";kU.exports=je;var Er=kr(),NS,UU=Er.LongBits,z7=Er.utf8;function gr(o,r){return RangeError("index out of range: "+o.pos+" + "+(r||1)+" > "+o.len)}function je(o){this.buf=o,this.pos=0,this.len=o.length}var LU=typeof Uint8Array<"u"?function(r){if(r instanceof Uint8Array||Array.isArray(r))return new je(r);throw Error("illegal buffer")}:function(r){if(Array.isArray(r))return new je(r);throw Error("illegal buffer")},DU=function(){return Er.Buffer?function(n){return(je.create=function(s){return Er.Buffer.isBuffer(s)?new NS(s):LU(s)})(n)}:LU};je.create=DU();je.prototype._slice=Er.Array.prototype.subarray||Er.Array.prototype.slice;je.prototype.uint32=function(){var r=4294967295;return function(){if(r=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(r=(r|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return r;if((this.pos+=5)>this.len)throw this.pos=this.len,gr(this,10);return r}}();je.prototype.int32=function(){return this.uint32()|0};je.prototype.sint32=function(){var r=this.uint32();return r>>>1^-(r&1)|0};function AS(){var o=new UU(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(o.lo=(o.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return o;if(o.lo=(o.lo|(this.buf[this.pos]&127)<<28)>>>0,o.hi=(o.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return o;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw gr(this);if(o.lo=(o.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return o}return o.lo=(o.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,o}if(this.len-this.pos>4){for(;r<5;++r)if(o.hi=(o.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return o}else for(;r<5;++r){if(this.pos>=this.len)throw gr(this);if(o.hi=(o.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return o}throw Error("invalid varint encoding")}je.prototype.bool=function(){return this.uint32()!==0};function Zf(o,r){return(o[r-4]|o[r-3]<<8|o[r-2]<<16|o[r-1]<<24)>>>0}je.prototype.fixed32=function(){if(this.pos+4>this.len)throw gr(this,4);return Zf(this.buf,this.pos+=4)};je.prototype.sfixed32=function(){if(this.pos+4>this.len)throw gr(this,4);return Zf(this.buf,this.pos+=4)|0};function MU(){if(this.pos+8>this.len)throw gr(this,8);return new UU(Zf(this.buf,this.pos+=4),Zf(this.buf,this.pos+=4))}je.prototype.float=function(){if(this.pos+4>this.len)throw gr(this,4);var r=Er.float.readFloatLE(this.buf,this.pos);return this.pos+=4,r};je.prototype.double=function(){if(this.pos+8>this.len)throw gr(this,4);var r=Er.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,r};je.prototype.bytes=function(){var r=this.uint32(),n=this.pos,a=this.pos+r;if(a>this.len)throw gr(this,r);if(this.pos+=r,Array.isArray(this.buf))return this.buf.slice(n,a);if(n===a){var s=Er.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,n,a)};je.prototype.string=function(){var r=this.bytes();return z7.read(r,0,r.length)};je.prototype.skip=function(r){if(typeof r=="number"){if(this.pos+r>this.len)throw gr(this,r);this.pos+=r}else do if(this.pos>=this.len)throw gr(this);while(this.buf[this.pos++]&128);return this};je.prototype.skipType=function(o){switch(o){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(o=this.uint32()&7)!==4;)this.skipType(o);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+o+" at offset "+this.pos)}return this};je._configure=function(o){NS=o,je.create=DU(),NS._configure();var r=Er.Long?"toLong":"toNumber";Er.merge(je.prototype,{int64:function(){return AS.call(this)[r](!1)},uint64:function(){return AS.call(this)[r](!0)},sint64:function(){return AS.call(this).zzDecode()[r](!1)},fixed64:function(){return MU.call(this)[r](!0)},sfixed64:function(){return MU.call(this)[r](!1)}})}});var qU=E((rEe,FU)=>{"use strict";FU.exports=zi;var BU=ep();(zi.prototype=Object.create(BU.prototype)).constructor=zi;var VU=kr();function zi(o){BU.call(this,o)}zi._configure=function(){VU.Buffer&&(zi.prototype._slice=VU.Buffer.prototype.slice)};zi.prototype.string=function(){var r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+r,this.len))};zi._configure()});var HU=E((nEe,GU)=>{"use strict";GU.exports=Tl;var xS=kr();(Tl.prototype=Object.create(xS.EventEmitter.prototype)).constructor=Tl;function Tl(o,r,n){if(typeof o!="function")throw TypeError("rpcImpl must be a function");xS.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!r,this.responseDelimited=!!n}Tl.prototype.rpcCall=function o(r,n,a,s,l){if(!s)throw TypeError("request must be specified");var t=this;if(!l)return xS.asPromise(o,t,r,n,a,s);if(!t.rpcImpl){setTimeout(function(){l(Error("already ended"))},0);return}try{return t.rpcImpl(r,n[t.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(i,c){if(i)return t.emit("error",i,r),l(i);if(c===null){t.end(!0);return}if(!(c instanceof a))try{c=a[t.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return t.emit("error",u,r),l(u)}return t.emit("data",c,r),l(null,c)})}catch(e){t.emit("error",e,r),setTimeout(function(){l(e)},0);return}};Tl.prototype.end=function(r){return this.rpcImpl&&(r||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var RS=E(jU=>{"use strict";var Y7=jU;Y7.Service=HU()});var PS=E((oEe,zU)=>{"use strict";zU.exports={}});var CS=E($U=>{"use strict";var wt=$U;wt.build="minimal";wt.Writer=Qf();wt.BufferWriter=wU();wt.Reader=ep();wt.BufferReader=qU();wt.util=kr();wt.rpc=RS();wt.roots=PS();wt.configure=YU;function YU(){wt.util._configure(),wt.Writer._configure(wt.BufferWriter),wt.Reader._configure(wt.BufferReader)}YU()});var IS=E((aEe,KU)=>{"use strict";KU.exports=CS()});var JU=E((lEe,WU)=>{"use strict";var W=IS(),g=W.Reader,se=W.Writer,h=W.util,p=W.roots.default||(W.roots.default={});p.opentelemetry=function(){var o={};return o.proto=function(){var r={};return r.common=function(){var n={};return n.v1=function(){var a={};return a.AnyValue=function(){function s(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var l;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(l=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:h.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){return i||(i=se.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&i.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&i.uint32(16).bool(e.boolValue),e.intValue!=null&&Object.hasOwnProperty.call(e,"intValue")&&i.uint32(24).int64(e.intValue),e.doubleValue!=null&&Object.hasOwnProperty.call(e,"doubleValue")&&i.uint32(33).double(e.doubleValue),e.arrayValue!=null&&Object.hasOwnProperty.call(e,"arrayValue")&&p.opentelemetry.proto.common.v1.ArrayValue.encode(e.arrayValue,i.uint32(42).fork()).ldelim(),e.kvlistValue!=null&&Object.hasOwnProperty.call(e,"kvlistValue")&&p.opentelemetry.proto.common.v1.KeyValueList.encode(e.kvlistValue,i.uint32(50).fork()).ldelim(),e.bytesValue!=null&&Object.hasOwnProperty.call(e,"bytesValue")&&i.uint32(58).bytes(e.bytesValue),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.common.v1.AnyValue;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.stringValue=e.string();break}case 2:{u.boolValue=e.bool();break}case 3:{u.intValue=e.int64();break}case 4:{u.doubleValue=e.double();break}case 5:{u.arrayValue=p.opentelemetry.proto.common.v1.ArrayValue.decode(e,e.uint32());break}case 6:{u.kvlistValue=p.opentelemetry.proto.common.v1.KeyValueList.decode(e,e.uint32());break}case 7:{u.bytesValue=e.bytes();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(i.value=1,!h.isString(e.stringValue)))return"stringValue: string expected";if(e.boolValue!=null&&e.hasOwnProperty("boolValue")){if(i.value===1)return"value: multiple values";if(i.value=1,typeof e.boolValue!="boolean")return"boolValue: boolean expected"}if(e.intValue!=null&&e.hasOwnProperty("intValue")){if(i.value===1)return"value: multiple values";if(i.value=1,!h.isInteger(e.intValue)&&!(e.intValue&&h.isInteger(e.intValue.low)&&h.isInteger(e.intValue.high)))return"intValue: integer|Long expected"}if(e.doubleValue!=null&&e.hasOwnProperty("doubleValue")){if(i.value===1)return"value: multiple values";if(i.value=1,typeof e.doubleValue!="number")return"doubleValue: number expected"}if(e.arrayValue!=null&&e.hasOwnProperty("arrayValue")){if(i.value===1)return"value: multiple values";i.value=1;{var c=p.opentelemetry.proto.common.v1.ArrayValue.verify(e.arrayValue);if(c)return"arrayValue."+c}}if(e.kvlistValue!=null&&e.hasOwnProperty("kvlistValue")){if(i.value===1)return"value: multiple values";i.value=1;{var c=p.opentelemetry.proto.common.v1.KeyValueList.verify(e.kvlistValue);if(c)return"kvlistValue."+c}}if(e.bytesValue!=null&&e.hasOwnProperty("bytesValue")){if(i.value===1)return"value: multiple values";if(i.value=1,!(e.bytesValue&&typeof e.bytesValue.length=="number"||h.isString(e.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(e){if(e instanceof p.opentelemetry.proto.common.v1.AnyValue)return e;var i=new p.opentelemetry.proto.common.v1.AnyValue;if(e.stringValue!=null&&(i.stringValue=String(e.stringValue)),e.boolValue!=null&&(i.boolValue=!!e.boolValue),e.intValue!=null&&(h.Long?(i.intValue=h.Long.fromValue(e.intValue)).unsigned=!1:typeof e.intValue=="string"?i.intValue=parseInt(e.intValue,10):typeof e.intValue=="number"?i.intValue=e.intValue:typeof e.intValue=="object"&&(i.intValue=new h.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber())),e.doubleValue!=null&&(i.doubleValue=Number(e.doubleValue)),e.arrayValue!=null){if(typeof e.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");i.arrayValue=p.opentelemetry.proto.common.v1.ArrayValue.fromObject(e.arrayValue)}if(e.kvlistValue!=null){if(typeof e.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");i.kvlistValue=p.opentelemetry.proto.common.v1.KeyValueList.fromObject(e.kvlistValue)}return e.bytesValue!=null&&(typeof e.bytesValue=="string"?h.base64.decode(e.bytesValue,i.bytesValue=h.newBuffer(h.base64.length(e.bytesValue)),0):e.bytesValue.length>=0&&(i.bytesValue=e.bytesValue)),i},s.toObject=function(e,i){i||(i={});var c={};return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(c.stringValue=e.stringValue,i.oneofs&&(c.value="stringValue")),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(c.boolValue=e.boolValue,i.oneofs&&(c.value="boolValue")),e.intValue!=null&&e.hasOwnProperty("intValue")&&(typeof e.intValue=="number"?c.intValue=i.longs===String?String(e.intValue):e.intValue:c.intValue=i.longs===String?h.Long.prototype.toString.call(e.intValue):i.longs===Number?new h.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber():e.intValue,i.oneofs&&(c.value="intValue")),e.doubleValue!=null&&e.hasOwnProperty("doubleValue")&&(c.doubleValue=i.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,i.oneofs&&(c.value="doubleValue")),e.arrayValue!=null&&e.hasOwnProperty("arrayValue")&&(c.arrayValue=p.opentelemetry.proto.common.v1.ArrayValue.toObject(e.arrayValue,i),i.oneofs&&(c.value="arrayValue")),e.kvlistValue!=null&&e.hasOwnProperty("kvlistValue")&&(c.kvlistValue=p.opentelemetry.proto.common.v1.KeyValueList.toObject(e.kvlistValue,i),i.oneofs&&(c.value="kvlistValue")),e.bytesValue!=null&&e.hasOwnProperty("bytesValue")&&(c.bytesValue=i.bytes===String?h.base64.encode(e.bytesValue,0,e.bytesValue.length):i.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,i.oneofs&&(c.value="bytesValue")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.AnyValue"},s}(),a.ArrayValue=function(){function s(l){if(this.values=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.values=h.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.values!=null&&t.values.length)for(var i=0;i<t.values.length;++i)p.opentelemetry.proto.common.v1.AnyValue.encode(t.values[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.common.v1.ArrayValue;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(p.opentelemetry.proto.common.v1.AnyValue.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.values!=null&&t.hasOwnProperty("values")){if(!Array.isArray(t.values))return"values: array expected";for(var e=0;e<t.values.length;++e){var i=p.opentelemetry.proto.common.v1.AnyValue.verify(t.values[e]);if(i)return"values."+i}}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.common.v1.ArrayValue)return t;var e=new p.opentelemetry.proto.common.v1.ArrayValue;if(t.values){if(!Array.isArray(t.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");e.values=[];for(var i=0;i<t.values.length;++i){if(typeof t.values[i]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");e.values[i]=p.opentelemetry.proto.common.v1.AnyValue.fromObject(t.values[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.values=[]),t.values&&t.values.length){i.values=[];for(var c=0;c<t.values.length;++c)i.values[c]=p.opentelemetry.proto.common.v1.AnyValue.toObject(t.values[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.ArrayValue"},s}(),a.KeyValueList=function(){function s(l){if(this.values=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.values=h.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.values!=null&&t.values.length)for(var i=0;i<t.values.length;++i)p.opentelemetry.proto.common.v1.KeyValue.encode(t.values[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.common.v1.KeyValueList;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(p.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.values!=null&&t.hasOwnProperty("values")){if(!Array.isArray(t.values))return"values: array expected";for(var e=0;e<t.values.length;++e){var i=p.opentelemetry.proto.common.v1.KeyValue.verify(t.values[e]);if(i)return"values."+i}}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.common.v1.KeyValueList)return t;var e=new p.opentelemetry.proto.common.v1.KeyValueList;if(t.values){if(!Array.isArray(t.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");e.values=[];for(var i=0;i<t.values.length;++i){if(typeof t.values[i]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");e.values[i]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(t.values[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.values=[]),t.values&&t.values.length){i.values=[];for(var c=0;c<t.values.length;++c)i.values[c]=p.opentelemetry.proto.common.v1.KeyValue.toObject(t.values[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.KeyValueList"},s}(),a.KeyValue=function(){function s(l){if(l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(t){return new s(t)},s.encode=function(t,e){return e||(e=se.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&e.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&p.opentelemetry.proto.common.v1.AnyValue.encode(t.value,e.uint32(18).fork()).ldelim(),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.common.v1.KeyValue;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.key=t.string();break}case 2:{c.value=p.opentelemetry.proto.common.v1.AnyValue.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.key!=null&&t.hasOwnProperty("key")&&!h.isString(t.key))return"key: string expected";if(t.value!=null&&t.hasOwnProperty("value")){var e=p.opentelemetry.proto.common.v1.AnyValue.verify(t.value);if(e)return"value."+e}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.common.v1.KeyValue)return t;var e=new p.opentelemetry.proto.common.v1.KeyValue;if(t.key!=null&&(e.key=String(t.key)),t.value!=null){if(typeof t.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");e.value=p.opentelemetry.proto.common.v1.AnyValue.fromObject(t.value)}return e},s.toObject=function(t,e){e||(e={});var i={};return e.defaults&&(i.key="",i.value=null),t.key!=null&&t.hasOwnProperty("key")&&(i.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(i.value=p.opentelemetry.proto.common.v1.AnyValue.toObject(t.value,e)),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.KeyValue"},s}(),a.InstrumentationScope=function(){function s(l){if(this.attributes=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&e.uint32(18).string(t.version),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)p.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(26).fork()).ldelim();return t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(32).uint32(t.droppedAttributesCount),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.common.v1.InstrumentationScope;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.name=t.string();break}case 2:{c.version=t.string();break}case 3:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 4:{c.droppedAttributesCount=t.uint32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(t.version!=null&&t.hasOwnProperty("version")&&!h.isString(t.version))return"version: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=p.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(t.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.common.v1.InstrumentationScope)return t;var e=new p.opentelemetry.proto.common.v1.InstrumentationScope;if(t.name!=null&&(e.name=String(t.name)),t.version!=null&&(e.version=String(t.version)),t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");e.attributes[i]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}return t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[]),e.defaults&&(i.name="",i.version="",i.droppedAttributesCount=0),t.name!=null&&t.hasOwnProperty("name")&&(i.name=t.name),t.version!=null&&t.hasOwnProperty("version")&&(i.version=t.version),t.attributes&&t.attributes.length){i.attributes=[];for(var c=0;c<t.attributes.length;++c)i.attributes[c]=p.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[c],e)}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.InstrumentationScope"},s}(),a}(),n}(),r.resource=function(){var n={};return n.v1=function(){var a={};return a.Resource=function(){function s(l){if(this.attributes=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)p.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(10).fork()).ldelim();return t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(16).uint32(t.droppedAttributesCount),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.resource.v1.Resource;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 2:{c.droppedAttributesCount=t.uint32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=p.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(t.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.resource.v1.Resource)return t;var e=new p.opentelemetry.proto.resource.v1.Resource;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");e.attributes[i]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}return t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[]),e.defaults&&(i.droppedAttributesCount=0),t.attributes&&t.attributes.length){i.attributes=[];for(var c=0;c<t.attributes.length;++c)i.attributes[c]=p.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[c],e)}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.resource.v1.Resource"},s}(),a}(),n}(),r.trace=function(){var n={};return n.v1=function(){var a={};return a.TracesData=function(){function s(l){if(this.resourceSpans=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resourceSpans=h.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.resourceSpans!=null&&t.resourceSpans.length)for(var i=0;i<t.resourceSpans.length;++i)p.opentelemetry.proto.trace.v1.ResourceSpans.encode(t.resourceSpans[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.trace.v1.TracesData;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resourceSpans&&c.resourceSpans.length||(c.resourceSpans=[]),c.resourceSpans.push(p.opentelemetry.proto.trace.v1.ResourceSpans.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resourceSpans!=null&&t.hasOwnProperty("resourceSpans")){if(!Array.isArray(t.resourceSpans))return"resourceSpans: array expected";for(var e=0;e<t.resourceSpans.length;++e){var i=p.opentelemetry.proto.trace.v1.ResourceSpans.verify(t.resourceSpans[e]);if(i)return"resourceSpans."+i}}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.trace.v1.TracesData)return t;var e=new p.opentelemetry.proto.trace.v1.TracesData;if(t.resourceSpans){if(!Array.isArray(t.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");e.resourceSpans=[];for(var i=0;i<t.resourceSpans.length;++i){if(typeof t.resourceSpans[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");e.resourceSpans[i]=p.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(t.resourceSpans[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.resourceSpans=[]),t.resourceSpans&&t.resourceSpans.length){i.resourceSpans=[];for(var c=0;c<t.resourceSpans.length;++c)i.resourceSpans[c]=p.opentelemetry.proto.trace.v1.ResourceSpans.toObject(t.resourceSpans[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.TracesData"},s}(),a.ResourceSpans=function(){function s(l){if(this.scopeSpans=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resource=null,s.prototype.scopeSpans=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.resource!=null&&Object.hasOwnProperty.call(t,"resource")&&p.opentelemetry.proto.resource.v1.Resource.encode(t.resource,e.uint32(10).fork()).ldelim(),t.scopeSpans!=null&&t.scopeSpans.length)for(var i=0;i<t.scopeSpans.length;++i)p.opentelemetry.proto.trace.v1.ScopeSpans.encode(t.scopeSpans[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.trace.v1.ResourceSpans;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resource=p.opentelemetry.proto.resource.v1.Resource.decode(t,t.uint32());break}case 2:{c.scopeSpans&&c.scopeSpans.length||(c.scopeSpans=[]),c.scopeSpans.push(p.opentelemetry.proto.trace.v1.ScopeSpans.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resource!=null&&t.hasOwnProperty("resource")){var e=p.opentelemetry.proto.resource.v1.Resource.verify(t.resource);if(e)return"resource."+e}if(t.scopeSpans!=null&&t.hasOwnProperty("scopeSpans")){if(!Array.isArray(t.scopeSpans))return"scopeSpans: array expected";for(var i=0;i<t.scopeSpans.length;++i){var e=p.opentelemetry.proto.trace.v1.ScopeSpans.verify(t.scopeSpans[i]);if(e)return"scopeSpans."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!h.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.trace.v1.ResourceSpans)return t;var e=new p.opentelemetry.proto.trace.v1.ResourceSpans;if(t.resource!=null){if(typeof t.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");e.resource=p.opentelemetry.proto.resource.v1.Resource.fromObject(t.resource)}if(t.scopeSpans){if(!Array.isArray(t.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");e.scopeSpans=[];for(var i=0;i<t.scopeSpans.length;++i){if(typeof t.scopeSpans[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");e.scopeSpans[i]=p.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(t.scopeSpans[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.scopeSpans=[]),e.defaults&&(i.resource=null,i.schemaUrl=""),t.resource!=null&&t.hasOwnProperty("resource")&&(i.resource=p.opentelemetry.proto.resource.v1.Resource.toObject(t.resource,e)),t.scopeSpans&&t.scopeSpans.length){i.scopeSpans=[];for(var c=0;c<t.scopeSpans.length;++c)i.scopeSpans[c]=p.opentelemetry.proto.trace.v1.ScopeSpans.toObject(t.scopeSpans[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.ResourceSpans"},s}(),a.ScopeSpans=function(){function s(l){if(this.spans=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.scope=null,s.prototype.spans=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.scope!=null&&Object.hasOwnProperty.call(t,"scope")&&p.opentelemetry.proto.common.v1.InstrumentationScope.encode(t.scope,e.uint32(10).fork()).ldelim(),t.spans!=null&&t.spans.length)for(var i=0;i<t.spans.length;++i)p.opentelemetry.proto.trace.v1.Span.encode(t.spans[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.trace.v1.ScopeSpans;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.decode(t,t.uint32());break}case 2:{c.spans&&c.spans.length||(c.spans=[]),c.spans.push(p.opentelemetry.proto.trace.v1.Span.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.scope!=null&&t.hasOwnProperty("scope")){var e=p.opentelemetry.proto.common.v1.InstrumentationScope.verify(t.scope);if(e)return"scope."+e}if(t.spans!=null&&t.hasOwnProperty("spans")){if(!Array.isArray(t.spans))return"spans: array expected";for(var i=0;i<t.spans.length;++i){var e=p.opentelemetry.proto.trace.v1.Span.verify(t.spans[i]);if(e)return"spans."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!h.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.trace.v1.ScopeSpans)return t;var e=new p.opentelemetry.proto.trace.v1.ScopeSpans;if(t.scope!=null){if(typeof t.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");e.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(t.scope)}if(t.spans){if(!Array.isArray(t.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");e.spans=[];for(var i=0;i<t.spans.length;++i){if(typeof t.spans[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");e.spans[i]=p.opentelemetry.proto.trace.v1.Span.fromObject(t.spans[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.spans=[]),e.defaults&&(i.scope=null,i.schemaUrl=""),t.scope!=null&&t.hasOwnProperty("scope")&&(i.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.toObject(t.scope,e)),t.spans&&t.spans.length){i.spans=[];for(var c=0;c<t.spans.length;++c)i.spans[c]=p.opentelemetry.proto.trace.v1.Span.toObject(t.spans[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.ScopeSpans"},s}(),a.Span=function(){function s(l){if(this.attributes=[],this.events=[],this.links=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=h.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=h.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.traceId!=null&&Object.hasOwnProperty.call(t,"traceId")&&e.uint32(10).bytes(t.traceId),t.spanId!=null&&Object.hasOwnProperty.call(t,"spanId")&&e.uint32(18).bytes(t.spanId),t.traceState!=null&&Object.hasOwnProperty.call(t,"traceState")&&e.uint32(26).string(t.traceState),t.parentSpanId!=null&&Object.hasOwnProperty.call(t,"parentSpanId")&&e.uint32(34).bytes(t.parentSpanId),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(42).string(t.name),t.kind!=null&&Object.hasOwnProperty.call(t,"kind")&&e.uint32(48).int32(t.kind),t.startTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"startTimeUnixNano")&&e.uint32(57).fixed64(t.startTimeUnixNano),t.endTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"endTimeUnixNano")&&e.uint32(65).fixed64(t.endTimeUnixNano),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)p.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(74).fork()).ldelim();if(t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(80).uint32(t.droppedAttributesCount),t.events!=null&&t.events.length)for(var i=0;i<t.events.length;++i)p.opentelemetry.proto.trace.v1.Span.Event.encode(t.events[i],e.uint32(90).fork()).ldelim();if(t.droppedEventsCount!=null&&Object.hasOwnProperty.call(t,"droppedEventsCount")&&e.uint32(96).uint32(t.droppedEventsCount),t.links!=null&&t.links.length)for(var i=0;i<t.links.length;++i)p.opentelemetry.proto.trace.v1.Span.Link.encode(t.links[i],e.uint32(106).fork()).ldelim();return t.droppedLinksCount!=null&&Object.hasOwnProperty.call(t,"droppedLinksCount")&&e.uint32(112).uint32(t.droppedLinksCount),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&p.opentelemetry.proto.trace.v1.Status.encode(t.status,e.uint32(122).fork()).ldelim(),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.trace.v1.Span;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.traceId=t.bytes();break}case 2:{c.spanId=t.bytes();break}case 3:{c.traceState=t.string();break}case 4:{c.parentSpanId=t.bytes();break}case 5:{c.name=t.string();break}case 6:{c.kind=t.int32();break}case 7:{c.startTimeUnixNano=t.fixed64();break}case 8:{c.endTimeUnixNano=t.fixed64();break}case 9:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 10:{c.droppedAttributesCount=t.uint32();break}case 11:{c.events&&c.events.length||(c.events=[]),c.events.push(p.opentelemetry.proto.trace.v1.Span.Event.decode(t,t.uint32()));break}case 12:{c.droppedEventsCount=t.uint32();break}case 13:{c.links&&c.links.length||(c.links=[]),c.links.push(p.opentelemetry.proto.trace.v1.Span.Link.decode(t,t.uint32()));break}case 14:{c.droppedLinksCount=t.uint32();break}case 15:{c.status=p.opentelemetry.proto.trace.v1.Status.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.traceId!=null&&t.hasOwnProperty("traceId")&&!(t.traceId&&typeof t.traceId.length=="number"||h.isString(t.traceId)))return"traceId: buffer expected";if(t.spanId!=null&&t.hasOwnProperty("spanId")&&!(t.spanId&&typeof t.spanId.length=="number"||h.isString(t.spanId)))return"spanId: buffer expected";if(t.traceState!=null&&t.hasOwnProperty("traceState")&&!h.isString(t.traceState))return"traceState: string expected";if(t.parentSpanId!=null&&t.hasOwnProperty("parentSpanId")&&!(t.parentSpanId&&typeof t.parentSpanId.length=="number"||h.isString(t.parentSpanId)))return"parentSpanId: buffer expected";if(t.name!=null&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(t.kind!=null&&t.hasOwnProperty("kind"))switch(t.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(t.startTimeUnixNano)&&!(t.startTimeUnixNano&&h.isInteger(t.startTimeUnixNano.low)&&h.isInteger(t.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(t.endTimeUnixNano!=null&&t.hasOwnProperty("endTimeUnixNano")&&!h.isInteger(t.endTimeUnixNano)&&!(t.endTimeUnixNano&&h.isInteger(t.endTimeUnixNano.low)&&h.isInteger(t.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=p.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}if(t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(t.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(t.events!=null&&t.hasOwnProperty("events")){if(!Array.isArray(t.events))return"events: array expected";for(var e=0;e<t.events.length;++e){var i=p.opentelemetry.proto.trace.v1.Span.Event.verify(t.events[e]);if(i)return"events."+i}}if(t.droppedEventsCount!=null&&t.hasOwnProperty("droppedEventsCount")&&!h.isInteger(t.droppedEventsCount))return"droppedEventsCount: integer expected";if(t.links!=null&&t.hasOwnProperty("links")){if(!Array.isArray(t.links))return"links: array expected";for(var e=0;e<t.links.length;++e){var i=p.opentelemetry.proto.trace.v1.Span.Link.verify(t.links[e]);if(i)return"links."+i}}if(t.droppedLinksCount!=null&&t.hasOwnProperty("droppedLinksCount")&&!h.isInteger(t.droppedLinksCount))return"droppedLinksCount: integer expected";if(t.status!=null&&t.hasOwnProperty("status")){var i=p.opentelemetry.proto.trace.v1.Status.verify(t.status);if(i)return"status."+i}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.trace.v1.Span)return t;var e=new p.opentelemetry.proto.trace.v1.Span;switch(t.traceId!=null&&(typeof t.traceId=="string"?h.base64.decode(t.traceId,e.traceId=h.newBuffer(h.base64.length(t.traceId)),0):t.traceId.length>=0&&(e.traceId=t.traceId)),t.spanId!=null&&(typeof t.spanId=="string"?h.base64.decode(t.spanId,e.spanId=h.newBuffer(h.base64.length(t.spanId)),0):t.spanId.length>=0&&(e.spanId=t.spanId)),t.traceState!=null&&(e.traceState=String(t.traceState)),t.parentSpanId!=null&&(typeof t.parentSpanId=="string"?h.base64.decode(t.parentSpanId,e.parentSpanId=h.newBuffer(h.base64.length(t.parentSpanId)),0):t.parentSpanId.length>=0&&(e.parentSpanId=t.parentSpanId)),t.name!=null&&(e.name=String(t.name)),t.kind){default:if(typeof t.kind=="number"){e.kind=t.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:e.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:e.kind=1;break;case"SPAN_KIND_SERVER":case 2:e.kind=2;break;case"SPAN_KIND_CLIENT":case 3:e.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:e.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:e.kind=5;break}if(t.startTimeUnixNano!=null&&(h.Long?(e.startTimeUnixNano=h.Long.fromValue(t.startTimeUnixNano)).unsigned=!1:typeof t.startTimeUnixNano=="string"?e.startTimeUnixNano=parseInt(t.startTimeUnixNano,10):typeof t.startTimeUnixNano=="number"?e.startTimeUnixNano=t.startTimeUnixNano:typeof t.startTimeUnixNano=="object"&&(e.startTimeUnixNano=new h.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber())),t.endTimeUnixNano!=null&&(h.Long?(e.endTimeUnixNano=h.Long.fromValue(t.endTimeUnixNano)).unsigned=!1:typeof t.endTimeUnixNano=="string"?e.endTimeUnixNano=parseInt(t.endTimeUnixNano,10):typeof t.endTimeUnixNano=="number"?e.endTimeUnixNano=t.endTimeUnixNano:typeof t.endTimeUnixNano=="object"&&(e.endTimeUnixNano=new h.LongBits(t.endTimeUnixNano.low>>>0,t.endTimeUnixNano.high>>>0).toNumber())),t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");e.attributes[i]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}if(t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),t.events){if(!Array.isArray(t.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");e.events=[];for(var i=0;i<t.events.length;++i){if(typeof t.events[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");e.events[i]=p.opentelemetry.proto.trace.v1.Span.Event.fromObject(t.events[i])}}if(t.droppedEventsCount!=null&&(e.droppedEventsCount=t.droppedEventsCount>>>0),t.links){if(!Array.isArray(t.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");e.links=[];for(var i=0;i<t.links.length;++i){if(typeof t.links[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");e.links[i]=p.opentelemetry.proto.trace.v1.Span.Link.fromObject(t.links[i])}}if(t.droppedLinksCount!=null&&(e.droppedLinksCount=t.droppedLinksCount>>>0),t.status!=null){if(typeof t.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");e.status=p.opentelemetry.proto.trace.v1.Status.fromObject(t.status)}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[],i.events=[],i.links=[]),e.defaults){if(e.bytes===String?i.traceId="":(i.traceId=[],e.bytes!==Array&&(i.traceId=h.newBuffer(i.traceId))),e.bytes===String?i.spanId="":(i.spanId=[],e.bytes!==Array&&(i.spanId=h.newBuffer(i.spanId))),i.traceState="",e.bytes===String?i.parentSpanId="":(i.parentSpanId=[],e.bytes!==Array&&(i.parentSpanId=h.newBuffer(i.parentSpanId))),i.name="",i.kind=e.enums===String?"SPAN_KIND_UNSPECIFIED":0,h.Long){var c=new h.Long(0,0,!1);i.startTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.startTimeUnixNano=e.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);i.endTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.endTimeUnixNano=e.longs===String?"0":0;i.droppedAttributesCount=0,i.droppedEventsCount=0,i.droppedLinksCount=0,i.status=null}if(t.traceId!=null&&t.hasOwnProperty("traceId")&&(i.traceId=e.bytes===String?h.base64.encode(t.traceId,0,t.traceId.length):e.bytes===Array?Array.prototype.slice.call(t.traceId):t.traceId),t.spanId!=null&&t.hasOwnProperty("spanId")&&(i.spanId=e.bytes===String?h.base64.encode(t.spanId,0,t.spanId.length):e.bytes===Array?Array.prototype.slice.call(t.spanId):t.spanId),t.traceState!=null&&t.hasOwnProperty("traceState")&&(i.traceState=t.traceState),t.parentSpanId!=null&&t.hasOwnProperty("parentSpanId")&&(i.parentSpanId=e.bytes===String?h.base64.encode(t.parentSpanId,0,t.parentSpanId.length):e.bytes===Array?Array.prototype.slice.call(t.parentSpanId):t.parentSpanId),t.name!=null&&t.hasOwnProperty("name")&&(i.name=t.name),t.kind!=null&&t.hasOwnProperty("kind")&&(i.kind=e.enums===String?p.opentelemetry.proto.trace.v1.Span.SpanKind[t.kind]===void 0?t.kind:p.opentelemetry.proto.trace.v1.Span.SpanKind[t.kind]:t.kind),t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&(typeof t.startTimeUnixNano=="number"?i.startTimeUnixNano=e.longs===String?String(t.startTimeUnixNano):t.startTimeUnixNano:i.startTimeUnixNano=e.longs===String?h.Long.prototype.toString.call(t.startTimeUnixNano):e.longs===Number?new h.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber():t.startTimeUnixNano),t.endTimeUnixNano!=null&&t.hasOwnProperty("endTimeUnixNano")&&(typeof t.endTimeUnixNano=="number"?i.endTimeUnixNano=e.longs===String?String(t.endTimeUnixNano):t.endTimeUnixNano:i.endTimeUnixNano=e.longs===String?h.Long.prototype.toString.call(t.endTimeUnixNano):e.longs===Number?new h.LongBits(t.endTimeUnixNano.low>>>0,t.endTimeUnixNano.high>>>0).toNumber():t.endTimeUnixNano),t.attributes&&t.attributes.length){i.attributes=[];for(var u=0;u<t.attributes.length;++u)i.attributes[u]=p.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[u],e)}if(t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),t.events&&t.events.length){i.events=[];for(var u=0;u<t.events.length;++u)i.events[u]=p.opentelemetry.proto.trace.v1.Span.Event.toObject(t.events[u],e)}if(t.droppedEventsCount!=null&&t.hasOwnProperty("droppedEventsCount")&&(i.droppedEventsCount=t.droppedEventsCount),t.links&&t.links.length){i.links=[];for(var u=0;u<t.links.length;++u)i.links[u]=p.opentelemetry.proto.trace.v1.Span.Link.toObject(t.links[u],e)}return t.droppedLinksCount!=null&&t.hasOwnProperty("droppedLinksCount")&&(i.droppedLinksCount=t.droppedLinksCount),t.status!=null&&t.hasOwnProperty("status")&&(i.status=p.opentelemetry.proto.trace.v1.Status.toObject(t.status,e)),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=function(){var l={},t=Object.create(l);return t[l[0]="SPAN_KIND_UNSPECIFIED"]=0,t[l[1]="SPAN_KIND_INTERNAL"]=1,t[l[2]="SPAN_KIND_SERVER"]=2,t[l[3]="SPAN_KIND_CLIENT"]=3,t[l[4]="SPAN_KIND_PRODUCER"]=4,t[l[5]="SPAN_KIND_CONSUMER"]=5,t}(),s.Event=function(){function l(t){if(this.attributes=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.timeUnixNano=null,l.prototype.name=null,l.prototype.attributes=h.emptyArray,l.prototype.droppedAttributesCount=null,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=se.create()),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(9).fixed64(e.timeUnixNano),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&i.uint32(18).string(e.name),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)p.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(26).fork()).ldelim();return e.droppedAttributesCount!=null&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&i.uint32(32).uint32(e.droppedAttributesCount),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.trace.v1.Span.Event;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.timeUnixNano=e.fixed64();break}case 2:{u.name=e.string();break}case 3:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 4:{u.droppedAttributesCount=e.uint32();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!h.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&h.isInteger(e.timeUnixNano.low)&&h.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.name!=null&&e.hasOwnProperty("name")&&!h.isString(e.name))return"name: string expected";if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var i=0;i<e.attributes.length;++i){var c=p.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[i]);if(c)return"attributes."+c}}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.trace.v1.Span.Event)return e;var i=new p.opentelemetry.proto.trace.v1.Span.Event;if(e.timeUnixNano!=null&&(h.Long?(i.timeUnixNano=h.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.name!=null&&(i.name=String(e.name)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");i.attributes[c]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}return e.droppedAttributesCount!=null&&(i.droppedAttributesCount=e.droppedAttributesCount>>>0),i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.attributes=[]),i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.name!=null&&e.hasOwnProperty("name")&&(c.name=e.name),e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=p.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=e.droppedAttributesCount),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Event"},l}(),s.Link=function(){function l(t){if(this.attributes=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.traceId=null,l.prototype.spanId=null,l.prototype.traceState=null,l.prototype.attributes=h.emptyArray,l.prototype.droppedAttributesCount=null,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=se.create()),e.traceId!=null&&Object.hasOwnProperty.call(e,"traceId")&&i.uint32(10).bytes(e.traceId),e.spanId!=null&&Object.hasOwnProperty.call(e,"spanId")&&i.uint32(18).bytes(e.spanId),e.traceState!=null&&Object.hasOwnProperty.call(e,"traceState")&&i.uint32(26).string(e.traceState),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)p.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(34).fork()).ldelim();return e.droppedAttributesCount!=null&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&i.uint32(40).uint32(e.droppedAttributesCount),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.trace.v1.Span.Link;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.traceId=e.bytes();break}case 2:{u.spanId=e.bytes();break}case 3:{u.traceState=e.string();break}case 4:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 5:{u.droppedAttributesCount=e.uint32();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.traceId!=null&&e.hasOwnProperty("traceId")&&!(e.traceId&&typeof e.traceId.length=="number"||h.isString(e.traceId)))return"traceId: buffer expected";if(e.spanId!=null&&e.hasOwnProperty("spanId")&&!(e.spanId&&typeof e.spanId.length=="number"||h.isString(e.spanId)))return"spanId: buffer expected";if(e.traceState!=null&&e.hasOwnProperty("traceState")&&!h.isString(e.traceState))return"traceState: string expected";if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var i=0;i<e.attributes.length;++i){var c=p.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[i]);if(c)return"attributes."+c}}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.trace.v1.Span.Link)return e;var i=new p.opentelemetry.proto.trace.v1.Span.Link;if(e.traceId!=null&&(typeof e.traceId=="string"?h.base64.decode(e.traceId,i.traceId=h.newBuffer(h.base64.length(e.traceId)),0):e.traceId.length>=0&&(i.traceId=e.traceId)),e.spanId!=null&&(typeof e.spanId=="string"?h.base64.decode(e.spanId,i.spanId=h.newBuffer(h.base64.length(e.spanId)),0):e.spanId.length>=0&&(i.spanId=e.spanId)),e.traceState!=null&&(i.traceState=String(e.traceState)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");i.attributes[c]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}return e.droppedAttributesCount!=null&&(i.droppedAttributesCount=e.droppedAttributesCount>>>0),i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.attributes=[]),i.defaults&&(i.bytes===String?c.traceId="":(c.traceId=[],i.bytes!==Array&&(c.traceId=h.newBuffer(c.traceId))),i.bytes===String?c.spanId="":(c.spanId=[],i.bytes!==Array&&(c.spanId=h.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),e.traceId!=null&&e.hasOwnProperty("traceId")&&(c.traceId=i.bytes===String?h.base64.encode(e.traceId,0,e.traceId.length):i.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),e.spanId!=null&&e.hasOwnProperty("spanId")&&(c.spanId=i.bytes===String?h.base64.encode(e.spanId,0,e.spanId.length):i.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),e.traceState!=null&&e.hasOwnProperty("traceState")&&(c.traceState=e.traceState),e.attributes&&e.attributes.length){c.attributes=[];for(var u=0;u<e.attributes.length;++u)c.attributes[u]=p.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[u],i)}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=e.droppedAttributesCount),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Link"},l}(),s}(),a.Status=function(){function s(l){if(l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(t){return new s(t)},s.encode=function(t,e){return e||(e=se.create()),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&e.uint32(18).string(t.message),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&e.uint32(24).int32(t.code),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.trace.v1.Status;t.pos<i;){var u=t.uint32();switch(u>>>3){case 2:{c.message=t.string();break}case 3:{c.code=t.int32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.message!=null&&t.hasOwnProperty("message")&&!h.isString(t.message))return"message: string expected";if(t.code!=null&&t.hasOwnProperty("code"))switch(t.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.trace.v1.Status)return t;var e=new p.opentelemetry.proto.trace.v1.Status;switch(t.message!=null&&(e.message=String(t.message)),t.code){default:if(typeof t.code=="number"){e.code=t.code;break}break;case"STATUS_CODE_UNSET":case 0:e.code=0;break;case"STATUS_CODE_OK":case 1:e.code=1;break;case"STATUS_CODE_ERROR":case 2:e.code=2;break}return e},s.toObject=function(t,e){e||(e={});var i={};return e.defaults&&(i.message="",i.code=e.enums===String?"STATUS_CODE_UNSET":0),t.message!=null&&t.hasOwnProperty("message")&&(i.message=t.message),t.code!=null&&t.hasOwnProperty("code")&&(i.code=e.enums===String?p.opentelemetry.proto.trace.v1.Status.StatusCode[t.code]===void 0?t.code:p.opentelemetry.proto.trace.v1.Status.StatusCode[t.code]:t.code),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=function(){var l={},t=Object.create(l);return t[l[0]="STATUS_CODE_UNSET"]=0,t[l[1]="STATUS_CODE_OK"]=1,t[l[2]="STATUS_CODE_ERROR"]=2,t}(),s}(),a}(),n}(),r.collector=function(){var n={};return n.trace=function(){var a={};return a.v1=function(){var s={};return s.TraceService=function(){function l(t,e,i){W.rpc.Service.call(this,t,e,i)}return(l.prototype=Object.create(W.rpc.Service.prototype)).constructor=l,l.create=function(e,i,c){return new this(e,i,c)},Object.defineProperty(l.prototype.export=function t(e,i){return this.rpcCall(t,p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,e,i)},"name",{value:"Export"}),l}(),s.ExportTraceServiceRequest=function(){function l(t){if(this.resourceSpans=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.resourceSpans=h.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=se.create()),e.resourceSpans!=null&&e.resourceSpans.length)for(var c=0;c<e.resourceSpans.length;++c)p.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[c],i.uint32(10).fork()).ldelim();return i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.resourceSpans&&u.resourceSpans.length||(u.resourceSpans=[]),u.resourceSpans.push(p.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.resourceSpans!=null&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var i=0;i<e.resourceSpans.length;++i){var c=p.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[i]);if(c)return"resourceSpans."+c}}return null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return e;var i=new p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");i.resourceSpans=[];for(var c=0;c<e.resourceSpans.length;++c){if(typeof e.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");i.resourceSpans[c]=p.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[c])}}return i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){c.resourceSpans=[];for(var u=0;u<e.resourceSpans.length;++u)c.resourceSpans[u]=p.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[u],i)}return c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},l}(),s.ExportTraceServiceResponse=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.partialSuccess=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=se.create()),e.partialSuccess!=null&&Object.hasOwnProperty.call(e,"partialSuccess")&&p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(e.partialSuccess,i.uint32(10).fork()).ldelim(),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.partialSuccess=p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")){var i=p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(e.partialSuccess);if(i)return"partialSuccess."+i}return null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return e;var i=new p.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(e.partialSuccess!=null){if(typeof e.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");i.partialSuccess=p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(e.partialSuccess)}return i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.partialSuccess=null),e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")&&(c.partialSuccess=p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(e.partialSuccess,i)),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},l}(),s.ExportTracePartialSuccess=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.rejectedSpans=null,l.prototype.errorMessage=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=se.create()),e.rejectedSpans!=null&&Object.hasOwnProperty.call(e,"rejectedSpans")&&i.uint32(8).int64(e.rejectedSpans),e.errorMessage!=null&&Object.hasOwnProperty.call(e,"errorMessage")&&i.uint32(18).string(e.errorMessage),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.rejectedSpans=e.int64();break}case 2:{u.errorMessage=e.string();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.rejectedSpans!=null&&e.hasOwnProperty("rejectedSpans")&&!h.isInteger(e.rejectedSpans)&&!(e.rejectedSpans&&h.isInteger(e.rejectedSpans.low)&&h.isInteger(e.rejectedSpans.high))?"rejectedSpans: integer|Long expected":e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&!h.isString(e.errorMessage)?"errorMessage: string expected":null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return e;var i=new p.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return e.rejectedSpans!=null&&(h.Long?(i.rejectedSpans=h.Long.fromValue(e.rejectedSpans)).unsigned=!1:typeof e.rejectedSpans=="string"?i.rejectedSpans=parseInt(e.rejectedSpans,10):typeof e.rejectedSpans=="number"?i.rejectedSpans=e.rejectedSpans:typeof e.rejectedSpans=="object"&&(i.rejectedSpans=new h.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber())),e.errorMessage!=null&&(i.errorMessage=String(e.errorMessage)),i},l.toObject=function(e,i){i||(i={});var c={};if(i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedSpans=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.rejectedSpans=i.longs===String?"0":0;c.errorMessage=""}return e.rejectedSpans!=null&&e.hasOwnProperty("rejectedSpans")&&(typeof e.rejectedSpans=="number"?c.rejectedSpans=i.longs===String?String(e.rejectedSpans):e.rejectedSpans:c.rejectedSpans=i.longs===String?h.Long.prototype.toString.call(e.rejectedSpans):i.longs===Number?new h.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber():e.rejectedSpans),e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&(c.errorMessage=e.errorMessage),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},l}(),s}(),a}(),n.metrics=function(){var a={};return a.v1=function(){var s={};return s.MetricsService=function(){function l(t,e,i){W.rpc.Service.call(this,t,e,i)}return(l.prototype=Object.create(W.rpc.Service.prototype)).constructor=l,l.create=function(e,i,c){return new this(e,i,c)},Object.defineProperty(l.prototype.export=function t(e,i){return this.rpcCall(t,p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,e,i)},"name",{value:"Export"}),l}(),s.ExportMetricsServiceRequest=function(){function l(t){if(this.resourceMetrics=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.resourceMetrics=h.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=se.create()),e.resourceMetrics!=null&&e.resourceMetrics.length)for(var c=0;c<e.resourceMetrics.length;++c)p.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[c],i.uint32(10).fork()).ldelim();return i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.resourceMetrics&&u.resourceMetrics.length||(u.resourceMetrics=[]),u.resourceMetrics.push(p.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.resourceMetrics!=null&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var i=0;i<e.resourceMetrics.length;++i){var c=p.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[i]);if(c)return"resourceMetrics."+c}}return null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return e;var i=new p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");i.resourceMetrics=[];for(var c=0;c<e.resourceMetrics.length;++c){if(typeof e.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");i.resourceMetrics[c]=p.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[c])}}return i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){c.resourceMetrics=[];for(var u=0;u<e.resourceMetrics.length;++u)c.resourceMetrics[u]=p.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[u],i)}return c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},l}(),s.ExportMetricsServiceResponse=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.partialSuccess=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=se.create()),e.partialSuccess!=null&&Object.hasOwnProperty.call(e,"partialSuccess")&&p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(e.partialSuccess,i.uint32(10).fork()).ldelim(),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.partialSuccess=p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")){var i=p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(e.partialSuccess);if(i)return"partialSuccess."+i}return null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return e;var i=new p.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(e.partialSuccess!=null){if(typeof e.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");i.partialSuccess=p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(e.partialSuccess)}return i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.partialSuccess=null),e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")&&(c.partialSuccess=p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(e.partialSuccess,i)),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},l}(),s.ExportMetricsPartialSuccess=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.rejectedDataPoints=null,l.prototype.errorMessage=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=se.create()),e.rejectedDataPoints!=null&&Object.hasOwnProperty.call(e,"rejectedDataPoints")&&i.uint32(8).int64(e.rejectedDataPoints),e.errorMessage!=null&&Object.hasOwnProperty.call(e,"errorMessage")&&i.uint32(18).string(e.errorMessage),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.rejectedDataPoints=e.int64();break}case 2:{u.errorMessage=e.string();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.rejectedDataPoints!=null&&e.hasOwnProperty("rejectedDataPoints")&&!h.isInteger(e.rejectedDataPoints)&&!(e.rejectedDataPoints&&h.isInteger(e.rejectedDataPoints.low)&&h.isInteger(e.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&!h.isString(e.errorMessage)?"errorMessage: string expected":null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return e;var i=new p.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return e.rejectedDataPoints!=null&&(h.Long?(i.rejectedDataPoints=h.Long.fromValue(e.rejectedDataPoints)).unsigned=!1:typeof e.rejectedDataPoints=="string"?i.rejectedDataPoints=parseInt(e.rejectedDataPoints,10):typeof e.rejectedDataPoints=="number"?i.rejectedDataPoints=e.rejectedDataPoints:typeof e.rejectedDataPoints=="object"&&(i.rejectedDataPoints=new h.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber())),e.errorMessage!=null&&(i.errorMessage=String(e.errorMessage)),i},l.toObject=function(e,i){i||(i={});var c={};if(i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedDataPoints=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.rejectedDataPoints=i.longs===String?"0":0;c.errorMessage=""}return e.rejectedDataPoints!=null&&e.hasOwnProperty("rejectedDataPoints")&&(typeof e.rejectedDataPoints=="number"?c.rejectedDataPoints=i.longs===String?String(e.rejectedDataPoints):e.rejectedDataPoints:c.rejectedDataPoints=i.longs===String?h.Long.prototype.toString.call(e.rejectedDataPoints):i.longs===Number?new h.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber():e.rejectedDataPoints),e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&(c.errorMessage=e.errorMessage),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},l}(),s}(),a}(),n.logs=function(){var a={};return a.v1=function(){var s={};return s.LogsService=function(){function l(t,e,i){W.rpc.Service.call(this,t,e,i)}return(l.prototype=Object.create(W.rpc.Service.prototype)).constructor=l,l.create=function(e,i,c){return new this(e,i,c)},Object.defineProperty(l.prototype.export=function t(e,i){return this.rpcCall(t,p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,e,i)},"name",{value:"Export"}),l}(),s.ExportLogsServiceRequest=function(){function l(t){if(this.resourceLogs=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.resourceLogs=h.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=se.create()),e.resourceLogs!=null&&e.resourceLogs.length)for(var c=0;c<e.resourceLogs.length;++c)p.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[c],i.uint32(10).fork()).ldelim();return i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.resourceLogs&&u.resourceLogs.length||(u.resourceLogs=[]),u.resourceLogs.push(p.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.resourceLogs!=null&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var i=0;i<e.resourceLogs.length;++i){var c=p.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[i]);if(c)return"resourceLogs."+c}}return null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return e;var i=new p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");i.resourceLogs=[];for(var c=0;c<e.resourceLogs.length;++c){if(typeof e.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");i.resourceLogs[c]=p.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[c])}}return i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){c.resourceLogs=[];for(var u=0;u<e.resourceLogs.length;++u)c.resourceLogs[u]=p.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[u],i)}return c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},l}(),s.ExportLogsServiceResponse=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.partialSuccess=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=se.create()),e.partialSuccess!=null&&Object.hasOwnProperty.call(e,"partialSuccess")&&p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(e.partialSuccess,i.uint32(10).fork()).ldelim(),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.partialSuccess=p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")){var i=p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(e.partialSuccess);if(i)return"partialSuccess."+i}return null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return e;var i=new p.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(e.partialSuccess!=null){if(typeof e.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");i.partialSuccess=p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(e.partialSuccess)}return i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.partialSuccess=null),e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")&&(c.partialSuccess=p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(e.partialSuccess,i)),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},l}(),s.ExportLogsPartialSuccess=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.rejectedLogRecords=null,l.prototype.errorMessage=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=se.create()),e.rejectedLogRecords!=null&&Object.hasOwnProperty.call(e,"rejectedLogRecords")&&i.uint32(8).int64(e.rejectedLogRecords),e.errorMessage!=null&&Object.hasOwnProperty.call(e,"errorMessage")&&i.uint32(18).string(e.errorMessage),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.rejectedLogRecords=e.int64();break}case 2:{u.errorMessage=e.string();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.rejectedLogRecords!=null&&e.hasOwnProperty("rejectedLogRecords")&&!h.isInteger(e.rejectedLogRecords)&&!(e.rejectedLogRecords&&h.isInteger(e.rejectedLogRecords.low)&&h.isInteger(e.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&!h.isString(e.errorMessage)?"errorMessage: string expected":null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return e;var i=new p.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return e.rejectedLogRecords!=null&&(h.Long?(i.rejectedLogRecords=h.Long.fromValue(e.rejectedLogRecords)).unsigned=!1:typeof e.rejectedLogRecords=="string"?i.rejectedLogRecords=parseInt(e.rejectedLogRecords,10):typeof e.rejectedLogRecords=="number"?i.rejectedLogRecords=e.rejectedLogRecords:typeof e.rejectedLogRecords=="object"&&(i.rejectedLogRecords=new h.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber())),e.errorMessage!=null&&(i.errorMessage=String(e.errorMessage)),i},l.toObject=function(e,i){i||(i={});var c={};if(i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedLogRecords=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.rejectedLogRecords=i.longs===String?"0":0;c.errorMessage=""}return e.rejectedLogRecords!=null&&e.hasOwnProperty("rejectedLogRecords")&&(typeof e.rejectedLogRecords=="number"?c.rejectedLogRecords=i.longs===String?String(e.rejectedLogRecords):e.rejectedLogRecords:c.rejectedLogRecords=i.longs===String?h.Long.prototype.toString.call(e.rejectedLogRecords):i.longs===Number?new h.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber():e.rejectedLogRecords),e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&(c.errorMessage=e.errorMessage),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},l}(),s}(),a}(),n}(),r.metrics=function(){var n={};return n.v1=function(){var a={};return a.MetricsData=function(){function s(l){if(this.resourceMetrics=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resourceMetrics=h.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.resourceMetrics!=null&&t.resourceMetrics.length)for(var i=0;i<t.resourceMetrics.length;++i)p.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(t.resourceMetrics[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.MetricsData;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resourceMetrics&&c.resourceMetrics.length||(c.resourceMetrics=[]),c.resourceMetrics.push(p.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resourceMetrics!=null&&t.hasOwnProperty("resourceMetrics")){if(!Array.isArray(t.resourceMetrics))return"resourceMetrics: array expected";for(var e=0;e<t.resourceMetrics.length;++e){var i=p.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(t.resourceMetrics[e]);if(i)return"resourceMetrics."+i}}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.MetricsData)return t;var e=new p.opentelemetry.proto.metrics.v1.MetricsData;if(t.resourceMetrics){if(!Array.isArray(t.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");e.resourceMetrics=[];for(var i=0;i<t.resourceMetrics.length;++i){if(typeof t.resourceMetrics[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");e.resourceMetrics[i]=p.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(t.resourceMetrics[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.resourceMetrics=[]),t.resourceMetrics&&t.resourceMetrics.length){i.resourceMetrics=[];for(var c=0;c<t.resourceMetrics.length;++c)i.resourceMetrics[c]=p.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(t.resourceMetrics[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.MetricsData"},s}(),a.ResourceMetrics=function(){function s(l){if(this.scopeMetrics=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resource=null,s.prototype.scopeMetrics=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.resource!=null&&Object.hasOwnProperty.call(t,"resource")&&p.opentelemetry.proto.resource.v1.Resource.encode(t.resource,e.uint32(10).fork()).ldelim(),t.scopeMetrics!=null&&t.scopeMetrics.length)for(var i=0;i<t.scopeMetrics.length;++i)p.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(t.scopeMetrics[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.ResourceMetrics;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resource=p.opentelemetry.proto.resource.v1.Resource.decode(t,t.uint32());break}case 2:{c.scopeMetrics&&c.scopeMetrics.length||(c.scopeMetrics=[]),c.scopeMetrics.push(p.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resource!=null&&t.hasOwnProperty("resource")){var e=p.opentelemetry.proto.resource.v1.Resource.verify(t.resource);if(e)return"resource."+e}if(t.scopeMetrics!=null&&t.hasOwnProperty("scopeMetrics")){if(!Array.isArray(t.scopeMetrics))return"scopeMetrics: array expected";for(var i=0;i<t.scopeMetrics.length;++i){var e=p.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(t.scopeMetrics[i]);if(e)return"scopeMetrics."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!h.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.ResourceMetrics)return t;var e=new p.opentelemetry.proto.metrics.v1.ResourceMetrics;if(t.resource!=null){if(typeof t.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");e.resource=p.opentelemetry.proto.resource.v1.Resource.fromObject(t.resource)}if(t.scopeMetrics){if(!Array.isArray(t.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");e.scopeMetrics=[];for(var i=0;i<t.scopeMetrics.length;++i){if(typeof t.scopeMetrics[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");e.scopeMetrics[i]=p.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(t.scopeMetrics[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.scopeMetrics=[]),e.defaults&&(i.resource=null,i.schemaUrl=""),t.resource!=null&&t.hasOwnProperty("resource")&&(i.resource=p.opentelemetry.proto.resource.v1.Resource.toObject(t.resource,e)),t.scopeMetrics&&t.scopeMetrics.length){i.scopeMetrics=[];for(var c=0;c<t.scopeMetrics.length;++c)i.scopeMetrics[c]=p.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(t.scopeMetrics[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s}(),a.ScopeMetrics=function(){function s(l){if(this.metrics=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.scope=null,s.prototype.metrics=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.scope!=null&&Object.hasOwnProperty.call(t,"scope")&&p.opentelemetry.proto.common.v1.InstrumentationScope.encode(t.scope,e.uint32(10).fork()).ldelim(),t.metrics!=null&&t.metrics.length)for(var i=0;i<t.metrics.length;++i)p.opentelemetry.proto.metrics.v1.Metric.encode(t.metrics[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.ScopeMetrics;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.decode(t,t.uint32());break}case 2:{c.metrics&&c.metrics.length||(c.metrics=[]),c.metrics.push(p.opentelemetry.proto.metrics.v1.Metric.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.scope!=null&&t.hasOwnProperty("scope")){var e=p.opentelemetry.proto.common.v1.InstrumentationScope.verify(t.scope);if(e)return"scope."+e}if(t.metrics!=null&&t.hasOwnProperty("metrics")){if(!Array.isArray(t.metrics))return"metrics: array expected";for(var i=0;i<t.metrics.length;++i){var e=p.opentelemetry.proto.metrics.v1.Metric.verify(t.metrics[i]);if(e)return"metrics."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!h.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.ScopeMetrics)return t;var e=new p.opentelemetry.proto.metrics.v1.ScopeMetrics;if(t.scope!=null){if(typeof t.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");e.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(t.scope)}if(t.metrics){if(!Array.isArray(t.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");e.metrics=[];for(var i=0;i<t.metrics.length;++i){if(typeof t.metrics[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");e.metrics[i]=p.opentelemetry.proto.metrics.v1.Metric.fromObject(t.metrics[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.metrics=[]),e.defaults&&(i.scope=null,i.schemaUrl=""),t.scope!=null&&t.hasOwnProperty("scope")&&(i.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.toObject(t.scope,e)),t.metrics&&t.metrics.length){i.metrics=[];for(var c=0;c<t.metrics.length;++c)i.metrics[c]=p.opentelemetry.proto.metrics.v1.Metric.toObject(t.metrics[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s}(),a.Metric=function(){function s(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var l;return Object.defineProperty(s.prototype,"data",{get:h.oneOfGetter(l=["gauge","sum","histogram","exponentialHistogram","summary"]),set:h.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){return i||(i=se.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&i.uint32(10).string(e.name),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&i.uint32(18).string(e.description),e.unit!=null&&Object.hasOwnProperty.call(e,"unit")&&i.uint32(26).string(e.unit),e.gauge!=null&&Object.hasOwnProperty.call(e,"gauge")&&p.opentelemetry.proto.metrics.v1.Gauge.encode(e.gauge,i.uint32(42).fork()).ldelim(),e.sum!=null&&Object.hasOwnProperty.call(e,"sum")&&p.opentelemetry.proto.metrics.v1.Sum.encode(e.sum,i.uint32(58).fork()).ldelim(),e.histogram!=null&&Object.hasOwnProperty.call(e,"histogram")&&p.opentelemetry.proto.metrics.v1.Histogram.encode(e.histogram,i.uint32(74).fork()).ldelim(),e.exponentialHistogram!=null&&Object.hasOwnProperty.call(e,"exponentialHistogram")&&p.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(e.exponentialHistogram,i.uint32(82).fork()).ldelim(),e.summary!=null&&Object.hasOwnProperty.call(e,"summary")&&p.opentelemetry.proto.metrics.v1.Summary.encode(e.summary,i.uint32(90).fork()).ldelim(),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.metrics.v1.Metric;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.name=e.string();break}case 2:{u.description=e.string();break}case 3:{u.unit=e.string();break}case 5:{u.gauge=p.opentelemetry.proto.metrics.v1.Gauge.decode(e,e.uint32());break}case 7:{u.sum=p.opentelemetry.proto.metrics.v1.Sum.decode(e,e.uint32());break}case 9:{u.histogram=p.opentelemetry.proto.metrics.v1.Histogram.decode(e,e.uint32());break}case 10:{u.exponentialHistogram=p.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(e,e.uint32());break}case 11:{u.summary=p.opentelemetry.proto.metrics.v1.Summary.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.name!=null&&e.hasOwnProperty("name")&&!h.isString(e.name))return"name: string expected";if(e.description!=null&&e.hasOwnProperty("description")&&!h.isString(e.description))return"description: string expected";if(e.unit!=null&&e.hasOwnProperty("unit")&&!h.isString(e.unit))return"unit: string expected";if(e.gauge!=null&&e.hasOwnProperty("gauge")){i.data=1;{var c=p.opentelemetry.proto.metrics.v1.Gauge.verify(e.gauge);if(c)return"gauge."+c}}if(e.sum!=null&&e.hasOwnProperty("sum")){if(i.data===1)return"data: multiple values";i.data=1;{var c=p.opentelemetry.proto.metrics.v1.Sum.verify(e.sum);if(c)return"sum."+c}}if(e.histogram!=null&&e.hasOwnProperty("histogram")){if(i.data===1)return"data: multiple values";i.data=1;{var c=p.opentelemetry.proto.metrics.v1.Histogram.verify(e.histogram);if(c)return"histogram."+c}}if(e.exponentialHistogram!=null&&e.hasOwnProperty("exponentialHistogram")){if(i.data===1)return"data: multiple values";i.data=1;{var c=p.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(e.exponentialHistogram);if(c)return"exponentialHistogram."+c}}if(e.summary!=null&&e.hasOwnProperty("summary")){if(i.data===1)return"data: multiple values";i.data=1;{var c=p.opentelemetry.proto.metrics.v1.Summary.verify(e.summary);if(c)return"summary."+c}}return null},s.fromObject=function(e){if(e instanceof p.opentelemetry.proto.metrics.v1.Metric)return e;var i=new p.opentelemetry.proto.metrics.v1.Metric;if(e.name!=null&&(i.name=String(e.name)),e.description!=null&&(i.description=String(e.description)),e.unit!=null&&(i.unit=String(e.unit)),e.gauge!=null){if(typeof e.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");i.gauge=p.opentelemetry.proto.metrics.v1.Gauge.fromObject(e.gauge)}if(e.sum!=null){if(typeof e.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");i.sum=p.opentelemetry.proto.metrics.v1.Sum.fromObject(e.sum)}if(e.histogram!=null){if(typeof e.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");i.histogram=p.opentelemetry.proto.metrics.v1.Histogram.fromObject(e.histogram)}if(e.exponentialHistogram!=null){if(typeof e.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");i.exponentialHistogram=p.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(e.exponentialHistogram)}if(e.summary!=null){if(typeof e.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");i.summary=p.opentelemetry.proto.metrics.v1.Summary.fromObject(e.summary)}return i},s.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.name="",c.description="",c.unit=""),e.name!=null&&e.hasOwnProperty("name")&&(c.name=e.name),e.description!=null&&e.hasOwnProperty("description")&&(c.description=e.description),e.unit!=null&&e.hasOwnProperty("unit")&&(c.unit=e.unit),e.gauge!=null&&e.hasOwnProperty("gauge")&&(c.gauge=p.opentelemetry.proto.metrics.v1.Gauge.toObject(e.gauge,i),i.oneofs&&(c.data="gauge")),e.sum!=null&&e.hasOwnProperty("sum")&&(c.sum=p.opentelemetry.proto.metrics.v1.Sum.toObject(e.sum,i),i.oneofs&&(c.data="sum")),e.histogram!=null&&e.hasOwnProperty("histogram")&&(c.histogram=p.opentelemetry.proto.metrics.v1.Histogram.toObject(e.histogram,i),i.oneofs&&(c.data="histogram")),e.exponentialHistogram!=null&&e.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=p.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(e.exponentialHistogram,i),i.oneofs&&(c.data="exponentialHistogram")),e.summary!=null&&e.hasOwnProperty("summary")&&(c.summary=p.opentelemetry.proto.metrics.v1.Summary.toObject(e.summary,i),i.oneofs&&(c.data="summary")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Metric"},s}(),a.Gauge=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=h.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)p.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.Gauge;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(p.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=p.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.Gauge)return t;var e=new p.opentelemetry.proto.metrics.v1.Gauge;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");e.dataPoints[i]=p.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(t.dataPoints[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=p.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(t.dataPoints[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Gauge"},s}(),a.Sum=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)p.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return t.aggregationTemporality!=null&&Object.hasOwnProperty.call(t,"aggregationTemporality")&&e.uint32(16).int32(t.aggregationTemporality),t.isMonotonic!=null&&Object.hasOwnProperty.call(t,"isMonotonic")&&e.uint32(24).bool(t.isMonotonic),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.Sum;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(p.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(t,t.uint32()));break}case 2:{c.aggregationTemporality=t.int32();break}case 3:{c.isMonotonic=t.bool();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=p.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}if(t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality"))switch(t.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return t.isMonotonic!=null&&t.hasOwnProperty("isMonotonic")&&typeof t.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.Sum)return t;var e=new p.opentelemetry.proto.metrics.v1.Sum;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");e.dataPoints[i]=p.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(t.dataPoints[i])}}switch(t.aggregationTemporality){default:if(typeof t.aggregationTemporality=="number"){e.aggregationTemporality=t.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:e.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:e.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:e.aggregationTemporality=2;break}return t.isMonotonic!=null&&(e.isMonotonic=!!t.isMonotonic),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),e.defaults&&(i.aggregationTemporality=e.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,i.isMonotonic=!1),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=p.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(t.dataPoints[c],e)}return t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality")&&(i.aggregationTemporality=e.enums===String?p.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]===void 0?t.aggregationTemporality:p.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]:t.aggregationTemporality),t.isMonotonic!=null&&t.hasOwnProperty("isMonotonic")&&(i.isMonotonic=t.isMonotonic),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Sum"},s}(),a.Histogram=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)p.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return t.aggregationTemporality!=null&&Object.hasOwnProperty.call(t,"aggregationTemporality")&&e.uint32(16).int32(t.aggregationTemporality),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.Histogram;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(p.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(t,t.uint32()));break}case 2:{c.aggregationTemporality=t.int32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=p.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}if(t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality"))switch(t.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.Histogram)return t;var e=new p.opentelemetry.proto.metrics.v1.Histogram;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");e.dataPoints[i]=p.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(t.dataPoints[i])}}switch(t.aggregationTemporality){default:if(typeof t.aggregationTemporality=="number"){e.aggregationTemporality=t.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:e.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:e.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:e.aggregationTemporality=2;break}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),e.defaults&&(i.aggregationTemporality=e.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=p.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(t.dataPoints[c],e)}return t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality")&&(i.aggregationTemporality=e.enums===String?p.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]===void 0?t.aggregationTemporality:p.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]:t.aggregationTemporality),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Histogram"},s}(),a.ExponentialHistogram=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return t.aggregationTemporality!=null&&Object.hasOwnProperty.call(t,"aggregationTemporality")&&e.uint32(16).int32(t.aggregationTemporality),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.ExponentialHistogram;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(t,t.uint32()));break}case 2:{c.aggregationTemporality=t.int32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}if(t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality"))switch(t.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.ExponentialHistogram)return t;var e=new p.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");e.dataPoints[i]=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(t.dataPoints[i])}}switch(t.aggregationTemporality){default:if(typeof t.aggregationTemporality=="number"){e.aggregationTemporality=t.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:e.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:e.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:e.aggregationTemporality=2;break}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),e.defaults&&(i.aggregationTemporality=e.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(t.dataPoints[c],e)}return t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality")&&(i.aggregationTemporality=e.enums===String?p.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]===void 0?t.aggregationTemporality:p.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]:t.aggregationTemporality),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s}(),a.Summary=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=h.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)p.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.Summary;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(p.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=p.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.Summary)return t;var e=new p.opentelemetry.proto.metrics.v1.Summary;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");e.dataPoints[i]=p.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(t.dataPoints[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=p.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(t.dataPoints[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Summary"},s}(),a.AggregationTemporality=function(){var s={},l=Object.create(s);return l[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,l[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,l[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,l}(),a.DataPointFlags=function(){var s={},l=Object.create(s);return l[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,l[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,l}(),a.NumberDataPoint=function(){function s(t){if(this.attributes=[],this.exemplars=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=h.emptyArray,s.prototype.flags=null;var l;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(l=["asDouble","asInt"]),set:h.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=se.create()),e.startTimeUnixNano!=null&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&i.uint32(17).fixed64(e.startTimeUnixNano),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(25).fixed64(e.timeUnixNano),e.asDouble!=null&&Object.hasOwnProperty.call(e,"asDouble")&&i.uint32(33).double(e.asDouble),e.exemplars!=null&&e.exemplars.length)for(var c=0;c<e.exemplars.length;++c)p.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[c],i.uint32(42).fork()).ldelim();if(e.asInt!=null&&Object.hasOwnProperty.call(e,"asInt")&&i.uint32(49).sfixed64(e.asInt),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)p.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(58).fork()).ldelim();return e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&i.uint32(64).uint32(e.flags),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.metrics.v1.NumberDataPoint;e.pos<c;){var f=e.uint32();switch(f>>>3){case 7:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.startTimeUnixNano=e.fixed64();break}case 3:{u.timeUnixNano=e.fixed64();break}case 4:{u.asDouble=e.double();break}case 6:{u.asInt=e.sfixed64();break}case 5:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(p.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break}case 8:{u.flags=e.uint32();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var c=0;c<e.attributes.length;++c){var u=p.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[c]);if(u)return"attributes."+u}}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&h.isInteger(e.startTimeUnixNano.low)&&h.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!h.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&h.isInteger(e.timeUnixNano.low)&&h.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(i.value=1,typeof e.asDouble!="number"))return"asDouble: number expected";if(e.asInt!=null&&e.hasOwnProperty("asInt")){if(i.value===1)return"value: multiple values";if(i.value=1,!h.isInteger(e.asInt)&&!(e.asInt&&h.isInteger(e.asInt.low)&&h.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}if(e.exemplars!=null&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var c=0;c<e.exemplars.length;++c){var u=p.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[c]);if(u)return"exemplars."+u}}return e.flags!=null&&e.hasOwnProperty("flags")&&!h.isInteger(e.flags)?"flags: integer expected":null},s.fromObject=function(e){if(e instanceof p.opentelemetry.proto.metrics.v1.NumberDataPoint)return e;var i=new p.opentelemetry.proto.metrics.v1.NumberDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");i.attributes[c]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}if(e.startTimeUnixNano!=null&&(h.Long?(i.startTimeUnixNano=h.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:typeof e.startTimeUnixNano=="string"?i.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):typeof e.startTimeUnixNano=="number"?i.startTimeUnixNano=e.startTimeUnixNano:typeof e.startTimeUnixNano=="object"&&(i.startTimeUnixNano=new h.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),e.timeUnixNano!=null&&(h.Long?(i.timeUnixNano=h.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.asDouble!=null&&(i.asDouble=Number(e.asDouble)),e.asInt!=null&&(h.Long?(i.asInt=h.Long.fromValue(e.asInt)).unsigned=!1:typeof e.asInt=="string"?i.asInt=parseInt(e.asInt,10):typeof e.asInt=="number"?i.asInt=e.asInt:typeof e.asInt=="object"&&(i.asInt=new h.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");i.exemplars=[];for(var c=0;c<e.exemplars.length;++c){if(typeof e.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");i.exemplars[c]=p.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[c])}}return e.flags!=null&&(i.flags=e.flags>>>0),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.exemplars=[],c.attributes=[]),i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.startTimeUnixNano=i.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;c.flags=0}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&(typeof e.startTimeUnixNano=="number"?c.startTimeUnixNano=i.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:c.startTimeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.startTimeUnixNano):i.longs===Number?new h.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(c.asDouble=i.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,i.oneofs&&(c.value="asDouble")),e.exemplars&&e.exemplars.length){c.exemplars=[];for(var f=0;f<e.exemplars.length;++f)c.exemplars[f]=p.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[f],i)}if(e.asInt!=null&&e.hasOwnProperty("asInt")&&(typeof e.asInt=="number"?c.asInt=i.longs===String?String(e.asInt):e.asInt:c.asInt=i.longs===String?h.Long.prototype.toString.call(e.asInt):i.longs===Number?new h.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,i.oneofs&&(c.value="asInt")),e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=p.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}return e.flags!=null&&e.hasOwnProperty("flags")&&(c.flags=e.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s}(),a.HistogramDataPoint=function(){function s(t){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=h.emptyArray,s.prototype.explicitBounds=h.emptyArray,s.prototype.exemplars=h.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var l;return Object.defineProperty(s.prototype,"_sum",{get:h.oneOfGetter(l=["sum"]),set:h.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_min",{get:h.oneOfGetter(l=["min"]),set:h.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_max",{get:h.oneOfGetter(l=["max"]),set:h.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=se.create()),e.startTimeUnixNano!=null&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&i.uint32(17).fixed64(e.startTimeUnixNano),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(25).fixed64(e.timeUnixNano),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&i.uint32(33).fixed64(e.count),e.sum!=null&&Object.hasOwnProperty.call(e,"sum")&&i.uint32(41).double(e.sum),e.bucketCounts!=null&&e.bucketCounts.length){i.uint32(50).fork();for(var c=0;c<e.bucketCounts.length;++c)i.fixed64(e.bucketCounts[c]);i.ldelim()}if(e.explicitBounds!=null&&e.explicitBounds.length){i.uint32(58).fork();for(var c=0;c<e.explicitBounds.length;++c)i.double(e.explicitBounds[c]);i.ldelim()}if(e.exemplars!=null&&e.exemplars.length)for(var c=0;c<e.exemplars.length;++c)p.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[c],i.uint32(66).fork()).ldelim();if(e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)p.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(74).fork()).ldelim();return e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&i.uint32(80).uint32(e.flags),e.min!=null&&Object.hasOwnProperty.call(e,"min")&&i.uint32(89).double(e.min),e.max!=null&&Object.hasOwnProperty.call(e,"max")&&i.uint32(97).double(e.max),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.metrics.v1.HistogramDataPoint;e.pos<c;){var f=e.uint32();switch(f>>>3){case 9:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.startTimeUnixNano=e.fixed64();break}case 3:{u.timeUnixNano=e.fixed64();break}case 4:{u.count=e.fixed64();break}case 5:{u.sum=e.double();break}case 6:{if(u.bucketCounts&&u.bucketCounts.length||(u.bucketCounts=[]),(f&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)u.bucketCounts.push(e.fixed64());else u.bucketCounts.push(e.fixed64());break}case 7:{if(u.explicitBounds&&u.explicitBounds.length||(u.explicitBounds=[]),(f&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)u.explicitBounds.push(e.double());else u.explicitBounds.push(e.double());break}case 8:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(p.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break}case 10:{u.flags=e.uint32();break}case 11:{u.min=e.double();break}case 12:{u.max=e.double();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var c=0;c<e.attributes.length;++c){var u=p.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[c]);if(u)return"attributes."+u}}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&h.isInteger(e.startTimeUnixNano.low)&&h.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!h.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&h.isInteger(e.timeUnixNano.low)&&h.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.count!=null&&e.hasOwnProperty("count")&&!h.isInteger(e.count)&&!(e.count&&h.isInteger(e.count.low)&&h.isInteger(e.count.high)))return"count: integer|Long expected";if(e.sum!=null&&e.hasOwnProperty("sum")&&(i._sum=1,typeof e.sum!="number"))return"sum: number expected";if(e.bucketCounts!=null&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<e.bucketCounts.length;++c)if(!h.isInteger(e.bucketCounts[c])&&!(e.bucketCounts[c]&&h.isInteger(e.bucketCounts[c].low)&&h.isInteger(e.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(e.explicitBounds!=null&&e.hasOwnProperty("explicitBounds")){if(!Array.isArray(e.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<e.explicitBounds.length;++c)if(typeof e.explicitBounds[c]!="number")return"explicitBounds: number[] expected"}if(e.exemplars!=null&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var c=0;c<e.exemplars.length;++c){var u=p.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[c]);if(u)return"exemplars."+u}}return e.flags!=null&&e.hasOwnProperty("flags")&&!h.isInteger(e.flags)?"flags: integer expected":e.min!=null&&e.hasOwnProperty("min")&&(i._min=1,typeof e.min!="number")?"min: number expected":e.max!=null&&e.hasOwnProperty("max")&&(i._max=1,typeof e.max!="number")?"max: number expected":null},s.fromObject=function(e){if(e instanceof p.opentelemetry.proto.metrics.v1.HistogramDataPoint)return e;var i=new p.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");i.attributes[c]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}if(e.startTimeUnixNano!=null&&(h.Long?(i.startTimeUnixNano=h.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:typeof e.startTimeUnixNano=="string"?i.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):typeof e.startTimeUnixNano=="number"?i.startTimeUnixNano=e.startTimeUnixNano:typeof e.startTimeUnixNano=="object"&&(i.startTimeUnixNano=new h.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),e.timeUnixNano!=null&&(h.Long?(i.timeUnixNano=h.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.count!=null&&(h.Long?(i.count=h.Long.fromValue(e.count)).unsigned=!1:typeof e.count=="string"?i.count=parseInt(e.count,10):typeof e.count=="number"?i.count=e.count:typeof e.count=="object"&&(i.count=new h.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),e.sum!=null&&(i.sum=Number(e.sum)),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");i.bucketCounts=[];for(var c=0;c<e.bucketCounts.length;++c)h.Long?(i.bucketCounts[c]=h.Long.fromValue(e.bucketCounts[c])).unsigned=!1:typeof e.bucketCounts[c]=="string"?i.bucketCounts[c]=parseInt(e.bucketCounts[c],10):typeof e.bucketCounts[c]=="number"?i.bucketCounts[c]=e.bucketCounts[c]:typeof e.bucketCounts[c]=="object"&&(i.bucketCounts[c]=new h.LongBits(e.bucketCounts[c].low>>>0,e.bucketCounts[c].high>>>0).toNumber())}if(e.explicitBounds){if(!Array.isArray(e.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");i.explicitBounds=[];for(var c=0;c<e.explicitBounds.length;++c)i.explicitBounds[c]=Number(e.explicitBounds[c])}if(e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");i.exemplars=[];for(var c=0;c<e.exemplars.length;++c){if(typeof e.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");i.exemplars[c]=p.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[c])}}return e.flags!=null&&(i.flags=e.flags>>>0),e.min!=null&&(i.min=Number(e.min)),e.max!=null&&(i.max=Number(e.max)),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.startTimeUnixNano=i.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.count=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.count=i.longs===String?"0":0;c.flags=0}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&(typeof e.startTimeUnixNano=="number"?c.startTimeUnixNano=i.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:c.startTimeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.startTimeUnixNano):i.longs===Number?new h.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.count!=null&&e.hasOwnProperty("count")&&(typeof e.count=="number"?c.count=i.longs===String?String(e.count):e.count:c.count=i.longs===String?h.Long.prototype.toString.call(e.count):i.longs===Number?new h.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),e.sum!=null&&e.hasOwnProperty("sum")&&(c.sum=i.json&&!isFinite(e.sum)?String(e.sum):e.sum,i.oneofs&&(c._sum="sum")),e.bucketCounts&&e.bucketCounts.length){c.bucketCounts=[];for(var f=0;f<e.bucketCounts.length;++f)typeof e.bucketCounts[f]=="number"?c.bucketCounts[f]=i.longs===String?String(e.bucketCounts[f]):e.bucketCounts[f]:c.bucketCounts[f]=i.longs===String?h.Long.prototype.toString.call(e.bucketCounts[f]):i.longs===Number?new h.LongBits(e.bucketCounts[f].low>>>0,e.bucketCounts[f].high>>>0).toNumber():e.bucketCounts[f]}if(e.explicitBounds&&e.explicitBounds.length){c.explicitBounds=[];for(var f=0;f<e.explicitBounds.length;++f)c.explicitBounds[f]=i.json&&!isFinite(e.explicitBounds[f])?String(e.explicitBounds[f]):e.explicitBounds[f]}if(e.exemplars&&e.exemplars.length){c.exemplars=[];for(var f=0;f<e.exemplars.length;++f)c.exemplars[f]=p.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[f],i)}if(e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=p.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}return e.flags!=null&&e.hasOwnProperty("flags")&&(c.flags=e.flags),e.min!=null&&e.hasOwnProperty("min")&&(c.min=i.json&&!isFinite(e.min)?String(e.min):e.min,i.oneofs&&(c._min="min")),e.max!=null&&e.hasOwnProperty("max")&&(c.max=i.json&&!isFinite(e.max)?String(e.max):e.max,i.oneofs&&(c._max="max")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s}(),a.ExponentialHistogramDataPoint=function(){function s(t){if(this.attributes=[],this.exemplars=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=h.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var l;return Object.defineProperty(s.prototype,"_sum",{get:h.oneOfGetter(l=["sum"]),set:h.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_min",{get:h.oneOfGetter(l=["min"]),set:h.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_max",{get:h.oneOfGetter(l=["max"]),set:h.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=se.create()),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)p.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(10).fork()).ldelim();if(e.startTimeUnixNano!=null&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&i.uint32(17).fixed64(e.startTimeUnixNano),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(25).fixed64(e.timeUnixNano),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&i.uint32(33).fixed64(e.count),e.sum!=null&&Object.hasOwnProperty.call(e,"sum")&&i.uint32(41).double(e.sum),e.scale!=null&&Object.hasOwnProperty.call(e,"scale")&&i.uint32(48).sint32(e.scale),e.zeroCount!=null&&Object.hasOwnProperty.call(e,"zeroCount")&&i.uint32(57).fixed64(e.zeroCount),e.positive!=null&&Object.hasOwnProperty.call(e,"positive")&&p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.positive,i.uint32(66).fork()).ldelim(),e.negative!=null&&Object.hasOwnProperty.call(e,"negative")&&p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.negative,i.uint32(74).fork()).ldelim(),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&i.uint32(80).uint32(e.flags),e.exemplars!=null&&e.exemplars.length)for(var c=0;c<e.exemplars.length;++c)p.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[c],i.uint32(90).fork()).ldelim();return e.min!=null&&Object.hasOwnProperty.call(e,"min")&&i.uint32(97).double(e.min),e.max!=null&&Object.hasOwnProperty.call(e,"max")&&i.uint32(105).double(e.max),e.zeroThreshold!=null&&Object.hasOwnProperty.call(e,"zeroThreshold")&&i.uint32(113).double(e.zeroThreshold),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.startTimeUnixNano=e.fixed64();break}case 3:{u.timeUnixNano=e.fixed64();break}case 4:{u.count=e.fixed64();break}case 5:{u.sum=e.double();break}case 6:{u.scale=e.sint32();break}case 7:{u.zeroCount=e.fixed64();break}case 8:{u.positive=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break}case 9:{u.negative=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break}case 10:{u.flags=e.uint32();break}case 11:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(p.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break}case 12:{u.min=e.double();break}case 13:{u.max=e.double();break}case 14:{u.zeroThreshold=e.double();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var c=0;c<e.attributes.length;++c){var u=p.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[c]);if(u)return"attributes."+u}}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&h.isInteger(e.startTimeUnixNano.low)&&h.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!h.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&h.isInteger(e.timeUnixNano.low)&&h.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.count!=null&&e.hasOwnProperty("count")&&!h.isInteger(e.count)&&!(e.count&&h.isInteger(e.count.low)&&h.isInteger(e.count.high)))return"count: integer|Long expected";if(e.sum!=null&&e.hasOwnProperty("sum")&&(i._sum=1,typeof e.sum!="number"))return"sum: number expected";if(e.scale!=null&&e.hasOwnProperty("scale")&&!h.isInteger(e.scale))return"scale: integer expected";if(e.zeroCount!=null&&e.hasOwnProperty("zeroCount")&&!h.isInteger(e.zeroCount)&&!(e.zeroCount&&h.isInteger(e.zeroCount.low)&&h.isInteger(e.zeroCount.high)))return"zeroCount: integer|Long expected";if(e.positive!=null&&e.hasOwnProperty("positive")){var u=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.positive);if(u)return"positive."+u}if(e.negative!=null&&e.hasOwnProperty("negative")){var u=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.negative);if(u)return"negative."+u}if(e.flags!=null&&e.hasOwnProperty("flags")&&!h.isInteger(e.flags))return"flags: integer expected";if(e.exemplars!=null&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var c=0;c<e.exemplars.length;++c){var u=p.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[c]);if(u)return"exemplars."+u}}return e.min!=null&&e.hasOwnProperty("min")&&(i._min=1,typeof e.min!="number")?"min: number expected":e.max!=null&&e.hasOwnProperty("max")&&(i._max=1,typeof e.max!="number")?"max: number expected":e.zeroThreshold!=null&&e.hasOwnProperty("zeroThreshold")&&typeof e.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(e){if(e instanceof p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return e;var i=new p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");i.attributes[c]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}if(e.startTimeUnixNano!=null&&(h.Long?(i.startTimeUnixNano=h.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:typeof e.startTimeUnixNano=="string"?i.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):typeof e.startTimeUnixNano=="number"?i.startTimeUnixNano=e.startTimeUnixNano:typeof e.startTimeUnixNano=="object"&&(i.startTimeUnixNano=new h.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),e.timeUnixNano!=null&&(h.Long?(i.timeUnixNano=h.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.count!=null&&(h.Long?(i.count=h.Long.fromValue(e.count)).unsigned=!1:typeof e.count=="string"?i.count=parseInt(e.count,10):typeof e.count=="number"?i.count=e.count:typeof e.count=="object"&&(i.count=new h.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),e.sum!=null&&(i.sum=Number(e.sum)),e.scale!=null&&(i.scale=e.scale|0),e.zeroCount!=null&&(h.Long?(i.zeroCount=h.Long.fromValue(e.zeroCount)).unsigned=!1:typeof e.zeroCount=="string"?i.zeroCount=parseInt(e.zeroCount,10):typeof e.zeroCount=="number"?i.zeroCount=e.zeroCount:typeof e.zeroCount=="object"&&(i.zeroCount=new h.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber())),e.positive!=null){if(typeof e.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");i.positive=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.positive)}if(e.negative!=null){if(typeof e.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");i.negative=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.negative)}if(e.flags!=null&&(i.flags=e.flags>>>0),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");i.exemplars=[];for(var c=0;c<e.exemplars.length;++c){if(typeof e.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");i.exemplars[c]=p.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[c])}}return e.min!=null&&(i.min=Number(e.min)),e.max!=null&&(i.max=Number(e.max)),e.zeroThreshold!=null&&(i.zeroThreshold=Number(e.zeroThreshold)),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.attributes=[],c.exemplars=[]),i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.startTimeUnixNano=i.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.count=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.count=i.longs===String?"0":0;if(c.scale=0,h.Long){var u=new h.Long(0,0,!1);c.zeroCount=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.zeroCount=i.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=p.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&(typeof e.startTimeUnixNano=="number"?c.startTimeUnixNano=i.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:c.startTimeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.startTimeUnixNano):i.longs===Number?new h.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.count!=null&&e.hasOwnProperty("count")&&(typeof e.count=="number"?c.count=i.longs===String?String(e.count):e.count:c.count=i.longs===String?h.Long.prototype.toString.call(e.count):i.longs===Number?new h.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),e.sum!=null&&e.hasOwnProperty("sum")&&(c.sum=i.json&&!isFinite(e.sum)?String(e.sum):e.sum,i.oneofs&&(c._sum="sum")),e.scale!=null&&e.hasOwnProperty("scale")&&(c.scale=e.scale),e.zeroCount!=null&&e.hasOwnProperty("zeroCount")&&(typeof e.zeroCount=="number"?c.zeroCount=i.longs===String?String(e.zeroCount):e.zeroCount:c.zeroCount=i.longs===String?h.Long.prototype.toString.call(e.zeroCount):i.longs===Number?new h.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber():e.zeroCount),e.positive!=null&&e.hasOwnProperty("positive")&&(c.positive=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.positive,i)),e.negative!=null&&e.hasOwnProperty("negative")&&(c.negative=p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.negative,i)),e.flags!=null&&e.hasOwnProperty("flags")&&(c.flags=e.flags),e.exemplars&&e.exemplars.length){c.exemplars=[];for(var f=0;f<e.exemplars.length;++f)c.exemplars[f]=p.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[f],i)}return e.min!=null&&e.hasOwnProperty("min")&&(c.min=i.json&&!isFinite(e.min)?String(e.min):e.min,i.oneofs&&(c._min="min")),e.max!=null&&e.hasOwnProperty("max")&&(c.max=i.json&&!isFinite(e.max)?String(e.max):e.max,i.oneofs&&(c._max="max")),e.zeroThreshold!=null&&e.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=i.json&&!isFinite(e.zeroThreshold)?String(e.zeroThreshold):e.zeroThreshold),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=function(){function t(e){if(this.bucketCounts=[],e)for(var i=Object.keys(e),c=0;c<i.length;++c)e[i[c]]!=null&&(this[i[c]]=e[i[c]])}return t.prototype.offset=null,t.prototype.bucketCounts=h.emptyArray,t.create=function(i){return new t(i)},t.encode=function(i,c){if(c||(c=se.create()),i.offset!=null&&Object.hasOwnProperty.call(i,"offset")&&c.uint32(8).sint32(i.offset),i.bucketCounts!=null&&i.bucketCounts.length){c.uint32(18).fork();for(var u=0;u<i.bucketCounts.length;++u)c.uint64(i.bucketCounts[u]);c.ldelim()}return c},t.encodeDelimited=function(i,c){return this.encode(i,c).ldelim()},t.decode=function(i,c){i instanceof g||(i=g.create(i));for(var u=c===void 0?i.len:i.pos+c,f=new p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;i.pos<u;){var v=i.uint32();switch(v>>>3){case 1:{f.offset=i.sint32();break}case 2:{if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(v&7)===2)for(var _=i.uint32()+i.pos;i.pos<_;)f.bucketCounts.push(i.uint64());else f.bucketCounts.push(i.uint64());break}default:i.skipType(v&7);break}}return f},t.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},t.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.offset!=null&&i.hasOwnProperty("offset")&&!h.isInteger(i.offset))return"offset: integer expected";if(i.bucketCounts!=null&&i.hasOwnProperty("bucketCounts")){if(!Array.isArray(i.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<i.bucketCounts.length;++c)if(!h.isInteger(i.bucketCounts[c])&&!(i.bucketCounts[c]&&h.isInteger(i.bucketCounts[c].low)&&h.isInteger(i.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}return null},t.fromObject=function(i){if(i instanceof p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return i;var c=new p.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(i.offset!=null&&(c.offset=i.offset|0),i.bucketCounts){if(!Array.isArray(i.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");c.bucketCounts=[];for(var u=0;u<i.bucketCounts.length;++u)h.Long?(c.bucketCounts[u]=h.Long.fromValue(i.bucketCounts[u])).unsigned=!0:typeof i.bucketCounts[u]=="string"?c.bucketCounts[u]=parseInt(i.bucketCounts[u],10):typeof i.bucketCounts[u]=="number"?c.bucketCounts[u]=i.bucketCounts[u]:typeof i.bucketCounts[u]=="object"&&(c.bucketCounts[u]=new h.LongBits(i.bucketCounts[u].low>>>0,i.bucketCounts[u].high>>>0).toNumber(!0))}return c},t.toObject=function(i,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.bucketCounts=[]),c.defaults&&(u.offset=0),i.offset!=null&&i.hasOwnProperty("offset")&&(u.offset=i.offset),i.bucketCounts&&i.bucketCounts.length){u.bucketCounts=[];for(var f=0;f<i.bucketCounts.length;++f)typeof i.bucketCounts[f]=="number"?u.bucketCounts[f]=c.longs===String?String(i.bucketCounts[f]):i.bucketCounts[f]:u.bucketCounts[f]=c.longs===String?h.Long.prototype.toString.call(i.bucketCounts[f]):c.longs===Number?new h.LongBits(i.bucketCounts[f].low>>>0,i.bucketCounts[f].high>>>0).toNumber(!0):i.bucketCounts[f]}return u},t.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},t.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},t}(),s}(),a.SummaryDataPoint=function(){function s(l){if(this.attributes=[],this.quantileValues=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=h.emptyArray,s.prototype.flags=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.startTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"startTimeUnixNano")&&e.uint32(17).fixed64(t.startTimeUnixNano),t.timeUnixNano!=null&&Object.hasOwnProperty.call(t,"timeUnixNano")&&e.uint32(25).fixed64(t.timeUnixNano),t.count!=null&&Object.hasOwnProperty.call(t,"count")&&e.uint32(33).fixed64(t.count),t.sum!=null&&Object.hasOwnProperty.call(t,"sum")&&e.uint32(41).double(t.sum),t.quantileValues!=null&&t.quantileValues.length)for(var i=0;i<t.quantileValues.length;++i)p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(t.quantileValues[i],e.uint32(50).fork()).ldelim();if(t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)p.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(58).fork()).ldelim();return t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&e.uint32(64).uint32(t.flags),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.metrics.v1.SummaryDataPoint;t.pos<i;){var u=t.uint32();switch(u>>>3){case 7:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 2:{c.startTimeUnixNano=t.fixed64();break}case 3:{c.timeUnixNano=t.fixed64();break}case 4:{c.count=t.fixed64();break}case 5:{c.sum=t.double();break}case 6:{c.quantileValues&&c.quantileValues.length||(c.quantileValues=[]),c.quantileValues.push(p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(t,t.uint32()));break}case 8:{c.flags=t.uint32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=p.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}if(t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(t.startTimeUnixNano)&&!(t.startTimeUnixNano&&h.isInteger(t.startTimeUnixNano.low)&&h.isInteger(t.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&!h.isInteger(t.timeUnixNano)&&!(t.timeUnixNano&&h.isInteger(t.timeUnixNano.low)&&h.isInteger(t.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(t.count!=null&&t.hasOwnProperty("count")&&!h.isInteger(t.count)&&!(t.count&&h.isInteger(t.count.low)&&h.isInteger(t.count.high)))return"count: integer|Long expected";if(t.sum!=null&&t.hasOwnProperty("sum")&&typeof t.sum!="number")return"sum: number expected";if(t.quantileValues!=null&&t.hasOwnProperty("quantileValues")){if(!Array.isArray(t.quantileValues))return"quantileValues: array expected";for(var e=0;e<t.quantileValues.length;++e){var i=p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(t.quantileValues[e]);if(i)return"quantileValues."+i}}return t.flags!=null&&t.hasOwnProperty("flags")&&!h.isInteger(t.flags)?"flags: integer expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.metrics.v1.SummaryDataPoint)return t;var e=new p.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");e.attributes[i]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}if(t.startTimeUnixNano!=null&&(h.Long?(e.startTimeUnixNano=h.Long.fromValue(t.startTimeUnixNano)).unsigned=!1:typeof t.startTimeUnixNano=="string"?e.startTimeUnixNano=parseInt(t.startTimeUnixNano,10):typeof t.startTimeUnixNano=="number"?e.startTimeUnixNano=t.startTimeUnixNano:typeof t.startTimeUnixNano=="object"&&(e.startTimeUnixNano=new h.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber())),t.timeUnixNano!=null&&(h.Long?(e.timeUnixNano=h.Long.fromValue(t.timeUnixNano)).unsigned=!1:typeof t.timeUnixNano=="string"?e.timeUnixNano=parseInt(t.timeUnixNano,10):typeof t.timeUnixNano=="number"?e.timeUnixNano=t.timeUnixNano:typeof t.timeUnixNano=="object"&&(e.timeUnixNano=new h.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber())),t.count!=null&&(h.Long?(e.count=h.Long.fromValue(t.count)).unsigned=!1:typeof t.count=="string"?e.count=parseInt(t.count,10):typeof t.count=="number"?e.count=t.count:typeof t.count=="object"&&(e.count=new h.LongBits(t.count.low>>>0,t.count.high>>>0).toNumber())),t.sum!=null&&(e.sum=Number(t.sum)),t.quantileValues){if(!Array.isArray(t.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");e.quantileValues=[];for(var i=0;i<t.quantileValues.length;++i){if(typeof t.quantileValues[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");e.quantileValues[i]=p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(t.quantileValues[i])}}return t.flags!=null&&(e.flags=t.flags>>>0),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.quantileValues=[],i.attributes=[]),e.defaults){if(h.Long){var c=new h.Long(0,0,!1);i.startTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.startTimeUnixNano=e.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);i.timeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.timeUnixNano=e.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);i.count=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.count=e.longs===String?"0":0;i.sum=0,i.flags=0}if(t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&(typeof t.startTimeUnixNano=="number"?i.startTimeUnixNano=e.longs===String?String(t.startTimeUnixNano):t.startTimeUnixNano:i.startTimeUnixNano=e.longs===String?h.Long.prototype.toString.call(t.startTimeUnixNano):e.longs===Number?new h.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber():t.startTimeUnixNano),t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&(typeof t.timeUnixNano=="number"?i.timeUnixNano=e.longs===String?String(t.timeUnixNano):t.timeUnixNano:i.timeUnixNano=e.longs===String?h.Long.prototype.toString.call(t.timeUnixNano):e.longs===Number?new h.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber():t.timeUnixNano),t.count!=null&&t.hasOwnProperty("count")&&(typeof t.count=="number"?i.count=e.longs===String?String(t.count):t.count:i.count=e.longs===String?h.Long.prototype.toString.call(t.count):e.longs===Number?new h.LongBits(t.count.low>>>0,t.count.high>>>0).toNumber():t.count),t.sum!=null&&t.hasOwnProperty("sum")&&(i.sum=e.json&&!isFinite(t.sum)?String(t.sum):t.sum),t.quantileValues&&t.quantileValues.length){i.quantileValues=[];for(var u=0;u<t.quantileValues.length;++u)i.quantileValues[u]=p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(t.quantileValues[u],e)}if(t.attributes&&t.attributes.length){i.attributes=[];for(var u=0;u<t.attributes.length;++u)i.attributes[u]=p.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[u],e)}return t.flags!=null&&t.hasOwnProperty("flags")&&(i.flags=t.flags),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.quantile=null,l.prototype.value=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=se.create()),e.quantile!=null&&Object.hasOwnProperty.call(e,"quantile")&&i.uint32(9).double(e.quantile),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&i.uint32(17).double(e.value),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.quantile=e.double();break}case 2:{u.value=e.double();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.quantile!=null&&e.hasOwnProperty("quantile")&&typeof e.quantile!="number"?"quantile: number expected":e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},l.fromObject=function(e){if(e instanceof p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return e;var i=new p.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return e.quantile!=null&&(i.quantile=Number(e.quantile)),e.value!=null&&(i.value=Number(e.value)),i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.quantile=0,c.value=0),e.quantile!=null&&e.hasOwnProperty("quantile")&&(c.quantile=i.json&&!isFinite(e.quantile)?String(e.quantile):e.quantile),e.value!=null&&e.hasOwnProperty("value")&&(c.value=i.json&&!isFinite(e.value)?String(e.value):e.value),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},l}(),s}(),a.Exemplar=function(){function s(t){if(this.filteredAttributes=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.filteredAttributes=h.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var l;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(l=["asDouble","asInt"]),set:h.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=se.create()),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(17).fixed64(e.timeUnixNano),e.asDouble!=null&&Object.hasOwnProperty.call(e,"asDouble")&&i.uint32(25).double(e.asDouble),e.spanId!=null&&Object.hasOwnProperty.call(e,"spanId")&&i.uint32(34).bytes(e.spanId),e.traceId!=null&&Object.hasOwnProperty.call(e,"traceId")&&i.uint32(42).bytes(e.traceId),e.asInt!=null&&Object.hasOwnProperty.call(e,"asInt")&&i.uint32(49).sfixed64(e.asInt),e.filteredAttributes!=null&&e.filteredAttributes.length)for(var c=0;c<e.filteredAttributes.length;++c)p.opentelemetry.proto.common.v1.KeyValue.encode(e.filteredAttributes[c],i.uint32(58).fork()).ldelim();return i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof g||(e=g.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new p.opentelemetry.proto.metrics.v1.Exemplar;e.pos<c;){var f=e.uint32();switch(f>>>3){case 7:{u.filteredAttributes&&u.filteredAttributes.length||(u.filteredAttributes=[]),u.filteredAttributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.timeUnixNano=e.fixed64();break}case 3:{u.asDouble=e.double();break}case 6:{u.asInt=e.sfixed64();break}case 4:{u.spanId=e.bytes();break}case 5:{u.traceId=e.bytes();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.filteredAttributes!=null&&e.hasOwnProperty("filteredAttributes")){if(!Array.isArray(e.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<e.filteredAttributes.length;++c){var u=p.opentelemetry.proto.common.v1.KeyValue.verify(e.filteredAttributes[c]);if(u)return"filteredAttributes."+u}}if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!h.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&h.isInteger(e.timeUnixNano.low)&&h.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(i.value=1,typeof e.asDouble!="number"))return"asDouble: number expected";if(e.asInt!=null&&e.hasOwnProperty("asInt")){if(i.value===1)return"value: multiple values";if(i.value=1,!h.isInteger(e.asInt)&&!(e.asInt&&h.isInteger(e.asInt.low)&&h.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}return e.spanId!=null&&e.hasOwnProperty("spanId")&&!(e.spanId&&typeof e.spanId.length=="number"||h.isString(e.spanId))?"spanId: buffer expected":e.traceId!=null&&e.hasOwnProperty("traceId")&&!(e.traceId&&typeof e.traceId.length=="number"||h.isString(e.traceId))?"traceId: buffer expected":null},s.fromObject=function(e){if(e instanceof p.opentelemetry.proto.metrics.v1.Exemplar)return e;var i=new p.opentelemetry.proto.metrics.v1.Exemplar;if(e.filteredAttributes){if(!Array.isArray(e.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");i.filteredAttributes=[];for(var c=0;c<e.filteredAttributes.length;++c){if(typeof e.filteredAttributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");i.filteredAttributes[c]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(e.filteredAttributes[c])}}return e.timeUnixNano!=null&&(h.Long?(i.timeUnixNano=h.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.asDouble!=null&&(i.asDouble=Number(e.asDouble)),e.asInt!=null&&(h.Long?(i.asInt=h.Long.fromValue(e.asInt)).unsigned=!1:typeof e.asInt=="string"?i.asInt=parseInt(e.asInt,10):typeof e.asInt=="number"?i.asInt=e.asInt:typeof e.asInt=="object"&&(i.asInt=new h.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.spanId!=null&&(typeof e.spanId=="string"?h.base64.decode(e.spanId,i.spanId=h.newBuffer(h.base64.length(e.spanId)),0):e.spanId.length>=0&&(i.spanId=e.spanId)),e.traceId!=null&&(typeof e.traceId=="string"?h.base64.decode(e.traceId,i.traceId=h.newBuffer(h.base64.length(e.traceId)),0):e.traceId.length>=0&&(i.traceId=e.traceId)),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.filteredAttributes=[]),i.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;i.bytes===String?c.spanId="":(c.spanId=[],i.bytes!==Array&&(c.spanId=h.newBuffer(c.spanId))),i.bytes===String?c.traceId="":(c.traceId=[],i.bytes!==Array&&(c.traceId=h.newBuffer(c.traceId)))}if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?h.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new h.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(c.asDouble=i.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,i.oneofs&&(c.value="asDouble")),e.spanId!=null&&e.hasOwnProperty("spanId")&&(c.spanId=i.bytes===String?h.base64.encode(e.spanId,0,e.spanId.length):i.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),e.traceId!=null&&e.hasOwnProperty("traceId")&&(c.traceId=i.bytes===String?h.base64.encode(e.traceId,0,e.traceId.length):i.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),e.asInt!=null&&e.hasOwnProperty("asInt")&&(typeof e.asInt=="number"?c.asInt=i.longs===String?String(e.asInt):e.asInt:c.asInt=i.longs===String?h.Long.prototype.toString.call(e.asInt):i.longs===Number?new h.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,i.oneofs&&(c.value="asInt")),e.filteredAttributes&&e.filteredAttributes.length){c.filteredAttributes=[];for(var f=0;f<e.filteredAttributes.length;++f)c.filteredAttributes[f]=p.opentelemetry.proto.common.v1.KeyValue.toObject(e.filteredAttributes[f],i)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Exemplar"},s}(),a}(),n}(),r.logs=function(){var n={};return n.v1=function(){var a={};return a.LogsData=function(){function s(l){if(this.resourceLogs=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resourceLogs=h.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.resourceLogs!=null&&t.resourceLogs.length)for(var i=0;i<t.resourceLogs.length;++i)p.opentelemetry.proto.logs.v1.ResourceLogs.encode(t.resourceLogs[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.logs.v1.LogsData;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resourceLogs&&c.resourceLogs.length||(c.resourceLogs=[]),c.resourceLogs.push(p.opentelemetry.proto.logs.v1.ResourceLogs.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resourceLogs!=null&&t.hasOwnProperty("resourceLogs")){if(!Array.isArray(t.resourceLogs))return"resourceLogs: array expected";for(var e=0;e<t.resourceLogs.length;++e){var i=p.opentelemetry.proto.logs.v1.ResourceLogs.verify(t.resourceLogs[e]);if(i)return"resourceLogs."+i}}return null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.logs.v1.LogsData)return t;var e=new p.opentelemetry.proto.logs.v1.LogsData;if(t.resourceLogs){if(!Array.isArray(t.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");e.resourceLogs=[];for(var i=0;i<t.resourceLogs.length;++i){if(typeof t.resourceLogs[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");e.resourceLogs[i]=p.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(t.resourceLogs[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.resourceLogs=[]),t.resourceLogs&&t.resourceLogs.length){i.resourceLogs=[];for(var c=0;c<t.resourceLogs.length;++c)i.resourceLogs[c]=p.opentelemetry.proto.logs.v1.ResourceLogs.toObject(t.resourceLogs[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.LogsData"},s}(),a.ResourceLogs=function(){function s(l){if(this.scopeLogs=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resource=null,s.prototype.scopeLogs=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.resource!=null&&Object.hasOwnProperty.call(t,"resource")&&p.opentelemetry.proto.resource.v1.Resource.encode(t.resource,e.uint32(10).fork()).ldelim(),t.scopeLogs!=null&&t.scopeLogs.length)for(var i=0;i<t.scopeLogs.length;++i)p.opentelemetry.proto.logs.v1.ScopeLogs.encode(t.scopeLogs[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.logs.v1.ResourceLogs;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resource=p.opentelemetry.proto.resource.v1.Resource.decode(t,t.uint32());break}case 2:{c.scopeLogs&&c.scopeLogs.length||(c.scopeLogs=[]),c.scopeLogs.push(p.opentelemetry.proto.logs.v1.ScopeLogs.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resource!=null&&t.hasOwnProperty("resource")){var e=p.opentelemetry.proto.resource.v1.Resource.verify(t.resource);if(e)return"resource."+e}if(t.scopeLogs!=null&&t.hasOwnProperty("scopeLogs")){if(!Array.isArray(t.scopeLogs))return"scopeLogs: array expected";for(var i=0;i<t.scopeLogs.length;++i){var e=p.opentelemetry.proto.logs.v1.ScopeLogs.verify(t.scopeLogs[i]);if(e)return"scopeLogs."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!h.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.logs.v1.ResourceLogs)return t;var e=new p.opentelemetry.proto.logs.v1.ResourceLogs;if(t.resource!=null){if(typeof t.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");e.resource=p.opentelemetry.proto.resource.v1.Resource.fromObject(t.resource)}if(t.scopeLogs){if(!Array.isArray(t.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");e.scopeLogs=[];for(var i=0;i<t.scopeLogs.length;++i){if(typeof t.scopeLogs[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");e.scopeLogs[i]=p.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(t.scopeLogs[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.scopeLogs=[]),e.defaults&&(i.resource=null,i.schemaUrl=""),t.resource!=null&&t.hasOwnProperty("resource")&&(i.resource=p.opentelemetry.proto.resource.v1.Resource.toObject(t.resource,e)),t.scopeLogs&&t.scopeLogs.length){i.scopeLogs=[];for(var c=0;c<t.scopeLogs.length;++c)i.scopeLogs[c]=p.opentelemetry.proto.logs.v1.ScopeLogs.toObject(t.scopeLogs[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.ResourceLogs"},s}(),a.ScopeLogs=function(){function s(l){if(this.logRecords=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.scope=null,s.prototype.logRecords=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.scope!=null&&Object.hasOwnProperty.call(t,"scope")&&p.opentelemetry.proto.common.v1.InstrumentationScope.encode(t.scope,e.uint32(10).fork()).ldelim(),t.logRecords!=null&&t.logRecords.length)for(var i=0;i<t.logRecords.length;++i)p.opentelemetry.proto.logs.v1.LogRecord.encode(t.logRecords[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.logs.v1.ScopeLogs;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.decode(t,t.uint32());break}case 2:{c.logRecords&&c.logRecords.length||(c.logRecords=[]),c.logRecords.push(p.opentelemetry.proto.logs.v1.LogRecord.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.scope!=null&&t.hasOwnProperty("scope")){var e=p.opentelemetry.proto.common.v1.InstrumentationScope.verify(t.scope);if(e)return"scope."+e}if(t.logRecords!=null&&t.hasOwnProperty("logRecords")){if(!Array.isArray(t.logRecords))return"logRecords: array expected";for(var i=0;i<t.logRecords.length;++i){var e=p.opentelemetry.proto.logs.v1.LogRecord.verify(t.logRecords[i]);if(e)return"logRecords."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!h.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.logs.v1.ScopeLogs)return t;var e=new p.opentelemetry.proto.logs.v1.ScopeLogs;if(t.scope!=null){if(typeof t.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");e.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(t.scope)}if(t.logRecords){if(!Array.isArray(t.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");e.logRecords=[];for(var i=0;i<t.logRecords.length;++i){if(typeof t.logRecords[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");e.logRecords[i]=p.opentelemetry.proto.logs.v1.LogRecord.fromObject(t.logRecords[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.logRecords=[]),e.defaults&&(i.scope=null,i.schemaUrl=""),t.scope!=null&&t.hasOwnProperty("scope")&&(i.scope=p.opentelemetry.proto.common.v1.InstrumentationScope.toObject(t.scope,e)),t.logRecords&&t.logRecords.length){i.logRecords=[];for(var c=0;c<t.logRecords.length;++c)i.logRecords[c]=p.opentelemetry.proto.logs.v1.LogRecord.toObject(t.logRecords[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.ScopeLogs"},s}(),a.SeverityNumber=function(){var s={},l=Object.create(s);return l[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,l[s[1]="SEVERITY_NUMBER_TRACE"]=1,l[s[2]="SEVERITY_NUMBER_TRACE2"]=2,l[s[3]="SEVERITY_NUMBER_TRACE3"]=3,l[s[4]="SEVERITY_NUMBER_TRACE4"]=4,l[s[5]="SEVERITY_NUMBER_DEBUG"]=5,l[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,l[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,l[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,l[s[9]="SEVERITY_NUMBER_INFO"]=9,l[s[10]="SEVERITY_NUMBER_INFO2"]=10,l[s[11]="SEVERITY_NUMBER_INFO3"]=11,l[s[12]="SEVERITY_NUMBER_INFO4"]=12,l[s[13]="SEVERITY_NUMBER_WARN"]=13,l[s[14]="SEVERITY_NUMBER_WARN2"]=14,l[s[15]="SEVERITY_NUMBER_WARN3"]=15,l[s[16]="SEVERITY_NUMBER_WARN4"]=16,l[s[17]="SEVERITY_NUMBER_ERROR"]=17,l[s[18]="SEVERITY_NUMBER_ERROR2"]=18,l[s[19]="SEVERITY_NUMBER_ERROR3"]=19,l[s[20]="SEVERITY_NUMBER_ERROR4"]=20,l[s[21]="SEVERITY_NUMBER_FATAL"]=21,l[s[22]="SEVERITY_NUMBER_FATAL2"]=22,l[s[23]="SEVERITY_NUMBER_FATAL3"]=23,l[s[24]="SEVERITY_NUMBER_FATAL4"]=24,l}(),a.LogRecordFlags=function(){var s={},l=Object.create(s);return l[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,l[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,l}(),a.LogRecord=function(){function s(l){if(this.attributes=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=se.create()),t.timeUnixNano!=null&&Object.hasOwnProperty.call(t,"timeUnixNano")&&e.uint32(9).fixed64(t.timeUnixNano),t.severityNumber!=null&&Object.hasOwnProperty.call(t,"severityNumber")&&e.uint32(16).int32(t.severityNumber),t.severityText!=null&&Object.hasOwnProperty.call(t,"severityText")&&e.uint32(26).string(t.severityText),t.body!=null&&Object.hasOwnProperty.call(t,"body")&&p.opentelemetry.proto.common.v1.AnyValue.encode(t.body,e.uint32(42).fork()).ldelim(),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)p.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(50).fork()).ldelim();return t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(56).uint32(t.droppedAttributesCount),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&e.uint32(69).fixed32(t.flags),t.traceId!=null&&Object.hasOwnProperty.call(t,"traceId")&&e.uint32(74).bytes(t.traceId),t.spanId!=null&&Object.hasOwnProperty.call(t,"spanId")&&e.uint32(82).bytes(t.spanId),t.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"observedTimeUnixNano")&&e.uint32(89).fixed64(t.observedTimeUnixNano),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof g||(t=g.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new p.opentelemetry.proto.logs.v1.LogRecord;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.timeUnixNano=t.fixed64();break}case 11:{c.observedTimeUnixNano=t.fixed64();break}case 2:{c.severityNumber=t.int32();break}case 3:{c.severityText=t.string();break}case 5:{c.body=p.opentelemetry.proto.common.v1.AnyValue.decode(t,t.uint32());break}case 6:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(p.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 7:{c.droppedAttributesCount=t.uint32();break}case 8:{c.flags=t.fixed32();break}case 9:{c.traceId=t.bytes();break}case 10:{c.spanId=t.bytes();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof g||(t=new g(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&!h.isInteger(t.timeUnixNano)&&!(t.timeUnixNano&&h.isInteger(t.timeUnixNano.low)&&h.isInteger(t.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(t.observedTimeUnixNano!=null&&t.hasOwnProperty("observedTimeUnixNano")&&!h.isInteger(t.observedTimeUnixNano)&&!(t.observedTimeUnixNano&&h.isInteger(t.observedTimeUnixNano.low)&&h.isInteger(t.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(t.severityNumber!=null&&t.hasOwnProperty("severityNumber"))switch(t.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(t.severityText!=null&&t.hasOwnProperty("severityText")&&!h.isString(t.severityText))return"severityText: string expected";if(t.body!=null&&t.hasOwnProperty("body")){var e=p.opentelemetry.proto.common.v1.AnyValue.verify(t.body);if(e)return"body."+e}if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var i=0;i<t.attributes.length;++i){var e=p.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[i]);if(e)return"attributes."+e}}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(t.droppedAttributesCount)?"droppedAttributesCount: integer expected":t.flags!=null&&t.hasOwnProperty("flags")&&!h.isInteger(t.flags)?"flags: integer expected":t.traceId!=null&&t.hasOwnProperty("traceId")&&!(t.traceId&&typeof t.traceId.length=="number"||h.isString(t.traceId))?"traceId: buffer expected":t.spanId!=null&&t.hasOwnProperty("spanId")&&!(t.spanId&&typeof t.spanId.length=="number"||h.isString(t.spanId))?"spanId: buffer expected":null},s.fromObject=function(t){if(t instanceof p.opentelemetry.proto.logs.v1.LogRecord)return t;var e=new p.opentelemetry.proto.logs.v1.LogRecord;switch(t.timeUnixNano!=null&&(h.Long?(e.timeUnixNano=h.Long.fromValue(t.timeUnixNano)).unsigned=!1:typeof t.timeUnixNano=="string"?e.timeUnixNano=parseInt(t.timeUnixNano,10):typeof t.timeUnixNano=="number"?e.timeUnixNano=t.timeUnixNano:typeof t.timeUnixNano=="object"&&(e.timeUnixNano=new h.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber())),t.observedTimeUnixNano!=null&&(h.Long?(e.observedTimeUnixNano=h.Long.fromValue(t.observedTimeUnixNano)).unsigned=!1:typeof t.observedTimeUnixNano=="string"?e.observedTimeUnixNano=parseInt(t.observedTimeUnixNano,10):typeof t.observedTimeUnixNano=="number"?e.observedTimeUnixNano=t.observedTimeUnixNano:typeof t.observedTimeUnixNano=="object"&&(e.observedTimeUnixNano=new h.LongBits(t.observedTimeUnixNano.low>>>0,t.observedTimeUnixNano.high>>>0).toNumber())),t.severityNumber){default:if(typeof t.severityNumber=="number"){e.severityNumber=t.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:e.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:e.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:e.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:e.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:e.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:e.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:e.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:e.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:e.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:e.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:e.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:e.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:e.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:e.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:e.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:e.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:e.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:e.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:e.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:e.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:e.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:e.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:e.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:e.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:e.severityNumber=24;break}if(t.severityText!=null&&(e.severityText=String(t.severityText)),t.body!=null){if(typeof t.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");e.body=p.opentelemetry.proto.common.v1.AnyValue.fromObject(t.body)}if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");e.attributes[i]=p.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}return t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),t.flags!=null&&(e.flags=t.flags>>>0),t.traceId!=null&&(typeof t.traceId=="string"?h.base64.decode(t.traceId,e.traceId=h.newBuffer(h.base64.length(t.traceId)),0):t.traceId.length>=0&&(e.traceId=t.traceId)),t.spanId!=null&&(typeof t.spanId=="string"?h.base64.decode(t.spanId,e.spanId=h.newBuffer(h.base64.length(t.spanId)),0):t.spanId.length>=0&&(e.spanId=t.spanId)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[]),e.defaults){if(h.Long){var c=new h.Long(0,0,!1);i.timeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.timeUnixNano=e.longs===String?"0":0;if(i.severityNumber=e.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,i.severityText="",i.body=null,i.droppedAttributesCount=0,i.flags=0,e.bytes===String?i.traceId="":(i.traceId=[],e.bytes!==Array&&(i.traceId=h.newBuffer(i.traceId))),e.bytes===String?i.spanId="":(i.spanId=[],e.bytes!==Array&&(i.spanId=h.newBuffer(i.spanId))),h.Long){var c=new h.Long(0,0,!1);i.observedTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.observedTimeUnixNano=e.longs===String?"0":0}if(t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&(typeof t.timeUnixNano=="number"?i.timeUnixNano=e.longs===String?String(t.timeUnixNano):t.timeUnixNano:i.timeUnixNano=e.longs===String?h.Long.prototype.toString.call(t.timeUnixNano):e.longs===Number?new h.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber():t.timeUnixNano),t.severityNumber!=null&&t.hasOwnProperty("severityNumber")&&(i.severityNumber=e.enums===String?p.opentelemetry.proto.logs.v1.SeverityNumber[t.severityNumber]===void 0?t.severityNumber:p.opentelemetry.proto.logs.v1.SeverityNumber[t.severityNumber]:t.severityNumber),t.severityText!=null&&t.hasOwnProperty("severityText")&&(i.severityText=t.severityText),t.body!=null&&t.hasOwnProperty("body")&&(i.body=p.opentelemetry.proto.common.v1.AnyValue.toObject(t.body,e)),t.attributes&&t.attributes.length){i.attributes=[];for(var u=0;u<t.attributes.length;++u)i.attributes[u]=p.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[u],e)}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),t.flags!=null&&t.hasOwnProperty("flags")&&(i.flags=t.flags),t.traceId!=null&&t.hasOwnProperty("traceId")&&(i.traceId=e.bytes===String?h.base64.encode(t.traceId,0,t.traceId.length):e.bytes===Array?Array.prototype.slice.call(t.traceId):t.traceId),t.spanId!=null&&t.hasOwnProperty("spanId")&&(i.spanId=e.bytes===String?h.base64.encode(t.spanId,0,t.spanId.length):e.bytes===Array?Array.prototype.slice.call(t.spanId):t.spanId),t.observedTimeUnixNano!=null&&t.hasOwnProperty("observedTimeUnixNano")&&(typeof t.observedTimeUnixNano=="number"?i.observedTimeUnixNano=e.longs===String?String(t.observedTimeUnixNano):t.observedTimeUnixNano:i.observedTimeUnixNano=e.longs===String?h.Long.prototype.toString.call(t.observedTimeUnixNano):e.longs===Number?new h.LongBits(t.observedTimeUnixNano.low>>>0,t.observedTimeUnixNano.high>>>0).toNumber():t.observedTimeUnixNano),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.LogRecord"},s}(),a}(),n}(),r}(),o}();WU.exports=p});var Hn,wS=y(()=>{(function(o){o[o.SPANS=0]="SPANS",o[o.METRICS=1]="METRICS",o[o.LOGS=2]="LOGS"})(Hn||(Hn={}))});function XU(o){return o===Hn.SPANS?tp.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest:o===Hn.LOGS?tp.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest:tp.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest}var tp,QU=y(()=>{tp=An(JU());wS()});var eD={};Ue(eD,{send:()=>ZU});function ZU(o,r,n,a,s){let l=o.convert(r),t=XU(o.getServiceClientType()),e=t.create(l);if(e){let i=t.encode(e).finish();i&&Hi(o,Buffer.from(i),"application/x-protobuf",a,s)}else s(new et("No proto"))}var tD=y(()=>{Fn();QU()});var Xo,rD=y(()=>{k();Fn();Xo=class extends hn{constructor(r={}){super(r)}_sendPromise(r,n,a){let s=new Promise((t,e)=>{this._send(this,r,this.compression,t,e)}).then(n,a);this._sendingPromises.push(s);let l=()=>{let t=this._sendingPromises.indexOf(s);this._sendingPromises.splice(t,1)};s.then(l,l)}send(r,n,a){if(this._shutdownOnce.isCalled){A.debug("Shutdown already started. Cannot send objects");return}this._send?this._sendPromise(r,n,a):setImmediate(()=>{let{send:s}=(tD(),ie(eD));this._send=s,this._sendPromise(r,n,a)})}}});var nD=y(()=>{rD()});var iD=y(()=>{nD();wS()});var oD=y(()=>{iD()});var sD=y(()=>{});function LS(o){let r=BigInt(1e9);return BigInt(o[0])*r+BigInt(o[1])}function lD(o){let r=Number(BigInt.asUintN(32,o)),n=Number(BigInt.asUintN(32,o>>BigInt(32)));return{low:r,high:n}}function MS(o){let r=LS(o);return lD(r)}function cD(o){return LS(o).toString()}function aD(o){return o}function uD(o){if(o!==void 0)return Ei(o)}function Yi(o){var r,n;if(o===void 0)return K7;let a=(r=o.useLongBits)!==null&&r!==void 0?r:!0,s=(n=o.useHex)!==null&&n!==void 0?n:!1;return{encodeHrTime:a?MS:$7,encodeSpanContext:s?aD:Ei,encodeOptionalSpanContext:s?aD:uD}}var $7,K7,Ol=y(()=>{Z();$7=typeof BigInt<"u"?cD:Kh;K7={encodeHrTime:MS,encodeSpanContext:Ei,encodeOptionalSpanContext:uD}});var fD=y(()=>{});var pD=y(()=>{});var US,dD=y(()=>{(function(o){o[o.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",o[o.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",o[o.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",o[o.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",o[o.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",o[o.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(US||(US={}))});var hD=y(()=>{});function Qo(o){return{name:o.name,version:o.version}}function Br(o){return Object.keys(o).map(r=>rp(r,o[r]))}function rp(o,r){return{key:o,value:np(r)}}function np(o){let r=typeof o;return r==="string"?{stringValue:o}:r==="number"?Number.isInteger(o)?{intValue:o}:{doubleValue:o}:r==="boolean"?{boolValue:o}:o instanceof Uint8Array?{bytesValue:o}:Array.isArray(o)?{arrayValue:{values:o.map(np)}}:r==="object"&&o!=null?{kvlistValue:{values:Object.entries(o).map(([n,a])=>rp(n,a))}}:{}}var Zo=y(()=>{});function mD(o,r){var n;let a=o.spanContext(),s=o.status;return{traceId:r.encodeSpanContext(a.traceId),spanId:r.encodeSpanContext(a.spanId),parentSpanId:r.encodeOptionalSpanContext(o.parentSpanId),traceState:(n=a.traceState)===null||n===void 0?void 0:n.serialize(),name:o.name,kind:o.kind==null?0:o.kind+1,startTimeUnixNano:r.encodeHrTime(o.startTime),endTimeUnixNano:r.encodeHrTime(o.endTime),attributes:Br(o.attributes),droppedAttributesCount:o.droppedAttributesCount,events:o.events.map(l=>J7(l,r)),droppedEventsCount:o.droppedEventsCount,status:{code:s.code,message:s.message},links:o.links.map(l=>W7(l,r)),droppedLinksCount:o.droppedLinksCount}}function W7(o,r){var n;return{attributes:o.attributes?Br(o.attributes):[],spanId:r.encodeSpanContext(o.context.spanId),traceId:r.encodeSpanContext(o.context.traceId),traceState:(n=o.context.traceState)===null||n===void 0?void 0:n.serialize(),droppedAttributesCount:o.droppedAttributesCount||0}}function J7(o,r){return{attributes:o.attributes?Br(o.attributes):[],name:o.name,timeUnixNano:r.encodeHrTime(o.time),droppedAttributesCount:o.droppedAttributesCount||0}}var yD=y(()=>{Zo()});function es(o){return{attributes:Br(o.attributes),droppedAttributesCount:0}}var ip=y(()=>{Zo()});function jn(o,r){let n=Yi(r);return{resourceSpans:Q7(o,n)}}function X7(o){let r=new Map;for(let n of o){let a=r.get(n.resource);a||(a=new Map,r.set(n.resource,a));let s=`${n.instrumentationLibrary.name}@${n.instrumentationLibrary.version||""}:${n.instrumentationLibrary.schemaUrl||""}`,l=a.get(s);l||(l=[],a.set(s,l)),l.push(n)}return r}function Q7(o,r){let n=X7(o),a=[],s=n.entries(),l=s.next();for(;!l.done;){let[t,e]=l.value,i=[],c=e.values(),u=c.next();for(;!u.done;){let v=u.value;if(v.length>0){let _=v.map(x=>mD(x,r));i.push({scope:Qo(v[0].instrumentationLibrary),spans:_,schemaUrl:v[0].instrumentationLibrary.schemaUrl})}u=c.next()}let f={resource:es(t),scopeSpans:i,schemaUrl:void 0};a.push(f),l=s.next()}return a}var SD=y(()=>{yD();Ol();Zo();ip()});function _D(o,r){let n=Yi(r);return{resource:es(o.resource),schemaUrl:void 0,scopeMetrics:Z7(o.scopeMetrics,n)}}function Z7(o,r){return Array.from(o.map(n=>({scope:Qo(n.scope),metrics:n.metrics.map(a=>eJ(a,r)),schemaUrl:n.scope.schemaUrl})))}function eJ(o,r){let n={name:o.descriptor.name,description:o.descriptor.description,unit:o.descriptor.unit},a=iJ(o.aggregationTemporality);switch(o.dataPointType){case lt.SUM:n.sum={aggregationTemporality:a,isMonotonic:o.isMonotonic,dataPoints:vD(o,r)};break;case lt.GAUGE:n.gauge={dataPoints:vD(o,r)};break;case lt.HISTOGRAM:n.histogram={aggregationTemporality:a,dataPoints:rJ(o,r)};break;case lt.EXPONENTIAL_HISTOGRAM:n.exponentialHistogram={aggregationTemporality:a,dataPoints:nJ(o,r)};break}return n}function tJ(o,r,n){let a={attributes:Br(o.attributes),startTimeUnixNano:n.encodeHrTime(o.startTime),timeUnixNano:n.encodeHrTime(o.endTime)};switch(r){case Rt.INT:a.asInt=o.value;break;case Rt.DOUBLE:a.asDouble=o.value;break}return a}function vD(o,r){return o.dataPoints.map(n=>tJ(n,o.descriptor.valueType,r))}function rJ(o,r){return o.dataPoints.map(n=>{let a=n.value;return{attributes:Br(n.attributes),bucketCounts:a.buckets.counts,explicitBounds:a.buckets.boundaries,count:a.count,sum:a.sum,min:a.min,max:a.max,startTimeUnixNano:r.encodeHrTime(n.startTime),timeUnixNano:r.encodeHrTime(n.endTime)}})}function nJ(o,r){return o.dataPoints.map(n=>{let a=n.value;return{attributes:Br(n.attributes),count:a.count,min:a.min,max:a.max,sum:a.sum,positive:{offset:a.positive.offset,bucketCounts:a.positive.bucketCounts},negative:{offset:a.negative.offset,bucketCounts:a.negative.bucketCounts},scale:a.scale,zeroCount:a.zeroCount,startTimeUnixNano:r.encodeHrTime(n.startTime),timeUnixNano:r.encodeHrTime(n.endTime)}})}function iJ(o){switch(o){case yr.DELTA:return 1;case yr.CUMULATIVE:return 2}}var ED=y(()=>{k();Yu();Ol();Zo();ip()});function gD(o,r){return{resourceMetrics:o.map(n=>_D(n,r))}}var TD=y(()=>{ED()});function OD(o,r){let n=Yi(r);return{resourceLogs:sJ(o,n)}}function oJ(o){let r=new Map;for(let n of o){let{resource:a,instrumentationScope:{name:s,version:l="",schemaUrl:t=""}}=n,e=r.get(a);e||(e=new Map,r.set(a,e));let i=`${s}@${l}:${t}`,c=e.get(i);c||(c=[],e.set(i,c)),c.push(n)}return r}function sJ(o,r){let n=oJ(o);return Array.from(n,([a,s])=>({resource:es(a),scopeLogs:Array.from(s,([,l])=>({scope:Qo(l[0].instrumentationScope),logRecords:l.map(t=>aJ(t,r)),schemaUrl:l[0].instrumentationScope.schemaUrl})),schemaUrl:void 0}))}function aJ(o,r){var n,a,s;return{timeUnixNano:r.encodeHrTime(o.hrTime),observedTimeUnixNano:r.encodeHrTime(o.hrTimeObserved),severityNumber:o.severityNumber,severityText:o.severityText,body:np(o.body),attributes:lJ(o.attributes),droppedAttributesCount:o.droppedAttributesCount,flags:(n=o.spanContext)===null||n===void 0?void 0:n.traceFlags,traceId:r.encodeOptionalSpanContext((a=o.spanContext)===null||a===void 0?void 0:a.traceId),spanId:r.encodeOptionalSpanContext((s=o.spanContext)===null||s===void 0?void 0:s.spanId)}}function lJ(o){return Object.keys(o).map(r=>rp(r,o[r]))}var bD=y(()=>{Ol();Zo();ip()});var AD={};Ue(AD,{ESpanKind:()=>US,createExportLogsServiceRequest:()=>OD,createExportMetricsServiceRequest:()=>gD,createExportTraceServiceRequest:()=>jn,encodeAsLongBits:()=>MS,encodeAsString:()=>cD,getOtlpEncoder:()=>Yi,hrTimeToNanos:()=>LS,toLongBits:()=>lD});var bl=y(()=>{sD();Ol();fD();pD();dD();hD();SD();TD();bD()});var ND,xD=y(()=>{ND="0.51.1"});var RD,cJ,uJ,ts,PD=y(()=>{Z();Fn();oD();bl();xD();RD="v1/traces",cJ=`http://localhost:4318/${RD}`,uJ={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${ND}`},ts=class extends Xo{constructor(r={}){super(r),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),uJ),mr.parseKeyPairsIntoRecord(ee().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),Ur(r==null?void 0:r.headers))}convert(r){return jn(r)}getDefaultUrl(r){return typeof r.url=="string"?r.url:ee().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Wo(ee().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):ee().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?Ko(ee().OTEL_EXPORTER_OTLP_ENDPOINT,RD):cJ}getServiceClientType(){return Hn.SPANS}}});var CD=y(()=>{PD()});var ID=y(()=>{CD()});var wD={};Ue(wD,{OTLPTraceExporter:()=>ts});var LD=y(()=>{ID()});var MD,UD=y(()=>{MD="0.51.1"});var DD,fJ,pJ,DS,kD=y(()=>{Z();Fn();Fn();bl();UD();DD="v1/traces",fJ=`http://localhost:4318/${DD}`,pJ={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${MD}`},DS=class extends hn{constructor(r={}){super(r),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),pJ),mr.parseKeyPairsIntoRecord(ee().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),Ur(r==null?void 0:r.headers))}convert(r){return jn(r,{useHex:!0,useLongBits:!1})}getDefaultUrl(r){return typeof r.url=="string"?r.url:ee().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Wo(ee().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):ee().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?Ko(ee().OTEL_EXPORTER_OTLP_ENDPOINT,DD):fJ}}});var VD=y(()=>{kD()});var BD=y(()=>{VD()});var FD={};Ue(FD,{OTLPTraceExporter:()=>DS});var qD=y(()=>{BD()});var ve=E(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=rr.DEFAULT_MAX_SEND_MESSAGE_LENGTH=rr.Propagate=rr.LogVerbosity=rr.Status=void 0;var GD;(function(o){o[o.OK=0]="OK",o[o.CANCELLED=1]="CANCELLED",o[o.UNKNOWN=2]="UNKNOWN",o[o.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",o[o.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",o[o.NOT_FOUND=5]="NOT_FOUND",o[o.ALREADY_EXISTS=6]="ALREADY_EXISTS",o[o.PERMISSION_DENIED=7]="PERMISSION_DENIED",o[o.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",o[o.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",o[o.ABORTED=10]="ABORTED",o[o.OUT_OF_RANGE=11]="OUT_OF_RANGE",o[o.UNIMPLEMENTED=12]="UNIMPLEMENTED",o[o.INTERNAL=13]="INTERNAL",o[o.UNAVAILABLE=14]="UNAVAILABLE",o[o.DATA_LOSS=15]="DATA_LOSS",o[o.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(GD||(rr.Status=GD={}));var HD;(function(o){o[o.DEBUG=0]="DEBUG",o[o.INFO=1]="INFO",o[o.ERROR=2]="ERROR",o[o.NONE=3]="NONE"})(HD||(rr.LogVerbosity=HD={}));var jD;(function(o){o[o.DEADLINE=1]="DEADLINE",o[o.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",o[o.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",o[o.CANCELLATION=8]="CANCELLATION",o[o.DEFAULTS=65535]="DEFAULTS"})(jD||(rr.Propagate=jD={}));rr.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;rr.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var kS=E((Pge,dJ)=>{dJ.exports={name:"@grpc/grpc-js",version:"1.10.8",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var Be=E(Nt=>{"use strict";var VS,BS,FS,qS;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.isTracerEnabled=Nt.trace=Nt.log=Nt.setLoggerVerbosity=Nt.setLogger=Nt.getLogger=void 0;var zn=ve(),hJ=B("process"),mJ=kS().version,yJ={error:(o,...r)=>{console.error("E "+o,...r)},info:(o,...r)=>{console.error("I "+o,...r)},debug:(o,...r)=>{console.error("D "+o,...r)}},$i=yJ,rs=zn.LogVerbosity.ERROR,SJ=(BS=(VS=process.env.GRPC_NODE_VERBOSITY)!==null&&VS!==void 0?VS:process.env.GRPC_VERBOSITY)!==null&&BS!==void 0?BS:"";switch(SJ.toUpperCase()){case"DEBUG":rs=zn.LogVerbosity.DEBUG;break;case"INFO":rs=zn.LogVerbosity.INFO;break;case"ERROR":rs=zn.LogVerbosity.ERROR;break;case"NONE":rs=zn.LogVerbosity.NONE;break;default:}var vJ=()=>$i;Nt.getLogger=vJ;var _J=o=>{$i=o};Nt.setLogger=_J;var EJ=o=>{rs=o};Nt.setLoggerVerbosity=EJ;var gJ=(o,...r)=>{let n;if(o>=rs){switch(o){case zn.LogVerbosity.DEBUG:n=$i.debug;break;case zn.LogVerbosity.INFO:n=$i.info;break;case zn.LogVerbosity.ERROR:n=$i.error;break}n||(n=$i.error),n&&n.bind($i)(...r)}};Nt.log=gJ;var TJ=(qS=(FS=process.env.GRPC_NODE_TRACE)!==null&&FS!==void 0?FS:process.env.GRPC_TRACE)!==null&&qS!==void 0?qS:"",GS=new Set,zD=new Set;for(let o of TJ.split(","))o.startsWith("-")?zD.add(o.substring(1)):GS.add(o);var OJ=GS.has("all");function bJ(o,r,n){YD(r)&&(0,Nt.log)(o,new Date().toISOString()+" | v"+mJ+" "+hJ.pid+" | "+r+" | "+n)}Nt.trace=bJ;function YD(o){return!zD.has(o)&&(OJ||GS.has(o))}Nt.isTracerEnabled=YD});var op=E(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.getErrorCode=ns.getErrorMessage=void 0;function AJ(o){return o instanceof Error?o.message:String(o)}ns.getErrorMessage=AJ;function NJ(o){return typeof o=="object"&&o!==null&&"code"in o&&typeof o.code=="number"?o.code:null}ns.getErrorCode=NJ});var vt=E(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.Metadata=void 0;var xJ=Be(),RJ=ve(),PJ=op(),CJ=/^[0-9a-z_.-]+$/,IJ=/^[ -~]*$/;function wJ(o){return CJ.test(o)}function LJ(o){return IJ.test(o)}function KD(o){return o.endsWith("-bin")}function MJ(o){return!o.startsWith("grpc-")}function sp(o){return o.toLowerCase()}function $D(o,r){if(!wJ(o))throw new Error('Metadata key "'+o+'" contains illegal characters');if(r!=null)if(KD(o)){if(!Buffer.isBuffer(r))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(r))throw new Error("keys that don't end with '-bin' must have String values");if(!LJ(r))throw new Error('Metadata string value "'+r+'" contains illegal characters')}}var HS=class o{constructor(r={}){this.internalRepr=new Map,this.options=r}set(r,n){r=sp(r),$D(r,n),this.internalRepr.set(r,[n])}add(r,n){r=sp(r),$D(r,n);let a=this.internalRepr.get(r);a===void 0?this.internalRepr.set(r,[n]):a.push(n)}remove(r){r=sp(r),this.internalRepr.delete(r)}get(r){return r=sp(r),this.internalRepr.get(r)||[]}getMap(){let r={};for(let[n,a]of this.internalRepr)if(a.length>0){let s=a[0];r[n]=Buffer.isBuffer(s)?Buffer.from(s):s}return r}clone(){let r=new o(this.options),n=r.internalRepr;for(let[a,s]of this.internalRepr){let l=s.map(t=>Buffer.isBuffer(t)?Buffer.from(t):t);n.set(a,l)}return r}merge(r){for(let[n,a]of r.internalRepr){let s=(this.internalRepr.get(n)||[]).concat(a);this.internalRepr.set(n,s)}}setOptions(r){this.options=r}getOptions(){return this.options}toHttp2Headers(){let r={};for(let[n,a]of this.internalRepr)r[n]=a.map(UJ);return r}toJSON(){let r={};for(let[n,a]of this.internalRepr)r[n]=a;return r}static fromHttp2Headers(r){let n=new o;for(let a of Object.keys(r)){if(a.charAt(0)===":")continue;let s=r[a];try{KD(a)?Array.isArray(s)?s.forEach(l=>{n.add(a,Buffer.from(l,"base64"))}):s!==void 0&&(MJ(a)?s.split(",").forEach(l=>{n.add(a,Buffer.from(l.trim(),"base64"))}):n.add(a,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(l=>{n.add(a,l)}):s!==void 0&&n.add(a,s)}catch(l){let t=`Failed to add metadata entry ${a}: ${s}. ${(0,PJ.getErrorMessage)(l)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,xJ.log)(RJ.LogVerbosity.ERROR,t)}}return n}};ap.Metadata=HS;var UJ=o=>Buffer.isBuffer(o)?o.toString("base64"):o});var KS=E(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.CallCredentials=void 0;var $S=vt();function DJ(o){return"getRequestHeaders"in o&&typeof o.getRequestHeaders=="function"}var is=class o{static createFromMetadataGenerator(r){return new zS(r)}static createFromGoogleCredential(r){return o.createFromMetadataGenerator((n,a)=>{let s;DJ(r)?s=r.getRequestHeaders(n.service_url):s=new Promise((l,t)=>{r.getRequestMetadata(n.service_url,(e,i)=>{if(e){t(e);return}if(!i){t(new Error("Headers not set by metadata plugin"));return}l(i)})}),s.then(l=>{let t=new $S.Metadata;for(let e of Object.keys(l))t.add(e,l[e]);a(null,t)},l=>{a(l)})})}static createEmpty(){return new YS}};lp.CallCredentials=is;var jS=class o extends is{constructor(r){super(),this.creds=r}async generateMetadata(r){let n=new $S.Metadata,a=await Promise.all(this.creds.map(s=>s.generateMetadata(r)));for(let s of a)n.merge(s);return n}compose(r){return new o(this.creds.concat([r]))}_equals(r){return this===r?!0:r instanceof o?this.creds.every((n,a)=>n._equals(r.creds[a])):!1}},zS=class o extends is{constructor(r){super(),this.metadataGenerator=r}generateMetadata(r){return new Promise((n,a)=>{this.metadataGenerator(r,(s,l)=>{l!==void 0?n(l):a(s)})})}compose(r){return new jS([this,r])}_equals(r){return this===r?!0:r instanceof o?this.metadataGenerator===r.metadataGenerator:!1}},YS=class o extends is{generateMetadata(r){return Promise.resolve(new $S.Metadata)}compose(r){return r}_equals(r){return r instanceof o}}});var JS=E(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.getDefaultRootsData=os.CIPHER_SUITES=void 0;var kJ=B("fs");os.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var WD=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,WS=null;function VJ(){return WD?(WS===null&&(WS=kJ.readFileSync(WD)),WS):null}os.getDefaultRootsData=VJ});var fp=E(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.ChannelCredentials=void 0;var BJ=B("tls"),FJ=KS(),JD=JS();function XS(o,r){if(o&&!(o instanceof Buffer))throw new TypeError(`${r}, if provided, must be a Buffer.`)}var ss=class{constructor(r){this.callCredentials=r||FJ.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(r,n,a,s){var l;if(XS(r,"Root certificate"),XS(n,"Private key"),XS(a,"Certificate chain"),n&&!a)throw new Error("Private key must be given with accompanying certificate chain");if(!n&&a)throw new Error("Certificate chain must be given with accompanying private key");let t=(0,BJ.createSecureContext)({ca:(l=r??(0,JD.getDefaultRootsData)())!==null&&l!==void 0?l:void 0,key:n??void 0,cert:a??void 0,ciphers:JD.CIPHER_SUITES});return new cp(t,s??{})}static createFromSecureContext(r,n){return new cp(r,n??{})}static createInsecure(){return new QS}};up.ChannelCredentials=ss;var QS=class o extends ss{constructor(){super()}compose(r){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(r){return r instanceof o}},cp=class o extends ss{constructor(r,n){super(),this.secureContext=r,this.verifyOptions=n,this.connectionOptions={secureContext:r},n!=null&&n.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=n.checkServerIdentity)}compose(r){let n=this.callCredentials.compose(r);return new ZS(this,n)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(r){return this===r?!0:r instanceof o?this.secureContext===r.secureContext&&this.verifyOptions.checkServerIdentity===r.verifyOptions.checkServerIdentity:!1}},ZS=class o extends ss{constructor(r,n){super(n),this.channelCredentials=r}compose(r){let n=this.callCredentials.compose(r);return new o(this.channelCredentials,n)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(r){return this===r?!0:r instanceof o?this.channelCredentials._equals(r.channelCredentials)&&this.callCredentials._equals(r.callCredentials):!1}}});var Ki=E(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.selectLbConfigFromList=rt.getDefaultConfig=rt.parseLoadBalancingConfig=rt.isLoadBalancerNameRegistered=rt.createLoadBalancer=rt.registerDefaultLoadBalancerType=rt.registerLoadBalancerType=rt.createChildChannelControlHelper=void 0;var qJ=Be(),GJ=ve();function HJ(o,r){var n,a,s,l,t,e,i,c,u,f;return{createSubchannel:(a=(n=r.createSubchannel)===null||n===void 0?void 0:n.bind(r))!==null&&a!==void 0?a:o.createSubchannel.bind(o),updateState:(l=(s=r.updateState)===null||s===void 0?void 0:s.bind(r))!==null&&l!==void 0?l:o.updateState.bind(o),requestReresolution:(e=(t=r.requestReresolution)===null||t===void 0?void 0:t.bind(r))!==null&&e!==void 0?e:o.requestReresolution.bind(o),addChannelzChild:(c=(i=r.addChannelzChild)===null||i===void 0?void 0:i.bind(r))!==null&&c!==void 0?c:o.addChannelzChild.bind(o),removeChannelzChild:(f=(u=r.removeChannelzChild)===null||u===void 0?void 0:u.bind(r))!==null&&f!==void 0?f:o.removeChannelzChild.bind(o)}}rt.createChildChannelControlHelper=HJ;var Yn={},Al=null;function jJ(o,r,n){Yn[o]={LoadBalancer:r,LoadBalancingConfig:n}}rt.registerLoadBalancerType=jJ;function zJ(o){Al=o}rt.registerDefaultLoadBalancerType=zJ;function YJ(o,r,n){let a=o.getLoadBalancerName();return a in Yn?new Yn[a].LoadBalancer(r,n):null}rt.createLoadBalancer=YJ;function $J(o){return o in Yn}rt.isLoadBalancerNameRegistered=$J;function XD(o){let r=Object.keys(o);if(r.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let n=r[0];if(n in Yn)try{return Yn[n].LoadBalancingConfig.createFromJson(o[n])}catch(a){throw new Error(`${n}: ${a.message}`)}else throw new Error(`Unrecognized load balancing config name ${n}`)}rt.parseLoadBalancingConfig=XD;function KJ(){if(!Al)throw new Error("No default load balancer type registered");return new Yn[Al].LoadBalancingConfig}rt.getDefaultConfig=KJ;function WJ(o,r=!1){for(let n of o)try{return XD(n)}catch(a){(0,qJ.log)(GJ.LogVerbosity.DEBUG,"Config parsing failed with error",a.message);continue}return r&&Al?new Yn[Al].LoadBalancingConfig:null}rt.selectLbConfigFromList=WJ});var ev=E($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.extractAndSelectServiceConfig=$n.validateServiceConfig=$n.validateRetryThrottling=void 0;var JJ=B("os"),pp=ve(),dp=/^\d+(\.\d{1,9})?s$/,XJ="node";function QJ(o){if("service"in o&&o.service!==""){if(typeof o.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof o.service}`);if("method"in o&&o.method!==""){if(typeof o.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof o.service}`);return{service:o.service,method:o.method}}else return{service:o.service}}else{if("method"in o&&o.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function ZJ(o){if(!("maxAttempts"in o)||!Number.isInteger(o.maxAttempts)||o.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in o)||typeof o.initialBackoff!="string"||!dp.test(o.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in o)||typeof o.maxBackoff!="string"||!dp.test(o.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in o)||typeof o.backoffMultiplier!="number"||o.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in o&&Array.isArray(o.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(o.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let r of o.retryableStatusCodes)if(typeof r=="number"){if(!Object.values(pp.Status).includes(r))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof r=="string"){if(!Object.values(pp.Status).includes(r.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:o.maxAttempts,initialBackoff:o.initialBackoff,maxBackoff:o.maxBackoff,backoffMultiplier:o.backoffMultiplier,retryableStatusCodes:o.retryableStatusCodes}}function eX(o){if(!("maxAttempts"in o)||!Number.isInteger(o.maxAttempts)||o.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in o&&(typeof o.hedgingDelay!="string"||!dp.test(o.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in o&&Array.isArray(o.nonFatalStatusCodes))for(let n of o.nonFatalStatusCodes)if(typeof n=="number"){if(!Object.values(pp.Status).includes(n))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof n=="string"){if(!Object.values(pp.Status).includes(n.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let r={maxAttempts:o.maxAttempts};return o.hedgingDelay&&(r.hedgingDelay=o.hedgingDelay),o.nonFatalStatusCodes&&(r.nonFatalStatusCodes=o.nonFatalStatusCodes),r}function tX(o){var r;let n={name:[]};if(!("name"in o)||!Array.isArray(o.name))throw new Error("Invalid method config: invalid name array");for(let a of o.name)n.name.push(QJ(a));if("waitForReady"in o){if(typeof o.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");n.waitForReady=o.waitForReady}if("timeout"in o)if(typeof o.timeout=="object"){if(!("seconds"in o.timeout)||typeof o.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in o.timeout)||typeof o.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");n.timeout=o.timeout}else if(typeof o.timeout=="string"&&dp.test(o.timeout)){let a=o.timeout.substring(0,o.timeout.length-1).split(".");n.timeout={seconds:a[0]|0,nanos:((r=a[1])!==null&&r!==void 0?r:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in o){if(typeof o.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");n.maxRequestBytes=o.maxRequestBytes}if("maxResponseBytes"in o){if(typeof o.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");n.maxResponseBytes=o.maxResponseBytes}if("retryPolicy"in o){if("hedgingPolicy"in o)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");n.retryPolicy=ZJ(o.retryPolicy)}else"hedgingPolicy"in o&&(n.hedgingPolicy=eX(o.hedgingPolicy));return n}function QD(o){if(!("maxTokens"in o)||typeof o.maxTokens!="number"||o.maxTokens<=0||o.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in o)||typeof o.tokenRatio!="number"||o.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+o.maxTokens.toFixed(3),tokenRatio:+o.tokenRatio.toFixed(3)}}$n.validateRetryThrottling=QD;function rX(o){if(!(typeof o=="object"&&o!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof o}`);let r=Object.keys(o);if(r.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${r}`);if(r.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[r[0]]:o[r[0]]}}function ZD(o){let r={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in o)if(typeof o.loadBalancingPolicy=="string")r.loadBalancingPolicy=o.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in o)if(Array.isArray(o.loadBalancingConfig))for(let a of o.loadBalancingConfig)r.loadBalancingConfig.push(rX(a));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in o&&Array.isArray(o.methodConfig))for(let a of o.methodConfig)r.methodConfig.push(tX(a));"retryThrottling"in o&&(r.retryThrottling=QD(o.retryThrottling));let n=[];for(let a of r.methodConfig)for(let s of a.name){for(let l of n)if(s.service===l.service&&s.method===l.method)throw new Error(`Invalid service config: duplicate name ${s.service}/${s.method}`);n.push(s)}return r}$n.validateServiceConfig=ZD;function nX(o){if(!("serviceConfig"in o))throw new Error("Invalid service config choice: missing service config");let r={serviceConfig:ZD(o.serviceConfig)};if("clientLanguage"in o)if(Array.isArray(o.clientLanguage)){r.clientLanguage=[];for(let a of o.clientLanguage)if(typeof a=="string")r.clientLanguage.push(a);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in o)if(Array.isArray(o.clientHostname)){r.clientHostname=[];for(let a of o.clientHostname)if(typeof a=="string")r.clientHostname.push(a);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in o)if(typeof o.percentage=="number"&&0<=o.percentage&&o.percentage<=100)r.percentage=o.percentage;else throw new Error("Invalid service config choice: invalid percentage");let n=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let a in o)if(!n.includes(a))throw new Error(`Invalid service config choice: unexpected field ${a}`);return r}function iX(o,r){if(!Array.isArray(o))throw new Error("Invalid service config list");for(let n of o){let a=nX(n);if(!(typeof a.percentage=="number"&&r>a.percentage)){if(Array.isArray(a.clientHostname)){let s=!1;for(let l of a.clientHostname)l===JJ.hostname()&&(s=!0);if(!s)continue}if(Array.isArray(a.clientLanguage)){let s=!1;for(let l of a.clientLanguage)l===XJ&&(s=!0);if(!s)continue}return a.serviceConfig}}throw new Error("No matching service config found")}function oX(o,r){for(let n of o)if(n.length>0&&n[0].startsWith("grpc_config=")){let a=n.join("").substring(12),s=JSON.parse(a);return iX(s,r)}return null}$n.extractAndSelectServiceConfig=oX});var nr=E(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.ConnectivityState=void 0;var ek;(function(o){o[o.IDLE=0]="IDLE",o[o.CONNECTING=1]="CONNECTING",o[o.READY=2]="READY",o[o.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",o[o.SHUTDOWN=4]="SHUTDOWN"})(ek||(hp.ConnectivityState=ek={}))});var qt=E(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.uriToString=Fr.combineHostPort=Fr.splitHostPort=Fr.parseUri=void 0;var sX=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function aX(o){let r=sX.exec(o);return r===null?null:{scheme:r[1],authority:r[2],path:r[3]}}Fr.parseUri=aX;var tk=/^\d+$/;function lX(o){if(o.startsWith("[")){let r=o.indexOf("]");if(r===-1)return null;let n=o.substring(1,r);if(n.indexOf(":")===-1)return null;if(o.length>r+1)if(o[r+1]===":"){let a=o.substring(r+2);return tk.test(a)?{host:n,port:+a}:null}else return null;else return{host:n}}else{let r=o.split(":");return r.length===2?tk.test(r[1])?{host:r[0],port:+r[1]}:null:{host:o}}}Fr.splitHostPort=lX;function cX(o){return o.port===void 0?o.host:o.host.includes(":")?`[${o.host}]:${o.port}`:`${o.host}:${o.port}`}Fr.combineHostPort=cX;function uX(o){let r="";return o.scheme!==void 0&&(r+=o.scheme+":"),o.authority!==void 0&&(r+="//"+o.authority+"/"),r+=o.path,r}Fr.uriToString=uX});var qr=E(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.mapUriDefaultScheme=ir.getDefaultAuthority=ir.createResolver=ir.registerDefaultScheme=ir.registerResolver=void 0;var rv=qt(),as={},tv=null;function fX(o,r){as[o]=r}ir.registerResolver=fX;function pX(o){tv=o}ir.registerDefaultScheme=pX;function dX(o,r,n){if(o.scheme!==void 0&&o.scheme in as)return new as[o.scheme](o,r,n);throw new Error(`No resolver could be created for target ${(0,rv.uriToString)(o)}`)}ir.createResolver=dX;function hX(o){if(o.scheme!==void 0&&o.scheme in as)return as[o.scheme].getDefaultAuthority(o);throw new Error(`Invalid target ${(0,rv.uriToString)(o)}`)}ir.getDefaultAuthority=hX;function mX(o){return o.scheme===void 0||!(o.scheme in as)?tv!==null?{scheme:tv,authority:void 0,path:(0,rv.uriToString)(o)}:null:o}ir.mapUriDefaultScheme=mX});var Wn=E(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.QueuePicker=Kn.UnavailablePicker=Kn.PickResultType=void 0;var yX=vt(),SX=ve(),mp;(function(o){o[o.COMPLETE=0]="COMPLETE",o[o.QUEUE=1]="QUEUE",o[o.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",o[o.DROP=3]="DROP"})(mp||(Kn.PickResultType=mp={}));var nv=class{constructor(r){this.status=Object.assign({code:SX.Status.UNAVAILABLE,details:"No connection established",metadata:new yX.Metadata},r)}pick(r){return{pickResultType:mp.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Kn.UnavailablePicker=nv;var iv=class{constructor(r,n){this.loadBalancer=r,this.childPicker=n,this.calledExitIdle=!1}pick(r){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(r):{pickResultType:mp.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Kn.QueuePicker=iv});var Nl=E(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.BackoffTimeout=void 0;var vX=1e3,_X=1.6,EX=12e4,gX=.2;function TX(o,r){return Math.random()*(r-o)+o}var ov=class{constructor(r,n){this.callback=r,this.initialDelay=vX,this.multiplier=_X,this.maxDelay=EX,this.jitter=gX,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,n&&(n.initialDelay&&(this.initialDelay=n.initialDelay),n.multiplier&&(this.multiplier=n.multiplier),n.jitter&&(this.jitter=n.jitter),n.maxDelay&&(this.maxDelay=n.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(r){var n,a;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},r),this.hasRef||(a=(n=this.timerId).unref)===null||a===void 0||a.call(n)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let r=Math.min(this.nextDelay*this.multiplier,this.maxDelay),n=r*this.jitter;this.nextDelay=r+TX(-n,n)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let r=new Date,n=this.startTime;n.setMilliseconds(n.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),r<n?this.runTimer(n.getTime()-r.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var r,n;this.hasRef=!0,(n=(r=this.timerId).ref)===null||n===void 0||n.call(r)}unref(){var r,n;this.hasRef=!1,(n=(r=this.timerId).unref)===null||n===void 0||n.call(r)}getEndTime(){return this.endTime}};yp.BackoffTimeout=ov});var vp=E(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.ChildLoadBalancerHandler=void 0;var OX=Ki(),bX=nr(),AX="child_load_balancer_helper",sv=class{constructor(r,n){this.channelControlHelper=r,this.options=n,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(a){this.parent=a,this.child=null}createSubchannel(a,s){return this.parent.channelControlHelper.createSubchannel(a,s)}updateState(a,s){var l;if(this.calledByPendingChild()){if(a===bX.ConnectivityState.CONNECTING)return;(l=this.parent.currentChild)===null||l===void 0||l.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(a,s)}requestReresolution(){var a;let s=(a=this.parent.pendingChild)!==null&&a!==void 0?a:this.parent.currentChild;this.child===s&&this.parent.channelControlHelper.requestReresolution()}setChild(a){this.child=a}addChannelzChild(a){this.parent.channelControlHelper.addChannelzChild(a)}removeChannelzChild(a){this.parent.channelControlHelper.removeChannelzChild(a)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(r,n){return r.getLoadBalancerName()!==n.getLoadBalancerName()}updateAddressList(r,n,a){let s;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,n)){let l=new this.ChildPolicyHelper(this),t=(0,OX.createLoadBalancer)(n,l,this.options);l.setChild(t),this.currentChild===null?(this.currentChild=t,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=t,s=this.pendingChild)}else this.pendingChild===null?s=this.currentChild:s=this.pendingChild;this.latestConfig=n,s.updateAddressList(r,n,a)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return AX}};Sp.ChildLoadBalancerHandler=sv});var nk=E(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.ResolvingLoadBalancer=void 0;var NX=Ki(),xX=ev(),Lt=nr(),RX=qr(),xl=Wn(),PX=Nl(),av=ve(),CX=vt(),IX=Be(),wX=ve(),LX=qt(),MX=vp(),UX="resolving_load_balancer";function rk(o){IX.trace(wX.LogVerbosity.DEBUG,UX,o)}var DX=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function kX(o,r,n,a){for(let s of n.name)switch(a){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===o&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===o&&s.method===r)return!0}return!1}function VX(o,r,n,a){for(let s of n)if(kX(o,r,s,a))return s;return null}function BX(o){return function(n,a){var s,l;let t=n.split("/").filter(c=>c.length>0),e=(s=t[0])!==null&&s!==void 0?s:"",i=(l=t[1])!==null&&l!==void 0?l:"";if(o&&o.methodConfig)for(let c of DX){let u=VX(e,i,o.methodConfig,c);if(u)return{methodConfig:u,pickInformation:{},status:av.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:av.Status.OK,dynamicFilterFactories:[]}}}var lv=class{constructor(r,n,a,s,l){this.target=r,this.channelControlHelper=n,this.onSuccessfulResolution=s,this.onFailedResolution=l,this.latestChildState=Lt.ConnectivityState.IDLE,this.latestChildPicker=new xl.QueuePicker(this),this.currentState=Lt.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,a["grpc.service_config"]?this.defaultServiceConfig=(0,xX.validateServiceConfig)(JSON.parse(a["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Lt.ConnectivityState.IDLE,new xl.QueuePicker(this)),this.childLoadBalancer=new MX.ChildLoadBalancerHandler({createSubchannel:n.createSubchannel.bind(n),requestReresolution:()=>{this.backoffTimeout.isRunning()?(rk("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,i)=>{this.latestChildState=e,this.latestChildPicker=i,this.updateState(e,i)},addChannelzChild:n.addChannelzChild.bind(n),removeChannelzChild:n.removeChannelzChild.bind(n)},a),this.innerResolver=(0,RX.createResolver)(r,{onSuccessfulResolution:(e,i,c,u,f)=>{var v;this.backoffTimeout.stop(),this.backoffTimeout.reset();let _=null;i===null?c===null?(this.previousServiceConfig=null,_=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):_=this.previousServiceConfig:(_=i,this.previousServiceConfig=i);let x=(v=_==null?void 0:_.loadBalancingConfig)!==null&&v!==void 0?v:[],O=(0,NX.selectLbConfigFromList)(x,!0);if(O===null){this.handleResolutionFailure({code:av.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new CX.Metadata});return}this.childLoadBalancer.updateAddressList(e,O,f);let R=_??this.defaultServiceConfig;this.onSuccessfulResolution(R,u??BX(R))},onError:e=>{this.handleResolutionFailure(e)}},a);let t={initialDelay:a["grpc.initial_reconnect_backoff_ms"],maxDelay:a["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new PX.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},t),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Lt.ConnectivityState.IDLE&&this.updateState(Lt.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(r,n){rk((0,LX.uriToString)(this.target)+" "+Lt.ConnectivityState[this.currentState]+" -> "+Lt.ConnectivityState[r]),r===Lt.ConnectivityState.IDLE&&(n=new xl.QueuePicker(this,n)),this.currentState=r,this.channelControlHelper.updateState(r,n)}handleResolutionFailure(r){this.latestChildState===Lt.ConnectivityState.IDLE&&(this.updateState(Lt.ConnectivityState.TRANSIENT_FAILURE,new xl.UnavailablePicker(r)),this.onFailedResolution(r))}exitIdle(){(this.currentState===Lt.ConnectivityState.IDLE||this.currentState===Lt.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(r,n){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Lt.ConnectivityState.IDLE,this.latestChildPicker=new xl.QueuePicker(this),this.currentState=Lt.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};_p.ResolvingLoadBalancer=lv});var ik=E(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.channelOptionsEqual=ls.recognizedOptions=void 0;ls.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0};function FX(o,r){let n=Object.keys(o).sort(),a=Object.keys(r).sort();if(n.length!==a.length)return!1;for(let s=0;s<n.length;s+=1)if(n[s]!==a[s]||o[n[s]]!==r[a[s]])return!1;return!0}ls.channelOptionsEqual=FX});var Tr=E(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.EndpointMap=nt.endpointHasAddress=nt.endpointToString=nt.endpointEqual=nt.stringToSubchannelAddress=nt.subchannelAddressToString=nt.subchannelAddressEqual=nt.isTcpSubchannelAddress=void 0;var ok=B("net");function Pl(o){return"port"in o}nt.isTcpSubchannelAddress=Pl;function Ep(o,r){return!o&&!r?!0:!o||!r?!1:Pl(o)?Pl(r)&&o.host===r.host&&o.port===r.port:!Pl(r)&&o.path===r.path}nt.subchannelAddressEqual=Ep;function sk(o){return Pl(o)?(0,ok.isIPv6)(o.host)?"["+o.host+"]:"+o.port:o.host+":"+o.port:o.path}nt.subchannelAddressToString=sk;var qX=443;function GX(o,r){return(0,ok.isIP)(o)?{host:o,port:r??qX}:{path:o}}nt.stringToSubchannelAddress=GX;function HX(o,r){if(o.addresses.length!==r.addresses.length)return!1;for(let n=0;n<o.addresses.length;n++)if(!Ep(o.addresses[n],r.addresses[n]))return!1;return!0}nt.endpointEqual=HX;function jX(o){return"["+o.addresses.map(sk).join(", ")+"]"}nt.endpointToString=jX;function ak(o,r){for(let n of o.addresses)if(Ep(n,r))return!0;return!1}nt.endpointHasAddress=ak;function Rl(o,r){if(o.addresses.length!==r.addresses.length)return!1;for(let n of o.addresses){let a=!1;for(let s of r.addresses)if(Ep(n,s)){a=!0;break}if(!a)return!1}return!0}var cv=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(r){for(let n of this.map)if(ak(n.key,r))return n.value}deleteMissing(r){let n=[];for(let a of this.map){let s=!1;for(let l of r)Rl(l,a.key)&&(s=!0);s||(n.push(a.value),this.map.delete(a))}return n}get(r){for(let n of this.map)if(Rl(r,n.key))return n.value}set(r,n){for(let a of this.map)if(Rl(r,a.key)){a.value=n;return}this.map.add({key:r,value:n})}delete(r){for(let n of this.map)if(Rl(r,n.key)){this.map.delete(n);return}}has(r){for(let n of this.map)if(Rl(r,n.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let r of this.map)yield r.key}*values(){for(let r of this.map)yield r.value}*entries(){for(let r of this.map)yield[r.key,r.value]}};nt.EndpointMap=cv});var ck={};Ue(ck,{OrderedMap:()=>QX});function cs(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");uv(o,r);function n(){this.constructor=o}o.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function zX(o,r){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,t;return t={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function e(c){return function(u){return i([c,u])}}function i(c){if(a)throw new TypeError("Generator is already executing.");for(;t&&(t=0,c[0]&&(n=0)),n;)try{if(a=1,s&&(l=c[0]&2?s.return:c[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,c[1])).done)return l;switch(s=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){n.label=c[1];break}if(c[0]===6&&n.label<l[1]){n.label=l[1],l=c;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(c);break}l[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(o,n)}catch(u){c=[6,u],s=0}finally{a=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Wi(){throw new RangeError("Iterator access denied!")}var uv,lk,YX,$X,KX,WX,JX,XX,mn,QX,uk=y(()=>{uv=function(o,r){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},uv(o,r)};lk=function(){function o(r,n,a){a===void 0&&(a=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=r,this.o=n,this.l=a}return o.prototype.v=function(){var r=this,n=r.h.h===r;if(n&&r.l===1)r=r.i;else if(r.t)for(r=r.t;r.i;)r=r.i;else{if(n)return r.h;for(var a=r.h;a.t===r;)r=a,a=r.h;r=a}return r},o.prototype.p=function(){var r=this;if(r.i){for(r=r.i;r.t;)r=r.t;return r}else{for(var n=r.h;n.i===r;)r=n,n=r.h;return r.i!==n?n:r}},o.prototype.T=function(){var r=this.h,n=this.i,a=n.t;return r.h===this?r.h=n:r.t===this?r.t=n:r.i=n,n.h=r,n.t=this,this.h=n,this.i=a,a&&(a.h=this),n},o.prototype.I=function(){var r=this.h,n=this.t,a=n.i;return r.h===this?r.h=n:r.t===this?r.t=n:r.i=n,n.h=r,n.i=this,this.h=n,this.t=a,a&&(a.h=this),n},o}(),YX=function(o){cs(r,o);function r(){var n=o!==null&&o.apply(this,arguments)||this;return n.O=1,n}return r.prototype.T=function(){var n=o.prototype.T.call(this);return this.M(),n.M(),n},r.prototype.I=function(){var n=o.prototype.I.call(this);return this.M(),n.M(),n},r.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},r}(lk),$X=function(){function o(r){r===void 0&&(r=0),this.iteratorType=r}return o.prototype.equals=function(r){return this.C===r.C},o}(),KX=function(){function o(){this._=0}return Object.defineProperty(o.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),o.prototype.size=function(){return this._},o.prototype.empty=function(){return this._===0},o}(),WX=function(o){cs(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(KX);JX=function(o){cs(r,o);function r(n,a){n===void 0&&(n=function(l,t){return l<t?-1:l>t?1:0}),a===void 0&&(a=!1);var s=o.call(this)||this;return s.N=void 0,s.g=n,s.enableIndex=a,s.S=a?YX:lk,s.A=new s.S,s}return r.prototype.m=function(n,a){for(var s=this.A;n;){var l=this.g(n.u,a);if(l<0)n=n.i;else if(l>0)s=n,n=n.t;else return n}return s},r.prototype.B=function(n,a){for(var s=this.A;n;){var l=this.g(n.u,a);l<=0?n=n.i:(s=n,n=n.t)}return s},r.prototype.j=function(n,a){for(var s=this.A;n;){var l=this.g(n.u,a);if(l<0)s=n,n=n.i;else if(l>0)n=n.t;else return n}return s},r.prototype.k=function(n,a){for(var s=this.A;n;){var l=this.g(n.u,a);l<0?(s=n,n=n.i):n=n.t}return s},r.prototype.R=function(n){for(;;){var a=n.h;if(a===this.A)return;if(n.l===1){n.l=0;return}if(n===a.t){var s=a.i;if(s.l===1)s.l=0,a.l=1,a===this.N?this.N=a.T():a.T();else if(s.i&&s.i.l===1){s.l=a.l,a.l=0,s.i.l=0,a===this.N?this.N=a.T():a.T();return}else s.t&&s.t.l===1?(s.l=1,s.t.l=0,s.I()):(s.l=1,n=a)}else{var s=a.t;if(s.l===1)s.l=0,a.l=1,a===this.N?this.N=a.I():a.I();else if(s.t&&s.t.l===1){s.l=a.l,a.l=0,s.t.l=0,a===this.N?this.N=a.I():a.I();return}else s.i&&s.i.l===1?(s.l=1,s.i.l=0,s.T()):(s.l=1,n=a)}}},r.prototype.G=function(n){if(this._===1){this.clear();return}for(var a=n;a.t||a.i;){if(a.i)for(a=a.i;a.t;)a=a.t;else a=a.t;var s=n.u;n.u=a.u,a.u=s;var l=n.o;n.o=a.o,a.o=l,n=a}this.A.t===a?this.A.t=a.h:this.A.i===a&&(this.A.i=a.h),this.R(a);var t=a.h;if(a===t.t?t.t=void 0:t.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;t!==this.A;)t.O-=1,t=t.h},r.prototype.P=function(n){for(var a=typeof n=="number"?n:void 0,s=typeof n=="function"?n:void 0,l=typeof n>"u"?[]:void 0,t=0,e=this.N,i=[];i.length||e;)if(e)i.push(e),e=e.t;else{if(e=i.pop(),t===a)return e;l&&l.push(e),s&&s(e,t,this),t+=1,e=e.i}return l},r.prototype.q=function(n){for(;;){var a=n.h;if(a.l===0)return;var s=a.h;if(a===s.t){var l=s.i;if(l&&l.l===1){if(l.l=a.l=0,s===this.N)return;s.l=1,n=s;continue}else if(n===a.i){if(n.l=0,n.t&&(n.t.h=a),n.i&&(n.i.h=s),a.i=n.t,s.t=n.i,n.t=a,n.i=s,s===this.N)this.N=n,this.A.h=n;else{var t=s.h;t.t===s?t.t=n:t.i=n}n.h=s.h,a.h=n,s.h=n,s.l=1}else{a.l=0,s===this.N?this.N=s.I():s.I(),s.l=1;return}}else{var l=s.t;if(l&&l.l===1){if(l.l=a.l=0,s===this.N)return;s.l=1,n=s;continue}else if(n===a.t){if(n.l=0,n.t&&(n.t.h=s),n.i&&(n.i.h=a),s.i=n.t,a.t=n.i,n.t=s,n.i=a,s===this.N)this.N=n,this.A.h=n;else{var t=s.h;t.t===s?t.t=n:t.i=n}n.h=s.h,a.h=n,s.h=n,s.l=1}else{a.l=0,s===this.N?this.N=s.T():s.T(),s.l=1;return}}this.enableIndex&&(a.M(),s.M(),n.M());return}},r.prototype.D=function(n,a,s){if(this.N===void 0)return this._+=1,this.N=new this.S(n,a,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var l,t=this.A.t,e=this.g(t.u,n);if(e===0)return t.o=a,this._;if(e>0)t.t=new this.S(n,a),t.t.h=t,l=t.t,this.A.t=l;else{var i=this.A.i,c=this.g(i.u,n);if(c===0)return i.o=a,this._;if(c<0)i.i=new this.S(n,a),i.i.h=i,l=i.i,this.A.i=l;else{if(s!==void 0){var u=s.C;if(u!==this.A){var f=this.g(u.u,n);if(f===0)return u.o=a,this._;if(f>0){var v=u.v(),_=this.g(v.u,n);if(_===0)return v.o=a,this._;_<0&&(l=new this.S(n,a),v.i===void 0?(v.i=l,l.h=v):(u.t=l,l.h=u))}}}if(l===void 0)for(l=this.N;;){var x=this.g(l.u,n);if(x>0){if(l.t===void 0){l.t=new this.S(n,a),l.t.h=l,l=l.t;break}l=l.t}else if(x<0){if(l.i===void 0){l.i=new this.S(n,a),l.i.h=l,l=l.i;break}l=l.i}else return l.o=a,this._}}}if(this.enableIndex)for(var O=l.h;O!==this.A;)O.O+=1,O=O.h;return this.q(l),this._+=1,this._},r.prototype.F=function(n,a){for(;n;){var s=this.g(n.u,a);if(s<0)n=n.i;else if(s>0)n=n.t;else return n}return n||this.A},r.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},r.prototype.updateKeyByIterator=function(n,a){var s=n.C;if(s===this.A&&Wi(),this._===1)return s.u=a,!0;var l=s.p().u;if(s===this.A.t)return this.g(l,a)>0?(s.u=a,!0):!1;var t=s.v().u;return s===this.A.i?this.g(t,a)<0?(s.u=a,!0):!1:this.g(t,a)>=0||this.g(l,a)<=0?!1:(s.u=a,!0)},r.prototype.eraseElementByPos=function(n){if(n<0||n>this._-1)throw new RangeError;var a=this.P(n);return this.G(a),this._},r.prototype.eraseElementByKey=function(n){if(this._===0)return!1;var a=this.F(this.N,n);return a===this.A?!1:(this.G(a),!0)},r.prototype.eraseElementByIterator=function(n){var a=n.C;a===this.A&&Wi();var s=a.i===void 0,l=n.iteratorType===0;return l?s&&n.next():(!s||a.t===void 0)&&n.next(),this.G(a),n},r.prototype.getHeight=function(){if(this._===0)return 0;function n(a){return a?Math.max(n(a.t),n(a.i))+1:0}return n(this.N)},r}(WX),XX=function(o){cs(r,o);function r(n,a,s){var l=o.call(this,s)||this;return l.C=n,l.A=a,l.iteratorType===0?(l.pre=function(){return this.C===this.A.t&&Wi(),this.C=this.C.v(),this},l.next=function(){return this.C===this.A&&Wi(),this.C=this.C.p(),this}):(l.pre=function(){return this.C===this.A.i&&Wi(),this.C=this.C.p(),this},l.next=function(){return this.C===this.A&&Wi(),this.C=this.C.v(),this}),l}return Object.defineProperty(r.prototype,"index",{get:function(){var n=this.C,a=this.A.h;if(n===this.A)return a?a.O-1:0;var s=0;for(n.t&&(s+=n.t.O);n!==a;){var l=n.h;n===l.i&&(s+=1,l.t&&(s+=l.t.O)),n=l}return s},enumerable:!1,configurable:!0}),r.prototype.isAccessible=function(){return this.C!==this.A},r}($X),mn=function(o){cs(r,o);function r(n,a,s,l){var t=o.call(this,n,a,l)||this;return t.container=s,t}return Object.defineProperty(r.prototype,"pointer",{get:function(){this.C===this.A&&Wi();var n=this;return new Proxy([],{get:function(a,s){return s==="0"?n.C.u:s==="1"?n.C.o:(a[0]=n.C.u,a[1]=n.C.o,a[s])},set:function(a,s,l){if(s!=="1")throw new TypeError("prop must be 1");return n.C.o=l,!0}})},enumerable:!1,configurable:!0}),r.prototype.copy=function(){return new r(this.C,this.A,this.container,this.iteratorType)},r}(XX),QX=function(o){cs(r,o);function r(n,a,s){n===void 0&&(n=[]);var l=o.call(this,a,s)||this,t=l;return n.forEach(function(e){t.setElement(e[0],e[1])}),l}return r.prototype.begin=function(){return new mn(this.A.t||this.A,this.A,this)},r.prototype.end=function(){return new mn(this.A,this.A,this)},r.prototype.rBegin=function(){return new mn(this.A.i||this.A,this.A,this,1)},r.prototype.rEnd=function(){return new mn(this.A,this.A,this,1)},r.prototype.front=function(){if(this._!==0){var n=this.A.t;return[n.u,n.o]}},r.prototype.back=function(){if(this._!==0){var n=this.A.i;return[n.u,n.o]}},r.prototype.lowerBound=function(n){var a=this.m(this.N,n);return new mn(a,this.A,this)},r.prototype.upperBound=function(n){var a=this.B(this.N,n);return new mn(a,this.A,this)},r.prototype.reverseLowerBound=function(n){var a=this.j(this.N,n);return new mn(a,this.A,this)},r.prototype.reverseUpperBound=function(n){var a=this.k(this.N,n);return new mn(a,this.A,this)},r.prototype.forEach=function(n){this.P(function(a,s,l){n([a.u,a.o],s,l)})},r.prototype.setElement=function(n,a,s){return this.D(n,a,s)},r.prototype.getElementByPos=function(n){if(n<0||n>this._-1)throw new RangeError;var a=this.P(n);return[a.u,a.o]},r.prototype.find=function(n){var a=this.F(this.N,n);return new mn(a,this.A,this)},r.prototype.getElementByKey=function(n){var a=this.F(this.N,n);return a.o},r.prototype.union=function(n){var a=this;return n.forEach(function(s){a.setElement(s[0],s[1])}),this._},r.prototype[Symbol.iterator]=function(){var n,a,s,l;return zX(this,function(t){switch(t.label){case 0:n=this._,a=this.P(),s=0,t.label=1;case 1:return s<n?(l=a[s],[4,[l.u,l.o]]):[3,4];case 2:t.sent(),t.label=3;case 3:return++s,[3,1];case 4:return[2]}})},r}(JX)});var gp=E(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.addAdminServicesToServer=us.registerAdminService=void 0;var fk=[];function ZX(o,r){fk.push({getServiceDefinition:o,getHandlers:r})}us.registerAdminService=ZX;function e9(o){for(let{getServiceDefinition:r,getHandlers:n}of fk)o.addService(r(),n())}us.addAdminServicesToServer=e9});var pk=E(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.ClientDuplexStreamImpl=or.ClientWritableStreamImpl=or.ClientReadableStreamImpl=or.ClientUnaryCallImpl=or.callErrorFromStatus=void 0;var t9=B("events"),mv=B("stream"),Cl=ve();function r9(o,r){let n=`${o.code} ${Cl.Status[o.code]}: ${o.details}`,s=`${new Error(n).stack}
for call at
${r}`;return Object.assign(new Error(n),o,{stack:s})}or.callErrorFromStatus=r9;var fv=class extends t9.EventEmitter{constructor(){super()}cancel(){var r;(r=this.call)===null||r===void 0||r.cancelWithStatus(Cl.Status.CANCELLED,"Cancelled on client")}getPeer(){var r,n;return(n=(r=this.call)===null||r===void 0?void 0:r.getPeer())!==null&&n!==void 0?n:"unknown"}};or.ClientUnaryCallImpl=fv;var pv=class extends mv.Readable{constructor(r){super({objectMode:!0}),this.deserialize=r}cancel(){var r;(r=this.call)===null||r===void 0||r.cancelWithStatus(Cl.Status.CANCELLED,"Cancelled on client")}getPeer(){var r,n;return(n=(r=this.call)===null||r===void 0?void 0:r.getPeer())!==null&&n!==void 0?n:"unknown"}_read(r){var n;(n=this.call)===null||n===void 0||n.startRead()}};or.ClientReadableStreamImpl=pv;var dv=class extends mv.Writable{constructor(r){super({objectMode:!0}),this.serialize=r}cancel(){var r;(r=this.call)===null||r===void 0||r.cancelWithStatus(Cl.Status.CANCELLED,"Cancelled on client")}getPeer(){var r,n;return(n=(r=this.call)===null||r===void 0?void 0:r.getPeer())!==null&&n!==void 0?n:"unknown"}_write(r,n,a){var s;let l={callback:a},t=Number(n);Number.isNaN(t)||(l.flags=t),(s=this.call)===null||s===void 0||s.sendMessageWithContext(l,r)}_final(r){var n;(n=this.call)===null||n===void 0||n.halfClose(),r()}};or.ClientWritableStreamImpl=dv;var hv=class extends mv.Duplex{constructor(r,n){super({objectMode:!0}),this.serialize=r,this.deserialize=n}cancel(){var r;(r=this.call)===null||r===void 0||r.cancelWithStatus(Cl.Status.CANCELLED,"Cancelled on client")}getPeer(){var r,n;return(n=(r=this.call)===null||r===void 0?void 0:r.getPeer())!==null&&n!==void 0?n:"unknown"}_read(r){var n;(n=this.call)===null||n===void 0||n.startRead()}_write(r,n,a){var s;let l={callback:a},t=Number(n);Number.isNaN(t)||(l.flags=t),(s=this.call)===null||s===void 0||s.sendMessageWithContext(l,r)}_final(r){var n;(n=this.call)===null||n===void 0||n.halfClose(),r()}};or.ClientDuplexStreamImpl=hv});var dk=E(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.InterceptingListenerImpl=fs.isInterceptingListener=void 0;function n9(o){return o.onReceiveMetadata!==void 0&&o.onReceiveMetadata.length===1}fs.isInterceptingListener=n9;var yv=class{constructor(r,n){this.listener=r,this.nextListener=n,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(r){this.processingMetadata=!0,this.listener.onReceiveMetadata(r,n=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(n),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(r){this.processingMessage=!0,this.listener.onReceiveMessage(r,n=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=n,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(n),this.processPendingStatus())})}onReceiveStatus(r){this.listener.onReceiveStatus(r,n=>{this.processingMetadata||this.processingMessage?this.pendingStatus=n:this.nextListener.onReceiveStatus(n)})}};fs.InterceptingListenerImpl=yv});var Ov=E(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.getInterceptingCall=sr.InterceptingCall=sr.RequesterBuilder=sr.ListenerBuilder=sr.InterceptorConfigurationError=void 0;var i9=vt(),hk=dk(),mk=ve(),yk=op(),wl=class o extends Error{constructor(r){super(r),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,o)}};sr.InterceptorConfigurationError=wl;var vv=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(r){return this.metadata=r,this}withOnReceiveMessage(r){return this.message=r,this}withOnReceiveStatus(r){return this.status=r,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};sr.ListenerBuilder=vv;var _v=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(r){return this.start=r,this}withSendMessage(r){return this.message=r,this}withHalfClose(r){return this.halfClose=r,this}withCancel(r){return this.cancel=r,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};sr.RequesterBuilder=_v;var Sv={onReceiveMetadata:(o,r)=>{r(o)},onReceiveMessage:(o,r)=>{r(o)},onReceiveStatus:(o,r)=>{r(o)}},Il={start:(o,r,n)=>{n(o,r)},sendMessage:(o,r)=>{r(o)},halfClose:o=>{o()},cancel:o=>{o()}},Ev=class{constructor(r,n){var a,s,l,t;this.nextCall=r,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,n?this.requester={start:(a=n.start)!==null&&a!==void 0?a:Il.start,sendMessage:(s=n.sendMessage)!==null&&s!==void 0?s:Il.sendMessage,halfClose:(l=n.halfClose)!==null&&l!==void 0?l:Il.halfClose,cancel:(t=n.cancel)!==null&&t!==void 0?t:Il.cancel}:this.requester=Il}cancelWithStatus(r,n){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(r,n)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(r,n){var a,s,l,t,e,i;let c={onReceiveMetadata:(s=(a=n==null?void 0:n.onReceiveMetadata)===null||a===void 0?void 0:a.bind(n))!==null&&s!==void 0?s:u=>{},onReceiveMessage:(t=(l=n==null?void 0:n.onReceiveMessage)===null||l===void 0?void 0:l.bind(n))!==null&&t!==void 0?t:u=>{},onReceiveStatus:(i=(e=n==null?void 0:n.onReceiveStatus)===null||e===void 0?void 0:e.bind(n))!==null&&i!==void 0?i:u=>{}};this.processingMetadata=!0,this.requester.start(r,c,(u,f)=>{var v,_,x;this.processingMetadata=!1;let O;if((0,hk.isInterceptingListener)(f))O=f;else{let R={onReceiveMetadata:(v=f.onReceiveMetadata)!==null&&v!==void 0?v:Sv.onReceiveMetadata,onReceiveMessage:(_=f.onReceiveMessage)!==null&&_!==void 0?_:Sv.onReceiveMessage,onReceiveStatus:(x=f.onReceiveStatus)!==null&&x!==void 0?x:Sv.onReceiveStatus};O=new hk.InterceptingListenerImpl(R,c)}this.nextCall.start(u,O),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(r,n){this.processingMessage=!0,this.requester.sendMessage(n,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=r,this.pendingMessage=n):(this.nextCall.sendMessageWithContext(r,a),this.processPendingHalfClose())})}sendMessage(r){this.sendMessageWithContext({},r)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};sr.InterceptingCall=Ev;function o9(o,r,n){var a,s;let l=(a=n.deadline)!==null&&a!==void 0?a:1/0,t=n.host,e=(s=n.parent)!==null&&s!==void 0?s:null,i=n.propagate_flags,c=n.credentials,u=o.createCall(r,l,t,e,i);return c&&u.setCredentials(c),u}var Tp=class{constructor(r,n){this.call=r,this.methodDefinition=n}cancelWithStatus(r,n){this.call.cancelWithStatus(r,n)}getPeer(){return this.call.getPeer()}sendMessageWithContext(r,n){let a;try{a=this.methodDefinition.requestSerialize(n)}catch(s){this.call.cancelWithStatus(mk.Status.INTERNAL,`Request message serialization failure: ${(0,yk.getErrorMessage)(s)}`);return}this.call.sendMessageWithContext(r,a)}sendMessage(r){this.sendMessageWithContext({},r)}start(r,n){let a=null;this.call.start(r,{onReceiveMetadata:s=>{var l;(l=n==null?void 0:n.onReceiveMetadata)===null||l===void 0||l.call(n,s)},onReceiveMessage:s=>{var l;let t;try{t=this.methodDefinition.responseDeserialize(s)}catch(e){a={code:mk.Status.INTERNAL,details:`Response message parsing error: ${(0,yk.getErrorMessage)(e)}`,metadata:new i9.Metadata},this.call.cancelWithStatus(a.code,a.details);return}(l=n==null?void 0:n.onReceiveMessage)===null||l===void 0||l.call(n,t)},onReceiveStatus:s=>{var l,t;a?(l=n==null?void 0:n.onReceiveStatus)===null||l===void 0||l.call(n,a):(t=n==null?void 0:n.onReceiveStatus)===null||t===void 0||t.call(n,s)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},gv=class extends Tp{constructor(r,n){super(r,n)}start(r,n){var a,s;let l=!1,t={onReceiveMetadata:(s=(a=n==null?void 0:n.onReceiveMetadata)===null||a===void 0?void 0:a.bind(n))!==null&&s!==void 0?s:e=>{},onReceiveMessage:e=>{var i;l=!0,(i=n==null?void 0:n.onReceiveMessage)===null||i===void 0||i.call(n,e)},onReceiveStatus:e=>{var i,c;l||(i=n==null?void 0:n.onReceiveMessage)===null||i===void 0||i.call(n,null),(c=n==null?void 0:n.onReceiveStatus)===null||c===void 0||c.call(n,e)}};super.start(r,t),this.call.startRead()}},Tv=class extends Tp{};function s9(o,r,n){let a=o9(o,n.path,r);return n.responseStream?new Tv(a,n):new gv(a,n)}function a9(o,r,n,a){if(o.clientInterceptors.length>0&&o.clientInterceptorProviders.length>0)throw new wl("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(o.callInterceptors.length>0&&o.callInterceptorProviders.length>0)throw new wl("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];o.callInterceptors.length>0||o.callInterceptorProviders.length>0?s=[].concat(o.callInterceptors,o.callInterceptorProviders.map(e=>e(r))).filter(e=>e):s=[].concat(o.clientInterceptors,o.clientInterceptorProviders.map(e=>e(r))).filter(e=>e);let l=Object.assign({},n,{method_definition:r});return s.reduceRight((e,i)=>c=>i(c,e),e=>s9(a,e,r))(l)}sr.getInterceptingCall=a9});var Nv=E(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.Client=void 0;var Gr=pk(),l9=xv(),c9=nr(),Jn=ve(),ps=vt(),Op=Ov(),Or=Symbol(),ds=Symbol(),hs=Symbol(),yn=Symbol();function bv(o){return typeof o=="function"}function ms(o){var r;return((r=o.stack)===null||r===void 0?void 0:r.split(`
`).slice(1).join(`
`))||"no stack trace available"}var Av=class{constructor(r,n,a={}){var s,l;if(a=Object.assign({},a),this[ds]=(s=a.interceptors)!==null&&s!==void 0?s:[],delete a.interceptors,this[hs]=(l=a.interceptor_providers)!==null&&l!==void 0?l:[],delete a.interceptor_providers,this[ds].length>0&&this[hs].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[yn]=a.callInvocationTransformer,delete a.callInvocationTransformer,a.channelOverride)this[Or]=a.channelOverride;else if(a.channelFactoryOverride){let t=a.channelFactoryOverride;delete a.channelFactoryOverride,this[Or]=t(r,n,a)}else this[Or]=new l9.ChannelImplementation(r,n,a)}close(){this[Or].close()}getChannel(){return this[Or]}waitForReady(r,n){let a=s=>{if(s){n(new Error("Failed to connect before the deadline"));return}let l;try{l=this[Or].getConnectivityState(!0)}catch{n(new Error("The channel has been closed"));return}if(l===c9.ConnectivityState.READY)n();else try{this[Or].watchConnectivityState(l,r,a)}catch{n(new Error("The channel has been closed"))}};setImmediate(a)}checkOptionalUnaryResponseArguments(r,n,a){if(bv(r))return{metadata:new ps.Metadata,options:{},callback:r};if(bv(n))return r instanceof ps.Metadata?{metadata:r,options:{},callback:n}:{metadata:new ps.Metadata,options:r,callback:n};if(!(r instanceof ps.Metadata&&n instanceof Object&&bv(a)))throw new Error("Incorrect arguments passed");return{metadata:r,options:n,callback:a}}makeUnaryRequest(r,n,a,s,l,t,e){var i,c;let u=this.checkOptionalUnaryResponseArguments(l,t,e),f={path:r,requestStream:!1,responseStream:!1,requestSerialize:n,responseDeserialize:a},v={argument:s,metadata:u.metadata,call:new Gr.ClientUnaryCallImpl,channel:this[Or],methodDefinition:f,callOptions:u.options,callback:u.callback};this[yn]&&(v=this[yn](v));let _=v.call,x={clientInterceptors:this[ds],clientInterceptorProviders:this[hs],callInterceptors:(i=v.callOptions.interceptors)!==null&&i!==void 0?i:[],callInterceptorProviders:(c=v.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},O=(0,Op.getInterceptingCall)(x,v.methodDefinition,v.callOptions,v.channel);_.call=O;let R=null,N=!1,C=new Error;return O.start(v.metadata,{onReceiveMetadata:D=>{_.emit("metadata",D)},onReceiveMessage(D){R!==null&&O.cancelWithStatus(Jn.Status.INTERNAL,"Too many responses received"),R=D},onReceiveStatus(D){if(!N){if(N=!0,D.code===Jn.Status.OK)if(R===null){let M=ms(C);v.callback((0,Gr.callErrorFromStatus)({code:Jn.Status.INTERNAL,details:"No message received",metadata:D.metadata},M))}else v.callback(null,R);else{let M=ms(C);v.callback((0,Gr.callErrorFromStatus)(D,M))}C=null,_.emit("status",D)}}}),O.sendMessage(s),O.halfClose(),_}makeClientStreamRequest(r,n,a,s,l,t){var e,i;let c=this.checkOptionalUnaryResponseArguments(s,l,t),u={path:r,requestStream:!0,responseStream:!1,requestSerialize:n,responseDeserialize:a},f={metadata:c.metadata,call:new Gr.ClientWritableStreamImpl(n),channel:this[Or],methodDefinition:u,callOptions:c.options,callback:c.callback};this[yn]&&(f=this[yn](f));let v=f.call,_={clientInterceptors:this[ds],clientInterceptorProviders:this[hs],callInterceptors:(e=f.callOptions.interceptors)!==null&&e!==void 0?e:[],callInterceptorProviders:(i=f.callOptions.interceptor_providers)!==null&&i!==void 0?i:[]},x=(0,Op.getInterceptingCall)(_,f.methodDefinition,f.callOptions,f.channel);v.call=x;let O=null,R=!1,N=new Error;return x.start(f.metadata,{onReceiveMetadata:C=>{v.emit("metadata",C)},onReceiveMessage(C){O!==null&&x.cancelWithStatus(Jn.Status.INTERNAL,"Too many responses received"),O=C},onReceiveStatus(C){if(!R){if(R=!0,C.code===Jn.Status.OK)if(O===null){let D=ms(N);f.callback((0,Gr.callErrorFromStatus)({code:Jn.Status.INTERNAL,details:"No message received",metadata:C.metadata},D))}else f.callback(null,O);else{let D=ms(N);f.callback((0,Gr.callErrorFromStatus)(C,D))}N=null,v.emit("status",C)}}}),v}checkMetadataAndOptions(r,n){let a,s;return r instanceof ps.Metadata?(a=r,n?s=n:s={}):(r?s=r:s={},a=new ps.Metadata),{metadata:a,options:s}}makeServerStreamRequest(r,n,a,s,l,t){var e,i;let c=this.checkMetadataAndOptions(l,t),u={path:r,requestStream:!1,responseStream:!0,requestSerialize:n,responseDeserialize:a},f={argument:s,metadata:c.metadata,call:new Gr.ClientReadableStreamImpl(a),channel:this[Or],methodDefinition:u,callOptions:c.options};this[yn]&&(f=this[yn](f));let v=f.call,_={clientInterceptors:this[ds],clientInterceptorProviders:this[hs],callInterceptors:(e=f.callOptions.interceptors)!==null&&e!==void 0?e:[],callInterceptorProviders:(i=f.callOptions.interceptor_providers)!==null&&i!==void 0?i:[]},x=(0,Op.getInterceptingCall)(_,f.methodDefinition,f.callOptions,f.channel);v.call=x;let O=!1,R=new Error;return x.start(f.metadata,{onReceiveMetadata(N){v.emit("metadata",N)},onReceiveMessage(N){v.push(N)},onReceiveStatus(N){if(!O){if(O=!0,v.push(null),N.code!==Jn.Status.OK){let C=ms(R);v.emit("error",(0,Gr.callErrorFromStatus)(N,C))}R=null,v.emit("status",N)}}}),x.sendMessage(s),x.halfClose(),v}makeBidiStreamRequest(r,n,a,s,l){var t,e;let i=this.checkMetadataAndOptions(s,l),c={path:r,requestStream:!0,responseStream:!0,requestSerialize:n,responseDeserialize:a},u={metadata:i.metadata,call:new Gr.ClientDuplexStreamImpl(n,a),channel:this[Or],methodDefinition:c,callOptions:i.options};this[yn]&&(u=this[yn](u));let f=u.call,v={clientInterceptors:this[ds],clientInterceptorProviders:this[hs],callInterceptors:(t=u.callOptions.interceptors)!==null&&t!==void 0?t:[],callInterceptorProviders:(e=u.callOptions.interceptor_providers)!==null&&e!==void 0?e:[]},_=(0,Op.getInterceptingCall)(v,u.methodDefinition,u.callOptions,u.channel);f.call=_;let x=!1,O=new Error;return _.start(u.metadata,{onReceiveMetadata(R){f.emit("metadata",R)},onReceiveMessage(R){f.push(R)},onReceiveStatus(R){if(!x){if(x=!0,f.push(null),R.code!==Jn.Status.OK){let N=ms(O);f.emit("error",(0,Gr.callErrorFromStatus)(R,N))}O=null,f.emit("status",R)}}}),f}};bp.Client=Av});var Pv=E(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.loadPackageDefinition=ys.makeClientConstructor=void 0;var Ll=Nv(),u9={unary:Ll.Client.prototype.makeUnaryRequest,server_stream:Ll.Client.prototype.makeServerStreamRequest,client_stream:Ll.Client.prototype.makeClientStreamRequest,bidi:Ll.Client.prototype.makeBidiStreamRequest};function Rv(o){return["__proto__","prototype","constructor"].includes(o)}function Sk(o,r,n){n||(n={});class a extends Ll.Client{}return Object.keys(o).forEach(s=>{if(Rv(s))return;let l=o[s],t;if(typeof s=="string"&&s.charAt(0)==="$")throw new Error("Method names cannot start with $");l.requestStream?l.responseStream?t="bidi":t="client_stream":l.responseStream?t="server_stream":t="unary";let e=l.requestSerialize,i=l.responseDeserialize,c=f9(u9[t],l.path,e,i);a.prototype[s]=c,Object.assign(a.prototype[s],l),l.originalName&&!Rv(l.originalName)&&(a.prototype[l.originalName]=a.prototype[s])}),a.service=o,a.serviceName=r,a}ys.makeClientConstructor=Sk;function f9(o,r,n,a){return function(...s){return o.call(this,r,n,a,...s)}}function p9(o){return"format"in o}function d9(o){let r={};for(let n in o)if(Object.prototype.hasOwnProperty.call(o,n)){let a=o[n],s=n.split(".");if(s.some(e=>Rv(e)))continue;let l=s[s.length-1],t=r;for(let e of s.slice(0,-1))t[e]||(t[e]={}),t=t[e];p9(a)?t[l]=a:t[l]=Sk(a,l,{})}return r}ys.loadPackageDefinition=d9});var Gk=E((eTe,qk)=>{var h9=1/0,m9="[object Symbol]",y9=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,S9=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Np="\\ud800-\\udfff",Ak="\\u0300-\\u036f\\ufe20-\\ufe23",Nk="\\u20d0-\\u20f0",xk="\\u2700-\\u27bf",Rk="a-z\\xdf-\\xf6\\xf8-\\xff",v9="\\xac\\xb1\\xd7\\xf7",_9="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",E9="\\u2000-\\u206f",g9=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pk="A-Z\\xc0-\\xd6\\xd8-\\xde",Ck="\\ufe0e\\ufe0f",Ik=v9+_9+E9+g9,Iv="['\u2019]",T9="["+Np+"]",vk="["+Ik+"]",Ap="["+Ak+Nk+"]",wk="\\d+",O9="["+xk+"]",Lk="["+Rk+"]",Mk="[^"+Np+Ik+wk+xk+Rk+Pk+"]",Cv="\\ud83c[\\udffb-\\udfff]",b9="(?:"+Ap+"|"+Cv+")",Uk="[^"+Np+"]",wv="(?:\\ud83c[\\udde6-\\uddff]){2}",Lv="[\\ud800-\\udbff][\\udc00-\\udfff]",Ss="["+Pk+"]",Dk="\\u200d",_k="(?:"+Lk+"|"+Mk+")",A9="(?:"+Ss+"|"+Mk+")",Ek="(?:"+Iv+"(?:d|ll|m|re|s|t|ve))?",gk="(?:"+Iv+"(?:D|LL|M|RE|S|T|VE))?",kk=b9+"?",Vk="["+Ck+"]?",N9="(?:"+Dk+"(?:"+[Uk,wv,Lv].join("|")+")"+Vk+kk+")*",Bk=Vk+kk+N9,x9="(?:"+[O9,wv,Lv].join("|")+")"+Bk,R9="(?:"+[Uk+Ap+"?",Ap,wv,Lv,T9].join("|")+")",P9=RegExp(Iv,"g"),C9=RegExp(Ap,"g"),I9=RegExp(Cv+"(?="+Cv+")|"+R9+Bk,"g"),w9=RegExp([Ss+"?"+Lk+"+"+Ek+"(?="+[vk,Ss,"$"].join("|")+")",A9+"+"+gk+"(?="+[vk,Ss+_k,"$"].join("|")+")",Ss+"?"+_k+"+"+Ek,Ss+"+"+gk,wk,x9].join("|"),"g"),L9=RegExp("["+Dk+Np+Ak+Nk+Ck+"]"),M9=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U9={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},D9=typeof global=="object"&&global&&global.Object===Object&&global,k9=typeof self=="object"&&self&&self.Object===Object&&self,V9=D9||k9||Function("return this")();function B9(o,r,n,a){var s=-1,l=o?o.length:0;for(a&&l&&(n=o[++s]);++s<l;)n=r(n,o[s],s,o);return n}function F9(o){return o.split("")}function q9(o){return o.match(y9)||[]}function G9(o){return function(r){return o==null?void 0:o[r]}}var H9=G9(U9);function Fk(o){return L9.test(o)}function j9(o){return M9.test(o)}function z9(o){return Fk(o)?Y9(o):F9(o)}function Y9(o){return o.match(I9)||[]}function $9(o){return o.match(w9)||[]}var K9=Object.prototype,W9=K9.toString,Tk=V9.Symbol,Ok=Tk?Tk.prototype:void 0,bk=Ok?Ok.toString:void 0;function J9(o,r,n){var a=-1,s=o.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(s);++a<s;)l[a]=o[a+r];return l}function X9(o){if(typeof o=="string")return o;if(rQ(o))return bk?bk.call(o):"";var r=o+"";return r=="0"&&1/o==-h9?"-0":r}function Q9(o,r,n){var a=o.length;return n=n===void 0?a:n,!r&&n>=a?o:J9(o,r,n)}function Z9(o){return function(r){r=xp(r);var n=Fk(r)?z9(r):void 0,a=n?n[0]:r.charAt(0),s=n?Q9(n,1).join(""):r.slice(1);return a[o]()+s}}function eQ(o){return function(r){return B9(aQ(oQ(r).replace(P9,"")),o,"")}}function tQ(o){return!!o&&typeof o=="object"}function rQ(o){return typeof o=="symbol"||tQ(o)&&W9.call(o)==m9}function xp(o){return o==null?"":X9(o)}var nQ=eQ(function(o,r,n){return r=r.toLowerCase(),o+(n?iQ(r):r)});function iQ(o){return sQ(xp(o).toLowerCase())}function oQ(o){return o=xp(o),o&&o.replace(S9,H9).replace(C9,"")}var sQ=Z9("toUpperCase");function aQ(o,r,n){return o=xp(o),r=n?void 0:r,r===void 0?j9(o)?$9(o):q9(o):o.match(r)||[]}qk.exports=nQ});var jk=E((tTe,Hk)=>{"use strict";Hk.exports=Mv;function Mv(o,r){typeof o=="string"&&(r=o,o=void 0);var n=[];function a(l){if(typeof l!="string"){var t=s();if(Mv.verbose&&console.log("codegen: "+t),t="return "+t,l){for(var e=Object.keys(l),i=new Array(e.length+1),c=new Array(e.length),u=0;u<e.length;)i[u]=e[u],c[u]=l[e[u++]];return i[u]=t,Function.apply(null,i).apply(null,c)}return Function(t)()}for(var f=new Array(arguments.length-1),v=0;v<f.length;)f[v]=arguments[++v];if(v=0,l=l.replace(/%([%dfijs])/g,function(x,O){var R=f[v++];switch(O){case"d":case"f":return String(Number(R));case"i":return String(Math.floor(R));case"j":return JSON.stringify(R);case"s":return String(R)}return"%"}),v!==f.length)throw Error("parameter count mismatch");return n.push(l),a}function s(l){return"function "+(l||r||"")+"("+(o&&o.join(",")||"")+`){
  `+n.join(`
  `)+`
}`}return a.toString=s,a}Mv.verbose=!1});var Yk=E((rTe,zk)=>{"use strict";zk.exports=Ml;var lQ=mS(),cQ=yS(),Uv=cQ("fs");function Ml(o,r,n){return typeof r=="function"?(n=r,r={}):r||(r={}),n?!r.xhr&&Uv&&Uv.readFile?Uv.readFile(o,function(s,l){return s&&typeof XMLHttpRequest<"u"?Ml.xhr(o,r,n):s?n(s):n(null,r.binary?l:l.toString("utf8"))}):Ml.xhr(o,r,n):lQ(Ml,this,o,r)}Ml.xhr=function(r,n,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return a(Error("status "+s.status));if(n.binary){var t=s.response;if(!t){t=[];for(var e=0;e<s.responseText.length;++e)t.push(s.responseText.charCodeAt(e)&255)}return a(null,typeof Uint8Array<"u"?new Uint8Array(t):t)}return a(null,s.responseText)}},n.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",r),s.send()}});var Wk=E(Kk=>{"use strict";var kv=Kk,$k=kv.isAbsolute=function(r){return/^(?:\/|\w+:)/.test(r)},Dv=kv.normalize=function(r){r=r.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var n=r.split("/"),a=$k(r),s="";a&&(s=n.shift()+"/");for(var l=0;l<n.length;)n[l]===".."?l>0&&n[l-1]!==".."?n.splice(--l,2):a?n.splice(l,1):++l:n[l]==="."?n.splice(l,1):++l;return s+n.join("/")};kv.resolve=function(r,n,a){return a||(n=Dv(n)),$k(n)?n:(a||(r=Dv(r)),(r=r.replace(/(?:\/|^)[^/]+$/,"")).length?Dv(r+"/"+n):n)}});var Ji=E(Jk=>{"use strict";var Ul=Jk,uQ=it(),fQ=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Dl(o,r){var n=0,a={};for(r|=0;n<o.length;)a[fQ[n+r]]=o[n++];return a}Ul.basic=Dl([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Ul.defaults=Dl([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",uQ.emptyArray,null]);Ul.long=Dl([0,0,0,1,1],7);Ul.mapKey=Dl([0,0,0,5,5,0,0,0,1,1,0,2],2);Ul.packed=Dl([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Xn=E((oTe,Zk)=>{"use strict";Zk.exports=ar;var Rp=Xi();((ar.prototype=Object.create(Rp.prototype)).constructor=ar).className="Field";var Xk=br(),Qk=Ji(),$e=it(),Vv,pQ=/^required|optional|repeated$/;ar.fromJSON=function(r,n){return new ar(r,n.id,n.type,n.rule,n.extend,n.options,n.comment)};function ar(o,r,n,a,s,l,t){if($e.isObject(a)?(t=s,l=a,a=s=void 0):$e.isObject(s)&&(t=l,l=s,s=void 0),Rp.call(this,o,l),!$e.isInteger(r)||r<0)throw TypeError("id must be a non-negative integer");if(!$e.isString(n))throw TypeError("type must be a string");if(a!==void 0&&!pQ.test(a=a.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(s!==void 0&&!$e.isString(s))throw TypeError("extend must be a string");a==="proto3_optional"&&(a="optional"),this.rule=a&&a!=="optional"?a:void 0,this.type=n,this.id=r,this.extend=s||void 0,this.required=a==="required",this.optional=!this.required,this.repeated=a==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=$e.Long?Qk.long[n]!==void 0:!1,this.bytes=n==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=t}Object.defineProperty(ar.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});ar.prototype.setOption=function(r,n,a){return r==="packed"&&(this._packed=null),Rp.prototype.setOption.call(this,r,n,a)};ar.prototype.toJSON=function(r){var n=r?!!r.keepComments:!1;return $e.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])};ar.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Qk.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Vv?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Xk&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Xk))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=$e.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var r;$e.base64.test(this.typeDefault)?$e.base64.decode(this.typeDefault,r=$e.newBuffer($e.base64.length(this.typeDefault)),0):$e.utf8.write(this.typeDefault,r=$e.newBuffer($e.utf8.length(this.typeDefault)),0),this.typeDefault=r}return this.map?this.defaultValue=$e.emptyObject:this.repeated?this.defaultValue=$e.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Vv&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Rp.prototype.resolve.call(this)};ar.d=function(r,n,a,s){return typeof n=="function"?n=$e.decorateType(n).name:n&&typeof n=="object"&&(n=$e.decorateEnum(n).name),function(t,e){$e.decorateType(t.constructor).add(new ar(e,r,n,a,{default:s}))}};ar._configure=function(r){Vv=r}});var vs=E((sTe,r2)=>{"use strict";r2.exports=lr;var Cp=Xi();((lr.prototype=Object.create(Cp.prototype)).constructor=lr).className="OneOf";var e2=Xn(),Pp=it();function lr(o,r,n,a){if(Array.isArray(r)||(n=r,r=void 0),Cp.call(this,o,n),!(r===void 0||Array.isArray(r)))throw TypeError("fieldNames must be an Array");this.oneof=r||[],this.fieldsArray=[],this.comment=a}lr.fromJSON=function(r,n){return new lr(r,n.oneof,n.options,n.comment)};lr.prototype.toJSON=function(r){var n=r?!!r.keepComments:!1;return Pp.toObject(["options",this.options,"oneof",this.oneof,"comment",n?this.comment:void 0])};function t2(o){if(o.parent)for(var r=0;r<o.fieldsArray.length;++r)o.fieldsArray[r].parent||o.parent.add(o.fieldsArray[r])}lr.prototype.add=function(r){if(!(r instanceof e2))throw TypeError("field must be a Field");return r.parent&&r.parent!==this.parent&&r.parent.remove(r),this.oneof.push(r.name),this.fieldsArray.push(r),r.partOf=this,t2(this),this};lr.prototype.remove=function(r){if(!(r instanceof e2))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(r);if(n<0)throw Error(r+" is not a member of "+this);return this.fieldsArray.splice(n,1),n=this.oneof.indexOf(r.name),n>-1&&this.oneof.splice(n,1),r.partOf=null,this};lr.prototype.onAdd=function(r){Cp.prototype.onAdd.call(this,r);for(var n=this,a=0;a<this.oneof.length;++a){var s=r.get(this.oneof[a]);s&&!s.partOf&&(s.partOf=n,n.fieldsArray.push(s))}t2(this)};lr.prototype.onRemove=function(r){for(var n=0,a;n<this.fieldsArray.length;++n)(a=this.fieldsArray[n]).parent&&a.parent.remove(a);Cp.prototype.onRemove.call(this,r)};lr.d=function(){for(var r=new Array(arguments.length),n=0;n<arguments.length;)r[n]=arguments[n++];return function(s,l){Pp.decorateType(s.constructor).add(new lr(l,r)),Object.defineProperty(s,l,{get:Pp.oneOfGetter(r),set:Pp.oneOfSetter(r)})}}});var gs=E((aTe,s2)=>{"use strict";s2.exports=Ae;var Bv=Xi();((Ae.prototype=Object.create(Bv.prototype)).constructor=Ae).className="Namespace";var n2=Xn(),Ip=it(),dQ=vs(),_s,kl,Es;Ae.fromJSON=function(r,n){return new Ae(r,n.options).addJSON(n.nested)};function i2(o,r){if(o&&o.length){for(var n={},a=0;a<o.length;++a)n[o[a].name]=o[a].toJSON(r);return n}}Ae.arrayToJSON=i2;Ae.isReservedId=function(r,n){if(r){for(var a=0;a<r.length;++a)if(typeof r[a]!="string"&&r[a][0]<=n&&r[a][1]>n)return!0}return!1};Ae.isReservedName=function(r,n){if(r){for(var a=0;a<r.length;++a)if(r[a]===n)return!0}return!1};function Ae(o,r){Bv.call(this,o,r),this.nested=void 0,this._nestedArray=null}function o2(o){return o._nestedArray=null,o}Object.defineProperty(Ae.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=Ip.toArray(this.nested))}});Ae.prototype.toJSON=function(r){return Ip.toObject(["options",this.options,"nested",i2(this.nestedArray,r)])};Ae.prototype.addJSON=function(r){var n=this;if(r)for(var a=Object.keys(r),s=0,l;s<a.length;++s)l=r[a[s]],n.add((l.fields!==void 0?_s.fromJSON:l.values!==void 0?Es.fromJSON:l.methods!==void 0?kl.fromJSON:l.id!==void 0?n2.fromJSON:Ae.fromJSON)(a[s],l));return this};Ae.prototype.get=function(r){return this.nested&&this.nested[r]||null};Ae.prototype.getEnum=function(r){if(this.nested&&this.nested[r]instanceof Es)return this.nested[r].values;throw Error("no such enum: "+r)};Ae.prototype.add=function(r){if(!(r instanceof n2&&r.extend!==void 0||r instanceof _s||r instanceof dQ||r instanceof Es||r instanceof kl||r instanceof Ae))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var n=this.get(r.name);if(n)if(n instanceof Ae&&r instanceof Ae&&!(n instanceof _s||n instanceof kl)){for(var a=n.nestedArray,s=0;s<a.length;++s)r.add(a[s]);this.remove(n),this.nested||(this.nested={}),r.setOptions(n.options,!0)}else throw Error("duplicate name '"+r.name+"' in "+this)}return this.nested[r.name]=r,r.onAdd(this),o2(this)};Ae.prototype.remove=function(r){if(!(r instanceof Bv))throw TypeError("object must be a ReflectionObject");if(r.parent!==this)throw Error(r+" is not a member of "+this);return delete this.nested[r.name],Object.keys(this.nested).length||(this.nested=void 0),r.onRemove(this),o2(this)};Ae.prototype.define=function(r,n){if(Ip.isString(r))r=r.split(".");else if(!Array.isArray(r))throw TypeError("illegal path");if(r&&r.length&&r[0]==="")throw Error("path must be relative");for(var a=this;r.length>0;){var s=r.shift();if(a.nested&&a.nested[s]){if(a=a.nested[s],!(a instanceof Ae))throw Error("path conflicts with non-namespace objects")}else a.add(a=new Ae(s))}return n&&a.addJSON(n),a};Ae.prototype.resolveAll=function(){for(var r=this.nestedArray,n=0;n<r.length;)r[n]instanceof Ae?r[n++].resolveAll():r[n++].resolve();return this.resolve()};Ae.prototype.lookup=function(r,n,a){if(typeof n=="boolean"?(a=n,n=void 0):n&&!Array.isArray(n)&&(n=[n]),Ip.isString(r)&&r.length){if(r===".")return this.root;r=r.split(".")}else if(!r.length)return this;if(r[0]==="")return this.root.lookup(r.slice(1),n);var s=this.get(r[0]);if(s){if(r.length===1){if(!n||n.indexOf(s.constructor)>-1)return s}else if(s instanceof Ae&&(s=s.lookup(r.slice(1),n,!0)))return s}else for(var l=0;l<this.nestedArray.length;++l)if(this._nestedArray[l]instanceof Ae&&(s=this._nestedArray[l].lookup(r,n,!0)))return s;return this.parent===null||a?null:this.parent.lookup(r,n)};Ae.prototype.lookupType=function(r){var n=this.lookup(r,[_s]);if(!n)throw Error("no such type: "+r);return n};Ae.prototype.lookupEnum=function(r){var n=this.lookup(r,[Es]);if(!n)throw Error("no such Enum '"+r+"' in "+this);return n};Ae.prototype.lookupTypeOrEnum=function(r){var n=this.lookup(r,[_s,Es]);if(!n)throw Error("no such Type or Enum '"+r+"' in "+this);return n};Ae.prototype.lookupService=function(r){var n=this.lookup(r,[kl]);if(!n)throw Error("no such Service '"+r+"' in "+this);return n};Ae._configure=function(o,r,n){_s=o,kl=r,Es=n}});var wp=E((lTe,a2)=>{"use strict";a2.exports=Sn;var Fv=Xn();((Sn.prototype=Object.create(Fv.prototype)).constructor=Sn).className="MapField";var hQ=Ji(),Vl=it();function Sn(o,r,n,a,s,l){if(Fv.call(this,o,r,a,void 0,void 0,s,l),!Vl.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}Sn.fromJSON=function(r,n){return new Sn(r,n.id,n.keyType,n.type,n.options,n.comment)};Sn.prototype.toJSON=function(r){var n=r?!!r.keepComments:!1;return Vl.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])};Sn.prototype.resolve=function(){if(this.resolved)return this;if(hQ.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Fv.prototype.resolve.call(this)};Sn.d=function(r,n,a){return typeof a=="function"?a=Vl.decorateType(a).name:a&&typeof a=="object"&&(a=Vl.decorateEnum(a).name),function(l,t){Vl.decorateType(l.constructor).add(new Sn(t,r,n,a))}}});var Lp=E((cTe,l2)=>{"use strict";l2.exports=Qi;var qv=Xi();((Qi.prototype=Object.create(qv.prototype)).constructor=Qi).className="Method";var Ts=it();function Qi(o,r,n,a,s,l,t,e,i){if(Ts.isObject(s)?(t=s,s=l=void 0):Ts.isObject(l)&&(t=l,l=void 0),!(r===void 0||Ts.isString(r)))throw TypeError("type must be a string");if(!Ts.isString(n))throw TypeError("requestType must be a string");if(!Ts.isString(a))throw TypeError("responseType must be a string");qv.call(this,o,t),this.type=r||"rpc",this.requestType=n,this.requestStream=s?!0:void 0,this.responseType=a,this.responseStream=l?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=e,this.parsedOptions=i}Qi.fromJSON=function(r,n){return new Qi(r,n.type,n.requestType,n.responseType,n.requestStream,n.responseStream,n.options,n.comment,n.parsedOptions)};Qi.prototype.toJSON=function(r){var n=r?!!r.keepComments:!1;return Ts.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",n?this.comment:void 0,"parsedOptions",this.parsedOptions])};Qi.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),qv.prototype.resolve.call(this))}});var Mp=E((uTe,u2)=>{"use strict";u2.exports=cr;var Qn=gs();((cr.prototype=Object.create(Qn.prototype)).constructor=cr).className="Service";var Gv=Lp(),Bl=it(),mQ=RS();function cr(o,r){Qn.call(this,o,r),this.methods={},this._methodsArray=null}cr.fromJSON=function(r,n){var a=new cr(r,n.options);if(n.methods)for(var s=Object.keys(n.methods),l=0;l<s.length;++l)a.add(Gv.fromJSON(s[l],n.methods[s[l]]));return n.nested&&a.addJSON(n.nested),a.comment=n.comment,a};cr.prototype.toJSON=function(r){var n=Qn.prototype.toJSON.call(this,r),a=r?!!r.keepComments:!1;return Bl.toObject(["options",n&&n.options||void 0,"methods",Qn.arrayToJSON(this.methodsArray,r)||{},"nested",n&&n.nested||void 0,"comment",a?this.comment:void 0])};Object.defineProperty(cr.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Bl.toArray(this.methods))}});function c2(o){return o._methodsArray=null,o}cr.prototype.get=function(r){return this.methods[r]||Qn.prototype.get.call(this,r)};cr.prototype.resolveAll=function(){for(var r=this.methodsArray,n=0;n<r.length;++n)r[n].resolve();return Qn.prototype.resolve.call(this)};cr.prototype.add=function(r){if(this.get(r.name))throw Error("duplicate name '"+r.name+"' in "+this);return r instanceof Gv?(this.methods[r.name]=r,r.parent=this,c2(this)):Qn.prototype.add.call(this,r)};cr.prototype.remove=function(r){if(r instanceof Gv){if(this.methods[r.name]!==r)throw Error(r+" is not a member of "+this);return delete this.methods[r.name],r.parent=null,c2(this)}return Qn.prototype.remove.call(this,r)};cr.prototype.create=function(r,n,a){for(var s=new mQ.Service(r,n,a),l=0,t;l<this.methodsArray.length;++l){var e=Bl.lcFirst((t=this._methodsArray[l]).resolve().name).replace(/[^$\w_]/g,"");s[e]=Bl.codegen(["r","c"],Bl.isReserved(e)?e+"_":e)("return this.rpcCall(m,q,s,r,c)")({m:t,q:t.resolvedRequestType.ctor,s:t.resolvedResponseType.ctor})}return s}});var Up=E((fTe,f2)=>{"use strict";f2.exports=Hr;var yQ=kr();function Hr(o){if(o)for(var r=Object.keys(o),n=0;n<r.length;++n)this[r[n]]=o[r[n]]}Hr.create=function(r){return this.$type.create(r)};Hr.encode=function(r,n){return this.$type.encode(r,n)};Hr.encodeDelimited=function(r,n){return this.$type.encodeDelimited(r,n)};Hr.decode=function(r){return this.$type.decode(r)};Hr.decodeDelimited=function(r){return this.$type.decodeDelimited(r)};Hr.verify=function(r){return this.$type.verify(r)};Hr.fromObject=function(r){return this.$type.fromObject(r)};Hr.toObject=function(r,n){return this.$type.toObject(r,n)};Hr.prototype.toJSON=function(){return this.$type.toObject(this,yQ.toJSONOptions)}});var Hv=E((pTe,d2)=>{"use strict";d2.exports=_Q;var SQ=br(),vn=Ji(),p2=it();function vQ(o){return"missing required '"+o.name+"'"}function _Q(o){var r=p2.codegen(["r","l"],o.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(o.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");o.group&&r("if((t&7)===4)")("break"),r("switch(t>>>3){");for(var n=0;n<o.fieldsArray.length;++n){var a=o._fieldsArray[n].resolve(),s=a.resolvedType instanceof SQ?"int32":a.type,l="m"+p2.safeProp(a.name);r("case %i: {",a.id),a.map?(r("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),vn.defaults[a.keyType]!==void 0?r("k=%j",vn.defaults[a.keyType]):r("k=null"),vn.defaults[s]!==void 0?r("value=%j",vn.defaults[s]):r("value=null"),r("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),vn.basic[s]===void 0?r("value=types[%i].decode(r,r.uint32())",n):r("value=r.%s()",s),r("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),vn.long[a.keyType]!==void 0?r('%s[typeof k==="object"?util.longToHash(k):k]=value',l):r("%s[k]=value",l)):a.repeated?(r("if(!(%s&&%s.length))",l,l)("%s=[]",l),vn.packed[s]!==void 0&&r("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,s)("}else"),vn.basic[s]===void 0?r(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):r("%s.push(r.%s())",l,s)):vn.basic[s]===void 0?r(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):r("%s=r.%s()",l,s),r("break")("}")}for(r("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<o._fieldsArray.length;++n){var t=o._fieldsArray[n];t.required&&r("if(!m.hasOwnProperty(%j))",t.name)("throw util.ProtocolError(%j,{instance:m})",vQ(t))}return r("return m")}});var Yv=E((dTe,h2)=>{"use strict";h2.exports=TQ;var EQ=br(),jv=it();function ur(o,r){return o.name+": "+r+(o.repeated&&r!=="array"?"[]":o.map&&r!=="object"?"{k:"+o.keyType+"}":"")+" expected"}function zv(o,r,n,a){if(r.resolvedType)if(r.resolvedType instanceof EQ){o("switch(%s){",a)("default:")("return%j",ur(r,"enum value"));for(var s=Object.keys(r.resolvedType.values),l=0;l<s.length;++l)o("case %i:",r.resolvedType.values[s[l]]);o("break")("}")}else o("{")("var e=types[%i].verify(%s);",n,a)("if(e)")("return%j+e",r.name+".")("}");else switch(r.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.isInteger(%s))",a)("return%j",ur(r,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",a,a,a,a)("return%j",ur(r,"integer|Long"));break;case"float":case"double":o('if(typeof %s!=="number")',a)("return%j",ur(r,"number"));break;case"bool":o('if(typeof %s!=="boolean")',a)("return%j",ur(r,"boolean"));break;case"string":o("if(!util.isString(%s))",a)("return%j",ur(r,"string"));break;case"bytes":o('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',a,a,a)("return%j",ur(r,"buffer"));break}return o}function gQ(o,r,n){switch(r.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.key32Re.test(%s))",n)("return%j",ur(r,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.key64Re.test(%s))",n)("return%j",ur(r,"integer|Long key"));break;case"bool":o("if(!util.key2Re.test(%s))",n)("return%j",ur(r,"boolean key"));break}return o}function TQ(o){var r=jv.codegen(["m"],o.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=o.oneofsArray,a={};n.length&&r("var p={}");for(var s=0;s<o.fieldsArray.length;++s){var l=o._fieldsArray[s].resolve(),t="m"+jv.safeProp(l.name);if(l.optional&&r("if(%s!=null&&m.hasOwnProperty(%j)){",t,l.name),l.map)r("if(!util.isObject(%s))",t)("return%j",ur(l,"object"))("var k=Object.keys(%s)",t)("for(var i=0;i<k.length;++i){"),gQ(r,l,"k[i]"),zv(r,l,s,t+"[k[i]]")("}");else if(l.repeated)r("if(!Array.isArray(%s))",t)("return%j",ur(l,"array"))("for(var i=0;i<%s.length;++i){",t),zv(r,l,s,t+"[i]")("}");else{if(l.partOf){var e=jv.safeProp(l.partOf.name);a[l.partOf.name]===1&&r("if(p%s===1)",e)("return%j",l.partOf.name+": multiple values"),a[l.partOf.name]=1,r("p%s=1",e)}zv(r,l,s,t)}l.optional&&r("}")}return r("return null")}});var Wv=E(y2=>{"use strict";var m2=y2,Fl=br(),jr=it();function $v(o,r,n,a){var s=!1;if(r.resolvedType)if(r.resolvedType instanceof Fl){o("switch(d%s){",a);for(var l=r.resolvedType.values,t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]===r.typeDefault&&!s&&(o("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',a,a,a),r.repeated||o("break"),s=!0),o("case%j:",t[e])("case %i:",l[t[e]])("m%s=%j",a,l[t[e]])("break");o("}")}else o('if(typeof d%s!=="object")',a)("throw TypeError(%j)",r.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",a,n,a);else{var i=!1;switch(r.type){case"double":case"float":o("m%s=Number(d%s)",a,a);break;case"uint32":case"fixed32":o("m%s=d%s>>>0",a,a);break;case"int32":case"sint32":case"sfixed32":o("m%s=d%s|0",a,a);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",a,a,i)('else if(typeof d%s==="string")',a)("m%s=parseInt(d%s,10)",a,a)('else if(typeof d%s==="number")',a)("m%s=d%s",a,a)('else if(typeof d%s==="object")',a)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",a,a,a,i?"true":"");break;case"bytes":o('if(typeof d%s==="string")',a)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",a,a,a)("else if(d%s.length >= 0)",a)("m%s=d%s",a,a);break;case"string":o("m%s=String(d%s)",a,a);break;case"bool":o("m%s=Boolean(d%s)",a,a);break}}return o}m2.fromObject=function(r){var n=r.fieldsArray,a=jr.codegen(["d"],r.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!n.length)return a("return new this.ctor");a("var m=new this.ctor");for(var s=0;s<n.length;++s){var l=n[s].resolve(),t=jr.safeProp(l.name);l.map?(a("if(d%s){",t)('if(typeof d%s!=="object")',t)("throw TypeError(%j)",l.fullName+": object expected")("m%s={}",t)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",t),$v(a,l,s,t+"[ks[i]]")("}")("}")):l.repeated?(a("if(d%s){",t)("if(!Array.isArray(d%s))",t)("throw TypeError(%j)",l.fullName+": array expected")("m%s=[]",t)("for(var i=0;i<d%s.length;++i){",t),$v(a,l,s,t+"[i]")("}")("}")):(l.resolvedType instanceof Fl||a("if(d%s!=null){",t),$v(a,l,s,t),l.resolvedType instanceof Fl||a("}"))}return a("return m")};function Kv(o,r,n,a){if(r.resolvedType)r.resolvedType instanceof Fl?o("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",a,n,a,a,n,a,a):o("d%s=types[%i].toObject(m%s,o)",a,n,a);else{var s=!1;switch(r.type){case"double":case"float":o("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",a,a,a,a);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o('if(typeof m%s==="number")',a)("d%s=o.longs===String?String(m%s):m%s",a,a,a)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",a,a,a,a,s?"true":"",a);break;case"bytes":o("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",a,a,a,a,a);break;default:o("d%s=m%s",a,a);break}}return o}m2.toObject=function(r){var n=r.fieldsArray.slice().sort(jr.compareFieldsById);if(!n.length)return jr.codegen()("return {}");for(var a=jr.codegen(["m","o"],r.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],l=[],t=[],e=0;e<n.length;++e)n[e].partOf||(n[e].resolve().repeated?s:n[e].map?l:t).push(n[e]);if(s.length){for(a("if(o.arrays||o.defaults){"),e=0;e<s.length;++e)a("d%s=[]",jr.safeProp(s[e].name));a("}")}if(l.length){for(a("if(o.objects||o.defaults){"),e=0;e<l.length;++e)a("d%s={}",jr.safeProp(l[e].name));a("}")}if(t.length){for(a("if(o.defaults){"),e=0;e<t.length;++e){var i=t[e],c=jr.safeProp(i.name);if(i.resolvedType instanceof Fl)a("d%s=o.enums===String?%j:%j",c,i.resolvedType.valuesById[i.typeDefault],i.typeDefault);else if(i.long)a("if(util.Long){")("var n=new util.Long(%i,%i,%j)",i.typeDefault.low,i.typeDefault.high,i.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,i.typeDefault.toString(),i.typeDefault.toNumber());else if(i.bytes){var u="["+Array.prototype.slice.call(i.typeDefault).join(",")+"]";a("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,i.typeDefault))("else{")("d%s=%s",c,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else a("d%s=%j",c,i.typeDefault)}a("}")}var f=!1;for(e=0;e<n.length;++e){var i=n[e],v=r._fieldsArray.indexOf(i),c=jr.safeProp(i.name);i.map?(f||(f=!0,a("var ks2")),a("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),Kv(a,i,v,c+"[ks2[j]]")("}")):i.repeated?(a("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),Kv(a,i,v,c+"[j]")("}")):(a("if(m%s!=null&&m.hasOwnProperty(%j)){",c,i.name),Kv(a,i,v,c),i.partOf&&a("if(o.oneofs)")("d%s=%j",jr.safeProp(i.partOf.name),i.name)),a("}")}return a("return d")}});var Jv=E(S2=>{"use strict";var OQ=S2,bQ=Up();OQ[".google.protobuf.Any"]={fromObject:function(o){if(o&&o["@type"]){var r=o["@type"].substring(o["@type"].lastIndexOf("/")+1),n=this.lookup(r);if(n){var a=o["@type"].charAt(0)==="."?o["@type"].slice(1):o["@type"];return a.indexOf("/")===-1&&(a="/"+a),this.create({type_url:a,value:n.encode(n.fromObject(o)).finish()})}}return this.fromObject(o)},toObject:function(o,r){var n="type.googleapis.com/",a="",s="";if(r&&r.json&&o.type_url&&o.value){s=o.type_url.substring(o.type_url.lastIndexOf("/")+1),a=o.type_url.substring(0,o.type_url.lastIndexOf("/")+1);var l=this.lookup(s);l&&(o=l.decode(o.value))}if(!(o instanceof this.ctor)&&o instanceof bQ){var t=o.$type.toObject(o,r),e=o.$type.fullName[0]==="."?o.$type.fullName.slice(1):o.$type.fullName;return a===""&&(a=n),s=a+e,t["@type"]=s,t}return this.toObject(o,r)}}});var Vp=E((yTe,_2)=>{"use strict";_2.exports=Ce;var Ar=gs();((Ce.prototype=Object.create(Ar.prototype)).constructor=Ce).className="Type";var AQ=br(),Zv=vs(),Dp=Xn(),NQ=wp(),xQ=Mp(),Xv=Up(),Qv=ep(),RQ=Qf(),_t=it(),PQ=e_(),CQ=Hv(),IQ=Yv(),v2=Wv(),wQ=Jv();function Ce(o,r){Ar.call(this,o,r),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Ce.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var o=Object.keys(this.fields),r=0;r<o.length;++r){var n=this.fields[o[r]],a=n.id;if(this._fieldsById[a])throw Error("duplicate id "+a+" in "+this);this._fieldsById[a]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=_t.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=_t.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Ce.generateConstructor(this)())},set:function(o){var r=o.prototype;r instanceof Xv||((o.prototype=new Xv).constructor=o,_t.merge(o.prototype,r)),o.$type=o.prototype.$type=this,_t.merge(o,Xv,!0),this._ctor=o;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var a={};for(n=0;n<this.oneofsArray.length;++n)a[this._oneofsArray[n].resolve().name]={get:_t.oneOfGetter(this._oneofsArray[n].oneof),set:_t.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(o.prototype,a)}}});Ce.generateConstructor=function(r){for(var n=_t.codegen(["p"],r.name),a=0,s;a<r.fieldsArray.length;++a)(s=r._fieldsArray[a]).map?n("this%s={}",_t.safeProp(s.name)):s.repeated&&n("this%s=[]",_t.safeProp(s.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function kp(o){return o._fieldsById=o._fieldsArray=o._oneofsArray=null,delete o.encode,delete o.decode,delete o.verify,o}Ce.fromJSON=function(r,n){var a=new Ce(r,n.options);a.extensions=n.extensions,a.reserved=n.reserved;for(var s=Object.keys(n.fields),l=0;l<s.length;++l)a.add((typeof n.fields[s[l]].keyType<"u"?NQ.fromJSON:Dp.fromJSON)(s[l],n.fields[s[l]]));if(n.oneofs)for(s=Object.keys(n.oneofs),l=0;l<s.length;++l)a.add(Zv.fromJSON(s[l],n.oneofs[s[l]]));if(n.nested)for(s=Object.keys(n.nested),l=0;l<s.length;++l){var t=n.nested[s[l]];a.add((t.id!==void 0?Dp.fromJSON:t.fields!==void 0?Ce.fromJSON:t.values!==void 0?AQ.fromJSON:t.methods!==void 0?xQ.fromJSON:Ar.fromJSON)(s[l],t))}return n.extensions&&n.extensions.length&&(a.extensions=n.extensions),n.reserved&&n.reserved.length&&(a.reserved=n.reserved),n.group&&(a.group=!0),n.comment&&(a.comment=n.comment),a};Ce.prototype.toJSON=function(r){var n=Ar.prototype.toJSON.call(this,r),a=r?!!r.keepComments:!1;return _t.toObject(["options",n&&n.options||void 0,"oneofs",Ar.arrayToJSON(this.oneofsArray,r),"fields",Ar.arrayToJSON(this.fieldsArray.filter(function(s){return!s.declaringField}),r)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",n&&n.nested||void 0,"comment",a?this.comment:void 0])};Ce.prototype.resolveAll=function(){for(var r=this.fieldsArray,n=0;n<r.length;)r[n++].resolve();var a=this.oneofsArray;for(n=0;n<a.length;)a[n++].resolve();return Ar.prototype.resolveAll.call(this)};Ce.prototype.get=function(r){return this.fields[r]||this.oneofs&&this.oneofs[r]||this.nested&&this.nested[r]||null};Ce.prototype.add=function(r){if(this.get(r.name))throw Error("duplicate name '"+r.name+"' in "+this);if(r instanceof Dp&&r.extend===void 0){if(this._fieldsById?this._fieldsById[r.id]:this.fieldsById[r.id])throw Error("duplicate id "+r.id+" in "+this);if(this.isReservedId(r.id))throw Error("id "+r.id+" is reserved in "+this);if(this.isReservedName(r.name))throw Error("name '"+r.name+"' is reserved in "+this);return r.parent&&r.parent.remove(r),this.fields[r.name]=r,r.message=this,r.onAdd(this),kp(this)}return r instanceof Zv?(this.oneofs||(this.oneofs={}),this.oneofs[r.name]=r,r.onAdd(this),kp(this)):Ar.prototype.add.call(this,r)};Ce.prototype.remove=function(r){if(r instanceof Dp&&r.extend===void 0){if(!this.fields||this.fields[r.name]!==r)throw Error(r+" is not a member of "+this);return delete this.fields[r.name],r.parent=null,r.onRemove(this),kp(this)}if(r instanceof Zv){if(!this.oneofs||this.oneofs[r.name]!==r)throw Error(r+" is not a member of "+this);return delete this.oneofs[r.name],r.parent=null,r.onRemove(this),kp(this)}return Ar.prototype.remove.call(this,r)};Ce.prototype.isReservedId=function(r){return Ar.isReservedId(this.reserved,r)};Ce.prototype.isReservedName=function(r){return Ar.isReservedName(this.reserved,r)};Ce.prototype.create=function(r){return new this.ctor(r)};Ce.prototype.setup=function(){for(var r=this.fullName,n=[],a=0;a<this.fieldsArray.length;++a)n.push(this._fieldsArray[a].resolve().resolvedType);this.encode=PQ(this)({Writer:RQ,types:n,util:_t}),this.decode=CQ(this)({Reader:Qv,types:n,util:_t}),this.verify=IQ(this)({types:n,util:_t}),this.fromObject=v2.fromObject(this)({types:n,util:_t}),this.toObject=v2.toObject(this)({types:n,util:_t});var s=wQ[r];if(s){var l=Object.create(this);l.fromObject=this.fromObject,this.fromObject=s.fromObject.bind(l),l.toObject=this.toObject,this.toObject=s.toObject.bind(l)}return this};Ce.prototype.encode=function(r,n){return this.setup().encode(r,n)};Ce.prototype.encodeDelimited=function(r,n){return this.encode(r,n&&n.len?n.fork():n).ldelim()};Ce.prototype.decode=function(r,n){return this.setup().decode(r,n)};Ce.prototype.decodeDelimited=function(r){return r instanceof Qv||(r=Qv.create(r)),this.decode(r,r.uint32())};Ce.prototype.verify=function(r){return this.setup().verify(r)};Ce.prototype.fromObject=function(r){return this.setup().fromObject(r)};Ce.prototype.toObject=function(r,n){return this.setup().toObject(r,n)};Ce.d=function(r){return function(a){_t.decorateType(a,r)}}});var qp=E((STe,b2)=>{"use strict";b2.exports=Gt;var Fp=gs();((Gt.prototype=Object.create(Fp.prototype)).constructor=Gt).className="Root";var r_=Xn(),g2=br(),LQ=vs(),Zn=it(),T2,t_,ql;function Gt(o){Fp.call(this,"",o),this.deferred=[],this.files=[]}Gt.fromJSON=function(r,n){return n||(n=new Gt),r.options&&n.setOptions(r.options),n.addJSON(r.nested)};Gt.prototype.resolvePath=Zn.path.resolve;Gt.prototype.fetch=Zn.fetch;function O2(){}Gt.prototype.load=function o(r,n,a){typeof n=="function"&&(a=n,n=void 0);var s=this;if(!a)return Zn.asPromise(o,s,r,n);var l=a===O2;function t(_,x){if(a){if(l)throw _;var O=a;a=null,O(_,x)}}function e(_){var x=_.lastIndexOf("google/protobuf/");if(x>-1){var O=_.substring(x);if(O in ql)return O}return null}function i(_,x){try{if(Zn.isString(x)&&x.charAt(0)==="{"&&(x=JSON.parse(x)),!Zn.isString(x))s.setOptions(x.options).addJSON(x.nested);else{t_.filename=_;var O=t_(x,s,n),R,N=0;if(O.imports)for(;N<O.imports.length;++N)(R=e(O.imports[N])||s.resolvePath(_,O.imports[N]))&&c(R);if(O.weakImports)for(N=0;N<O.weakImports.length;++N)(R=e(O.weakImports[N])||s.resolvePath(_,O.weakImports[N]))&&c(R,!0)}}catch(C){t(C)}!l&&!u&&t(null,s)}function c(_,x){if(_=e(_)||_,!(s.files.indexOf(_)>-1)){if(s.files.push(_),_ in ql){l?i(_,ql[_]):(++u,setTimeout(function(){--u,i(_,ql[_])}));return}if(l){var O;try{O=Zn.fs.readFileSync(_).toString("utf8")}catch(R){x||t(R);return}i(_,O)}else++u,s.fetch(_,function(R,N){if(--u,!!a){if(R){x?u||t(null,s):t(R);return}i(_,N)}})}}var u=0;Zn.isString(r)&&(r=[r]);for(var f=0,v;f<r.length;++f)(v=s.resolvePath("",r[f]))&&c(v);if(l)return s;u||t(null,s)};Gt.prototype.loadSync=function(r,n){if(!Zn.isNode)throw Error("not supported");return this.load(r,n,O2)};Gt.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(r){return"'extend "+r.extend+"' in "+r.parent.fullName}).join(", "));return Fp.prototype.resolveAll.call(this)};var Bp=/^[A-Z]/;function E2(o,r){var n=r.parent.lookup(r.extend);if(n){var a=new r_(r.fullName,r.id,r.type,r.rule,void 0,r.options);return n.get(a.name)||(a.declaringField=r,r.extensionField=a,n.add(a)),!0}return!1}Gt.prototype._handleAdd=function(r){if(r instanceof r_)r.extend!==void 0&&!r.extensionField&&(E2(this,r)||this.deferred.push(r));else if(r instanceof g2)Bp.test(r.name)&&(r.parent[r.name]=r.values);else if(!(r instanceof LQ)){if(r instanceof T2)for(var n=0;n<this.deferred.length;)E2(this,this.deferred[n])?this.deferred.splice(n,1):++n;for(var a=0;a<r.nestedArray.length;++a)this._handleAdd(r._nestedArray[a]);Bp.test(r.name)&&(r.parent[r.name]=r)}};Gt.prototype._handleRemove=function(r){if(r instanceof r_){if(r.extend!==void 0)if(r.extensionField)r.extensionField.parent.remove(r.extensionField),r.extensionField=null;else{var n=this.deferred.indexOf(r);n>-1&&this.deferred.splice(n,1)}}else if(r instanceof g2)Bp.test(r.name)&&delete r.parent[r.name];else if(r instanceof Fp){for(var a=0;a<r.nestedArray.length;++a)this._handleRemove(r._nestedArray[a]);Bp.test(r.name)&&delete r.parent[r.name]}};Gt._configure=function(o,r,n){T2=o,t_=r,ql=n}});var it=E((vTe,N2)=>{"use strict";var ze=N2.exports=kr(),A2=PS(),n_,i_;ze.codegen=jk();ze.fetch=Yk();ze.path=Wk();ze.fs=ze.inquire("fs");ze.toArray=function(r){if(r){for(var n=Object.keys(r),a=new Array(n.length),s=0;s<n.length;)a[s]=r[n[s++]];return a}return[]};ze.toObject=function(r){for(var n={},a=0;a<r.length;){var s=r[a++],l=r[a++];l!==void 0&&(n[s]=l)}return n};var MQ=/\\/g,UQ=/"/g;ze.isReserved=function(r){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(r)};ze.safeProp=function(r){return!/^[$\w_]+$/.test(r)||ze.isReserved(r)?'["'+r.replace(MQ,"\\\\").replace(UQ,'\\"')+'"]':"."+r};ze.ucFirst=function(r){return r.charAt(0).toUpperCase()+r.substring(1)};var DQ=/_([a-z])/g;ze.camelCase=function(r){return r.substring(0,1)+r.substring(1).replace(DQ,function(n,a){return a.toUpperCase()})};ze.compareFieldsById=function(r,n){return r.id-n.id};ze.decorateType=function(r,n){if(r.$type)return n&&r.$type.name!==n&&(ze.decorateRoot.remove(r.$type),r.$type.name=n,ze.decorateRoot.add(r.$type)),r.$type;n_||(n_=Vp());var a=new n_(n||r.name);return ze.decorateRoot.add(a),a.ctor=r,Object.defineProperty(r,"$type",{value:a,enumerable:!1}),Object.defineProperty(r.prototype,"$type",{value:a,enumerable:!1}),a};var kQ=0;ze.decorateEnum=function(r){if(r.$type)return r.$type;i_||(i_=br());var n=new i_("Enum"+kQ++,r);return ze.decorateRoot.add(n),Object.defineProperty(r,"$type",{value:n,enumerable:!1}),n};ze.setProperty=function(r,n,a){function s(l,t,e){var i=t.shift();if(i==="__proto__"||i==="prototype")return l;if(t.length>0)l[i]=s(l[i]||{},t,e);else{var c=l[i];c&&(e=[].concat(c).concat(e)),l[i]=e}return l}if(typeof r!="object")throw TypeError("dst must be an object");if(!n)throw TypeError("path must be specified");return n=n.split("."),s(r,n,a)};Object.defineProperty(ze,"decorateRoot",{get:function(){return A2.decorated||(A2.decorated=new(qp()))}})});var Xi=E((_Te,x2)=>{"use strict";x2.exports=Ht;Ht.className="ReflectionObject";var Gp=it(),Hp;function Ht(o,r){if(!Gp.isString(o))throw TypeError("name must be a string");if(r&&!Gp.isObject(r))throw TypeError("options must be an object");this.options=r,this.parsedOptions=null,this.name=o,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Ht.prototype,{root:{get:function(){for(var o=this;o.parent!==null;)o=o.parent;return o}},fullName:{get:function(){for(var o=[this.name],r=this.parent;r;)o.unshift(r.name),r=r.parent;return o.join(".")}}});Ht.prototype.toJSON=function(){throw Error()};Ht.prototype.onAdd=function(r){this.parent&&this.parent!==r&&this.parent.remove(this),this.parent=r,this.resolved=!1;var n=r.root;n instanceof Hp&&n._handleAdd(this)};Ht.prototype.onRemove=function(r){var n=r.root;n instanceof Hp&&n._handleRemove(this),this.parent=null,this.resolved=!1};Ht.prototype.resolve=function(){return this.resolved?this:(this.root instanceof Hp&&(this.resolved=!0),this)};Ht.prototype.getOption=function(r){if(this.options)return this.options[r]};Ht.prototype.setOption=function(r,n,a){return(!a||!this.options||this.options[r]===void 0)&&((this.options||(this.options={}))[r]=n),this};Ht.prototype.setParsedOption=function(r,n,a){this.parsedOptions||(this.parsedOptions=[]);var s=this.parsedOptions;if(a){var l=s.find(function(i){return Object.prototype.hasOwnProperty.call(i,r)});if(l){var t=l[r];Gp.setProperty(t,a,n)}else l={},l[r]=Gp.setProperty({},a,n),s.push(l)}else{var e={};e[r]=n,s.push(e)}return this};Ht.prototype.setOptions=function(r,n){if(r)for(var a=Object.keys(r),s=0;s<a.length;++s)this.setOption(a[s],r[a[s]],n);return this};Ht.prototype.toString=function(){var r=this.constructor.className,n=this.fullName;return n.length?r+" "+n:r};Ht._configure=function(o){Hp=o}});var br=E((ETe,C2)=>{"use strict";C2.exports=zr;var R2=Xi();((zr.prototype=Object.create(R2.prototype)).constructor=zr).className="Enum";var P2=gs(),jp=it();function zr(o,r,n,a,s,l){if(R2.call(this,o,n),r&&typeof r!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=a,this.comments=s||{},this.valuesOptions=l,this.reserved=void 0,r)for(var t=Object.keys(r),e=0;e<t.length;++e)typeof r[t[e]]=="number"&&(this.valuesById[this.values[t[e]]=r[t[e]]]=t[e])}zr.fromJSON=function(r,n){var a=new zr(r,n.values,n.options,n.comment,n.comments);return a.reserved=n.reserved,a};zr.prototype.toJSON=function(r){var n=r?!!r.keepComments:!1;return jp.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",n?this.comment:void 0,"comments",n?this.comments:void 0])};zr.prototype.add=function(r,n,a,s){if(!jp.isString(r))throw TypeError("name must be a string");if(!jp.isInteger(n))throw TypeError("id must be an integer");if(this.values[r]!==void 0)throw Error("duplicate name '"+r+"' in "+this);if(this.isReservedId(n))throw Error("id "+n+" is reserved in "+this);if(this.isReservedName(r))throw Error("name '"+r+"' is reserved in "+this);if(this.valuesById[n]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+n+" in "+this);this.values[r]=n}else this.valuesById[this.values[r]=n]=r;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[r]=s||null),this.comments[r]=a||null,this};zr.prototype.remove=function(r){if(!jp.isString(r))throw TypeError("name must be a string");var n=this.values[r];if(n==null)throw Error("name '"+r+"' does not exist in "+this);return delete this.valuesById[n],delete this.values[r],delete this.comments[r],this.valuesOptions&&delete this.valuesOptions[r],this};zr.prototype.isReservedId=function(r){return P2.isReservedId(this.reserved,r)};zr.prototype.isReservedName=function(r){return P2.isReservedName(this.reserved,r)}});var e_=E((gTe,w2)=>{"use strict";w2.exports=BQ;var VQ=br(),o_=Ji(),s_=it();function I2(o,r,n,a){return r.resolvedType.group?o("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,a,(r.id<<3|3)>>>0,(r.id<<3|4)>>>0):o("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,a,(r.id<<3|2)>>>0)}function BQ(o){for(var r=s_.codegen(["m","w"],o.name+"$encode")("if(!w)")("w=Writer.create()"),n,a,s=o.fieldsArray.slice().sort(s_.compareFieldsById),n=0;n<s.length;++n){var l=s[n].resolve(),t=o._fieldsArray.indexOf(l),e=l.resolvedType instanceof VQ?"int32":l.type,i=o_.basic[e];a="m"+s_.safeProp(l.name),l.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",a,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",a)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|o_.mapKey[l.keyType],l.keyType),i===void 0?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",t,a):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|i,e,a),r("}")("}")):l.repeated?(r("if(%s!=null&&%s.length){",a,a),l.packed&&o_.packed[e]!==void 0?r("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",a)("w.%s(%s[i])",e,a)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",a),i===void 0?I2(r,l,t,a+"[i]"):r("w.uint32(%i).%s(%s[i])",(l.id<<3|i)>>>0,e,a)),r("}")):(l.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",a,l.name),i===void 0?I2(r,l,t,a):r("w.uint32(%i).%s(%s)",(l.id<<3|i)>>>0,e,a))}return r("return w")}});var M2=E((TTe,L2)=>{"use strict";var _e=L2.exports=CS();_e.build="light";function FQ(o,r,n){return typeof r=="function"?(n=r,r=new _e.Root):r||(r=new _e.Root),r.load(o,n)}_e.load=FQ;function qQ(o,r){return r||(r=new _e.Root),r.loadSync(o)}_e.loadSync=qQ;_e.encoder=e_();_e.decoder=Hv();_e.verifier=Yv();_e.converter=Wv();_e.ReflectionObject=Xi();_e.Namespace=gs();_e.Root=qp();_e.Enum=br();_e.Type=Vp();_e.Field=Xn();_e.OneOf=vs();_e.MapField=wp();_e.Service=Mp();_e.Method=Lp();_e.Message=Up();_e.wrappers=Jv();_e.types=Ji();_e.util=it();_e.ReflectionObject._configure(_e.Root);_e.Namespace._configure(_e.Type,_e.Service,_e.Enum);_e.Root._configure(_e.Type);_e.Field._configure(_e.Type)});var l_=E((OTe,k2)=>{"use strict";k2.exports=D2;var a_=/[\s{}=;:[\],'"()<>]/g,GQ=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,HQ=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,jQ=/^ *[*/]+ */,zQ=/^\s*\*?\/*/,YQ=/\n/g,$Q=/\s/,KQ=/\\(.?)/g,WQ={0:"\0",r:"\r",n:`
`,t:"	"};function U2(o){return o.replace(KQ,function(r,n){switch(n){case"\\":case"":return n;default:return WQ[n]||""}})}D2.unescape=U2;function D2(o,r){o=o.toString();var n=0,a=o.length,s=1,l=0,t={},e=[],i=null;function c(M){return Error("illegal "+M+" (line "+s+")")}function u(){var M=i==="'"?HQ:GQ;M.lastIndex=n-1;var K=M.exec(o);if(!K)throw c("string");return n=M.lastIndex,R(i),i=null,U2(K[1])}function f(M){return o.charAt(M)}function v(M,K,$){var j={type:o.charAt(M++),lineEmpty:!1,leading:$},ce;r?ce=2:ce=3;var ne=M-ce,de;do if(--ne<0||(de=o.charAt(ne))===`
`){j.lineEmpty=!0;break}while(de===" "||de==="	");for(var b=o.substring(M,K).split(YQ),G=0;G<b.length;++G)b[G]=b[G].replace(r?zQ:jQ,"").trim();j.text=b.join(`
`).trim(),t[s]=j,l=s}function _(M){var K=x(M),$=o.substring(M,K),j=/^\s*\/\//.test($);return j}function x(M){for(var K=M;K<a&&f(K)!==`
`;)K++;return K}function O(){if(e.length>0)return e.shift();if(i)return u();var M,K,$,j,ce,ne=n===0;do{if(n===a)return null;for(M=!1;$Q.test($=f(n));)if($===`
`&&(ne=!0,++s),++n===a)return null;if(f(n)==="/"){if(++n===a)throw c("comment");if(f(n)==="/")if(r){if(j=n,ce=!1,_(n-1)){ce=!0;do if(n=x(n),n===a||(n++,!ne))break;while(_(n))}else n=Math.min(a,x(n)+1);ce&&(v(j,n,ne),ne=!0),s++,M=!0}else{for(ce=f(j=n+1)==="/";f(++n)!==`
`;)if(n===a)return null;++n,ce&&(v(j,n-1,ne),ne=!0),++s,M=!0}else if(($=f(n))==="*"){j=n+1,ce=r||f(j)==="*";do{if($===`
`&&++s,++n===a)throw c("comment");K=$,$=f(n)}while(K!=="*"||$!=="/");++n,ce&&(v(j,n-2,ne),ne=!0),M=!0}else return"/"}}while(M);var de=n;a_.lastIndex=0;var b=a_.test(f(de++));if(!b)for(;de<a&&!a_.test(f(de));)++de;var G=o.substring(n,n=de);return(G==='"'||G==="'")&&(i=G),G}function R(M){e.push(M)}function N(){if(!e.length){var M=O();if(M===null)return null;R(M)}return e[0]}function C(M,K){var $=N(),j=$===M;if(j)return O(),!0;if(!K)throw c("token '"+$+"', '"+M+"' expected");return!1}function D(M){var K=null,$;return M===void 0?($=t[s-1],delete t[s-1],$&&(r||$.type==="*"||$.lineEmpty)&&(K=$.leading?$.text:null)):(l<M&&N(),$=t[M],delete t[M],$&&!$.lineEmpty&&(r||$.type==="/")&&(K=$.leading?null:$.text)),K}return Object.defineProperty({next:O,peek:N,push:R,skip:C,cmnt:D},"line",{get:function(){return s}})}});var H2=E((bTe,G2)=>{"use strict";G2.exports=_n;_n.filename=null;_n.defaults={keepCase:!1};var JQ=l_(),V2=qp(),B2=Vp(),F2=Xn(),XQ=wp(),q2=vs(),QQ=br(),ZQ=Mp(),eZ=Lp(),c_=Ji(),u_=it(),tZ=/^[1-9][0-9]*$/,rZ=/^-?[1-9][0-9]*$/,nZ=/^0[x][0-9a-fA-F]+$/,iZ=/^-?0[x][0-9a-fA-F]+$/,oZ=/^0[0-7]+$/,sZ=/^-?0[0-7]+$/,aZ=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Yr=/^[a-zA-Z_][a-zA-Z_0-9]*$/,$r=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,lZ=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function _n(o,r,n){r instanceof V2||(n=r,r=new V2),n||(n=_n.defaults);var a=n.preferTrailingComment||!1,s=JQ(o,n.alternateCommentMode||!1),l=s.next,t=s.push,e=s.peek,i=s.skip,c=s.cmnt,u=!0,f,v,_,x,O=!1,R=r,N=n.keepCase?function(w){return w}:u_.camelCase;function C(w,I,U){var Y=_n.filename;return U||(_n.filename=null),Error("illegal "+(I||"token")+" '"+w+"' ("+(Y?Y+", ":"")+"line "+s.line+")")}function D(){var w=[],I;do{if((I=l())!=='"'&&I!=="'")throw C(I);w.push(l()),i(I),I=e()}while(I==='"'||I==="'");return w.join("")}function M(w){var I=l();switch(I){case"'":case'"':return t(I),D();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return $(I,!0)}catch{if(w&&$r.test(I))return I;throw C(I,"value")}}function K(w,I){var U,Y;do I&&((U=e())==='"'||U==="'")?w.push(D()):w.push([Y=j(l()),i("to",!0)?j(l()):Y]);while(i(",",!0));var H={options:void 0};H.setOption=function(le,Ve){this.options===void 0&&(this.options={}),this.options[le]=Ve},G(H,function(Ve){if(Ve==="option")ye(H,Ve),i(";");else throw C(Ve)},function(){Fe(H)})}function $(w,I){var U=1;switch(w.charAt(0)==="-"&&(U=-1,w=w.substring(1)),w){case"inf":case"INF":case"Inf":return U*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(tZ.test(w))return U*parseInt(w,10);if(nZ.test(w))return U*parseInt(w,16);if(oZ.test(w))return U*parseInt(w,8);if(aZ.test(w))return U*parseFloat(w);throw C(w,"number",I)}function j(w,I){switch(w){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!I&&w.charAt(0)==="-")throw C(w,"id");if(rZ.test(w))return parseInt(w,10);if(iZ.test(w))return parseInt(w,16);if(sZ.test(w))return parseInt(w,8);throw C(w,"id")}function ce(){if(f!==void 0)throw C("package");if(f=l(),!$r.test(f))throw C(f,"name");R=R.define(f),i(";")}function ne(){var w=e(),I;switch(w){case"weak":I=_||(_=[]),l();break;case"public":l();default:I=v||(v=[]);break}w=D(),i(";"),I.push(w)}function de(){if(i("="),x=D(),O=x==="proto3",!O&&x!=="proto2")throw C(x,"syntax");i(";")}function b(w,I){switch(I){case"option":return ye(w,I),i(";"),!0;case"message":return P(w,I),!0;case"enum":return Q(w,I),!0;case"service":return Re(w,I),!0;case"extend":return dt(w,I),!0}return!1}function G(w,I,U){var Y=s.line;if(w&&(typeof w.comment!="string"&&(w.comment=c()),w.filename=_n.filename),i("{",!0)){for(var H;(H=l())!=="}";)I(H);i(";",!0)}else U&&U(),i(";"),w&&(typeof w.comment!="string"||a)&&(w.comment=c(Y)||w.comment)}function P(w,I){if(!Yr.test(I=l()))throw C(I,"type name");var U=new B2(I);G(U,function(H){if(!b(U,H))switch(H){case"map":te(U,H);break;case"required":case"repeated":S(U,H);break;case"optional":O?S(U,"proto3_optional"):S(U,"optional");break;case"oneof":re(U,H);break;case"extensions":K(U.extensions||(U.extensions=[]));break;case"reserved":K(U.reserved||(U.reserved=[]),!0);break;default:if(!O||!$r.test(H))throw C(H);t(H),S(U,"optional");break}}),w.add(U)}function S(w,I,U){var Y=l();if(Y==="group"){L(w,I);return}for(;Y.endsWith(".")||e().startsWith(".");)Y+=l();if(!$r.test(Y))throw C(Y,"type");var H=l();if(!Yr.test(H))throw C(H,"name");H=N(H),i("=");var le=new F2(H,j(l()),Y,I,U);if(G(le,function(Dt){if(Dt==="option")ye(le,Dt),i(";");else throw C(Dt)},function(){Fe(le)}),I==="proto3_optional"){var Ve=new q2("_"+H);le.setOption("proto3_optional",!0),Ve.add(le),w.add(Ve)}else w.add(le);!O&&le.repeated&&(c_.packed[Y]!==void 0||c_.basic[Y]===void 0)&&le.setOption("packed",!1,!0)}function L(w,I){var U=l();if(!Yr.test(U))throw C(U,"name");var Y=u_.lcFirst(U);U===Y&&(U=u_.ucFirst(U)),i("=");var H=j(l()),le=new B2(U);le.group=!0;var Ve=new F2(Y,H,U,I);Ve.filename=_n.filename,G(le,function(Dt){switch(Dt){case"option":ye(le,Dt),i(";");break;case"required":case"repeated":S(le,Dt);break;case"optional":O?S(le,"proto3_optional"):S(le,"optional");break;case"message":P(le,Dt);break;case"enum":Q(le,Dt);break;default:throw C(Dt)}}),w.add(le).add(Ve)}function te(w){i("<");var I=l();if(c_.mapKey[I]===void 0)throw C(I,"type");i(",");var U=l();if(!$r.test(U))throw C(U,"type");i(">");var Y=l();if(!Yr.test(Y))throw C(Y,"name");i("=");var H=new XQ(N(Y),j(l()),I,U);G(H,function(Ve){if(Ve==="option")ye(H,Ve),i(";");else throw C(Ve)},function(){Fe(H)}),w.add(H)}function re(w,I){if(!Yr.test(I=l()))throw C(I,"name");var U=new q2(N(I));G(U,function(H){H==="option"?(ye(U,H),i(";")):(t(H),S(U,"optional"))}),w.add(U)}function Q(w,I){if(!Yr.test(I=l()))throw C(I,"name");var U=new QQ(I);G(U,function(H){switch(H){case"option":ye(U,H),i(";");break;case"reserved":K(U.reserved||(U.reserved=[]),!0);break;default:me(U,H)}}),w.add(U)}function me(w,I){if(!Yr.test(I))throw C(I,"name");i("=");var U=j(l(),!0),Y={options:void 0};Y.setOption=function(H,le){this.options===void 0&&(this.options={}),this.options[H]=le},G(Y,function(le){if(le==="option")ye(Y,le),i(";");else throw C(le)},function(){Fe(Y)}),w.add(I,U,Y.comment,Y.options)}function ye(w,I){var U=i("(",!0);if(!$r.test(I=l()))throw C(I,"name");var Y=I,H=Y,le;U&&(i(")"),Y="("+Y+")",H=Y,I=e(),lZ.test(I)&&(le=I.slice(1),Y+=I,l())),i("=");var Ve=ke(w,Y);fe(w,H,Ve,le)}function ke(w,I){if(i("{",!0)){for(var U={};!i("}",!0);){if(!Yr.test(Ge=l()))throw C(Ge,"name");if(Ge===null)throw C(Ge,"end of input");var Y,H=Ge;if(i(":",!0),e()==="{")Y=ke(w,I+"."+Ge);else if(e()==="["){Y=[];var le;if(i("[",!0)){do le=M(!0),Y.push(le);while(i(",",!0));i("]"),typeof le<"u"&&Ne(w,I+"."+Ge,le)}}else Y=M(!0),Ne(w,I+"."+Ge,Y);var Ve=U[H];Ve&&(Y=[].concat(Ve).concat(Y)),U[H]=Y,i(",",!0),i(";",!0)}return U}var bn=M(!0);return Ne(w,I,bn),bn}function Ne(w,I,U){w.setOption&&w.setOption(I,U)}function fe(w,I,U,Y){w.setParsedOption&&w.setParsedOption(I,U,Y)}function Fe(w){if(i("[",!0)){do ye(w,"option");while(i(",",!0));i("]")}return w}function Re(w,I){if(!Yr.test(I=l()))throw C(I,"service name");var U=new ZQ(I);G(U,function(H){if(!b(U,H))if(H==="rpc")qe(U,H);else throw C(H)}),w.add(U)}function qe(w,I){var U=c(),Y=I;if(!Yr.test(I=l()))throw C(I,"name");var H=I,le,Ve,bn,Dt;if(i("("),i("stream",!0)&&(Ve=!0),!$r.test(I=l())||(le=I,i(")"),i("returns"),i("("),i("stream",!0)&&(Dt=!0),!$r.test(I=l())))throw C(I);bn=I,i(")");var cc=new eZ(H,Y,le,bn,Ve,Dt);cc.comment=U,G(cc,function(oh){if(oh==="option")ye(cc,oh),i(";");else throw C(oh)}),w.add(cc)}function dt(w,I){if(!$r.test(I=l()))throw C(I,"reference");var U=I;G(null,function(H){switch(H){case"required":case"repeated":S(w,H,U);break;case"optional":O?S(w,"proto3_optional",U):S(w,"optional",U);break;default:if(!O||!$r.test(H))throw C(H);t(H),S(w,"optional",U);break}})}for(var Ge;(Ge=l())!==null;)switch(Ge){case"package":if(!u)throw C(Ge);ce();break;case"import":if(!u)throw C(Ge);ne();break;case"syntax":if(!u)throw C(Ge);de();break;case"option":ye(R,Ge),i(";");break;default:if(b(R,Ge)){u=!1;continue}throw C(Ge)}return _n.filename=null,{package:f,imports:v,weakImports:_,syntax:x,root:r}}});var Y2=E((ATe,z2)=>{"use strict";z2.exports=Nr;var cZ=/\/|\./;function Nr(o,r){cZ.test(o)||(o="google/protobuf/"+o+".proto",r={nested:{google:{nested:{protobuf:{nested:r}}}}}),Nr[o]=r}Nr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var j2;Nr("duration",{Duration:j2={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Nr("timestamp",{Timestamp:j2});Nr("empty",{Empty:{fields:{}}});Nr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Nr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Nr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Nr.get=function(r){return Nr[r]||null}});var K2=E((NTe,$2)=>{"use strict";var ei=$2.exports=M2();ei.build="full";ei.tokenize=l_();ei.parse=H2();ei.common=Y2();ei.Root._configure(ei.Type,ei.parse,ei.common)});var zp=E((xTe,W2)=>{"use strict";W2.exports=K2()});var f_=E((RTe,uZ)=>{uZ.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var eV=E((pe,Z2)=>{"use strict";var xt=zp();Z2.exports=pe=xt.descriptor=xt.Root.fromJSON(f_()).lookup(".google.protobuf");var J2=xt.Namespace,Gl=xt.Root,En=xt.Enum,ti=xt.Type,ri=xt.Field,fZ=xt.MapField,Yp=xt.OneOf,Hl=xt.Service,$p=xt.Method;Gl.fromDescriptor=function(r){typeof r.length=="number"&&(r=pe.FileDescriptorSet.decode(r));var n=new Gl;if(r.file)for(var a,s,l=0,t;l<r.file.length;++l){if(s=n,(a=r.file[l]).package&&a.package.length&&(s=n.define(a.package)),a.name&&a.name.length&&n.files.push(s.filename=a.name),a.messageType)for(t=0;t<a.messageType.length;++t)s.add(ti.fromDescriptor(a.messageType[t],a.syntax));if(a.enumType)for(t=0;t<a.enumType.length;++t)s.add(En.fromDescriptor(a.enumType[t]));if(a.extension)for(t=0;t<a.extension.length;++t)s.add(ri.fromDescriptor(a.extension[t]));if(a.service)for(t=0;t<a.service.length;++t)s.add(Hl.fromDescriptor(a.service[t]));var e=Os(a.options,pe.FileOptions);if(e){var i=Object.keys(e);for(t=0;t<i.length;++t)s.setOption(i[t],e[i[t]])}}return n};Gl.prototype.toDescriptor=function(r){var n=pe.FileDescriptorSet.create();return X2(this,n.file,r),n};function X2(o,r,n){var a=pe.FileDescriptorProto.create({name:o.filename||(o.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(a.syntax=n),o instanceof Gl||(a.package=o.fullName.substring(1));for(var s=0,l;s<o.nestedArray.length;++s)(l=o._nestedArray[s])instanceof ti?a.messageType.push(l.toDescriptor(n)):l instanceof En?a.enumType.push(l.toDescriptor()):l instanceof ri?a.extension.push(l.toDescriptor(n)):l instanceof Hl?a.service.push(l.toDescriptor()):l instanceof J2&&X2(l,r,n);a.options=bs(o.options,pe.FileOptions),a.messageType.length+a.enumType.length+a.extension.length+a.service.length&&r.push(a)}var pZ=0;ti.fromDescriptor=function(r,n){typeof r.length=="number"&&(r=pe.DescriptorProto.decode(r));var a=new ti(r.name.length?r.name:"Type"+pZ++,Os(r.options,pe.MessageOptions)),s;if(r.oneofDecl)for(s=0;s<r.oneofDecl.length;++s)a.add(Yp.fromDescriptor(r.oneofDecl[s]));if(r.field)for(s=0;s<r.field.length;++s){var l=ri.fromDescriptor(r.field[s],n);a.add(l),r.field[s].hasOwnProperty("oneofIndex")&&a.oneofsArray[r.field[s].oneofIndex].add(l)}if(r.extension)for(s=0;s<r.extension.length;++s)a.add(ri.fromDescriptor(r.extension[s],n));if(r.nestedType)for(s=0;s<r.nestedType.length;++s)a.add(ti.fromDescriptor(r.nestedType[s],n)),r.nestedType[s].options&&r.nestedType[s].options.mapEntry&&a.setOption("map_entry",!0);if(r.enumType)for(s=0;s<r.enumType.length;++s)a.add(En.fromDescriptor(r.enumType[s]));if(r.extensionRange&&r.extensionRange.length)for(a.extensions=[],s=0;s<r.extensionRange.length;++s)a.extensions.push([r.extensionRange[s].start,r.extensionRange[s].end]);if(r.reservedRange&&r.reservedRange.length||r.reservedName&&r.reservedName.length){if(a.reserved=[],r.reservedRange)for(s=0;s<r.reservedRange.length;++s)a.reserved.push([r.reservedRange[s].start,r.reservedRange[s].end]);if(r.reservedName)for(s=0;s<r.reservedName.length;++s)a.reserved.push(r.reservedName[s])}return a};ti.prototype.toDescriptor=function(r){var n=pe.DescriptorProto.create({name:this.name}),a;for(a=0;a<this.fieldsArray.length;++a){var s;if(n.field.push(s=this._fieldsArray[a].toDescriptor(r)),this._fieldsArray[a]instanceof fZ){var l=p_(this._fieldsArray[a].keyType,this._fieldsArray[a].resolvedKeyType),t=p_(this._fieldsArray[a].type,this._fieldsArray[a].resolvedType),e=t===11||t===14?this._fieldsArray[a].resolvedType&&Q2(this.parent,this._fieldsArray[a].resolvedType)||this._fieldsArray[a].type:void 0;n.nestedType.push(pe.DescriptorProto.create({name:s.typeName,field:[pe.FieldDescriptorProto.create({name:"key",number:1,label:1,type:l}),pe.FieldDescriptorProto.create({name:"value",number:2,label:1,type:t,typeName:e})],options:pe.MessageOptions.create({mapEntry:!0})}))}}for(a=0;a<this.oneofsArray.length;++a)n.oneofDecl.push(this._oneofsArray[a].toDescriptor());for(a=0;a<this.nestedArray.length;++a)this._nestedArray[a]instanceof ri?n.field.push(this._nestedArray[a].toDescriptor(r)):this._nestedArray[a]instanceof ti?n.nestedType.push(this._nestedArray[a].toDescriptor(r)):this._nestedArray[a]instanceof En&&n.enumType.push(this._nestedArray[a].toDescriptor());if(this.extensions)for(a=0;a<this.extensions.length;++a)n.extensionRange.push(pe.DescriptorProto.ExtensionRange.create({start:this.extensions[a][0],end:this.extensions[a][1]}));if(this.reserved)for(a=0;a<this.reserved.length;++a)typeof this.reserved[a]=="string"?n.reservedName.push(this.reserved[a]):n.reservedRange.push(pe.DescriptorProto.ReservedRange.create({start:this.reserved[a][0],end:this.reserved[a][1]}));return n.options=bs(this.options,pe.MessageOptions),n};var dZ=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;ri.fromDescriptor=function(r,n){if(typeof r.length=="number"&&(r=pe.DescriptorProto.decode(r)),typeof r.number!="number")throw Error("missing field id");var a;r.typeName&&r.typeName.length?a=r.typeName:a=vZ(r.type);var s;switch(r.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+r.label)}var l=r.extendee;r.extendee!==void 0&&(l=l.length?l:void 0);var t=new ri(r.name.length?r.name:"field"+r.number,r.number,a,s,l);if(t.options=Os(r.options,pe.FieldOptions),r.defaultValue&&r.defaultValue.length){var e=r.defaultValue;switch(e){case"true":case"TRUE":e=!0;break;case"false":case"FALSE":e=!1;break;default:var i=dZ.exec(e);i&&(e=parseInt(e));break}t.setOption("default",e)}return _Z(r.type)&&(n==="proto3"?r.options&&!r.options.packed&&t.setOption("packed",!1):r.options&&r.options.packed||t.setOption("packed",!1)),t};ri.prototype.toDescriptor=function(r){var n=pe.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)n.type=11,n.typeName=xt.util.ucFirst(this.name),n.label=3;else{switch(n.type=p_(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:n.typeName=this.resolvedType?Q2(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":n.label=3;break;case"required":n.label=2;break;default:n.label=1;break}}if(n.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(n.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(n.options=bs(this.options,pe.FieldOptions),this.options.default!=null&&(n.defaultValue=String(this.options.default))),r==="proto3"?this.packed||((n.options||(n.options=pe.FieldOptions.create())).packed=!1):this.packed&&((n.options||(n.options=pe.FieldOptions.create())).packed=!0),n};var hZ=0;En.fromDescriptor=function(r){typeof r.length=="number"&&(r=pe.EnumDescriptorProto.decode(r));var n={};if(r.value)for(var a=0;a<r.value.length;++a){var s=r.value[a].name,l=r.value[a].number||0;n[s&&s.length?s:"NAME"+l]=l}return new En(r.name&&r.name.length?r.name:"Enum"+hZ++,n,Os(r.options,pe.EnumOptions))};En.prototype.toDescriptor=function(){for(var r=[],n=0,a=Object.keys(this.values);n<a.length;++n)r.push(pe.EnumValueDescriptorProto.create({name:a[n],number:this.values[a[n]]}));return pe.EnumDescriptorProto.create({name:this.name,value:r,options:bs(this.options,pe.EnumOptions)})};var mZ=0;Yp.fromDescriptor=function(r){return typeof r.length=="number"&&(r=pe.OneofDescriptorProto.decode(r)),new Yp(r.name&&r.name.length?r.name:"oneof"+mZ++)};Yp.prototype.toDescriptor=function(){return pe.OneofDescriptorProto.create({name:this.name})};var yZ=0;Hl.fromDescriptor=function(r){typeof r.length=="number"&&(r=pe.ServiceDescriptorProto.decode(r));var n=new Hl(r.name&&r.name.length?r.name:"Service"+yZ++,Os(r.options,pe.ServiceOptions));if(r.method)for(var a=0;a<r.method.length;++a)n.add($p.fromDescriptor(r.method[a]));return n};Hl.prototype.toDescriptor=function(){for(var r=[],n=0;n<this.methodsArray.length;++n)r.push(this._methodsArray[n].toDescriptor());return pe.ServiceDescriptorProto.create({name:this.name,method:r,options:bs(this.options,pe.ServiceOptions)})};var SZ=0;$p.fromDescriptor=function(r){return typeof r.length=="number"&&(r=pe.MethodDescriptorProto.decode(r)),new $p(r.name&&r.name.length?r.name:"Method"+SZ++,"rpc",r.inputType,r.outputType,!!r.clientStreaming,!!r.serverStreaming,Os(r.options,pe.MethodOptions))};$p.prototype.toDescriptor=function(){return pe.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:bs(this.options,pe.MethodOptions)})};function vZ(o){switch(o){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+o)}function _Z(o){switch(o){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function p_(o,r){switch(o){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(r instanceof En)return 14;if(r instanceof ti)return r.group?10:11;throw Error("illegal type: "+o)}function Os(o,r){if(o){for(var n=[],a=0,s,l,t;a<r.fieldsArray.length;++a)(l=(s=r._fieldsArray[a]).name)!=="uninterpretedOption"&&o.hasOwnProperty(l)&&(t=o[l],s.resolvedType instanceof En&&typeof t=="number"&&s.resolvedType.valuesById[t]!==void 0&&(t=s.resolvedType.valuesById[t]),n.push(EZ(l),t));return n.length?xt.util.toObject(n):void 0}}function bs(o,r){if(o){for(var n=[],a=0,s=Object.keys(o),l,t;a<s.length;++a)if(t=o[l=s[a]],l!=="default"){var e=r.fields[l];!e&&!(e=r.fields[l=xt.util.camelCase(l)])||n.push(l,t)}return n.length?r.fromObject(xt.util.toObject(n)):void 0}}function Q2(o,r){var n=o.fullName.split("."),a=r.fullName.split("."),s=0,l=0,t=a.length-1;if(!(o instanceof Gl)&&r instanceof J2)for(;s<n.length&&l<t&&n[s]===a[l];){var e=r.lookup(n[s++],!0);if(e!==null&&e!==r)break;++l}else for(;s<n.length&&l<t&&n[s]===a[l];++s,++l);return a.slice(l).join(".")}function EZ(o){return o.substring(0,1)+o.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(r,n){return"_"+n.toLowerCase()})}});var tV=E((PTe,gZ)=>{gZ.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var rV=E((CTe,TZ)=>{TZ.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var nV=E((ITe,OZ)=>{OZ.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var aV=E(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.addCommonProtos=ni.loadProtosWithOptionsSync=ni.loadProtosWithOptions=void 0;var iV=B("fs"),oV=B("path"),As=zp();function sV(o,r){let n=o.resolvePath;o.resolvePath=(a,s)=>{if(oV.isAbsolute(s))return s;for(let l of r){let t=oV.join(l,s);try{return iV.accessSync(t,iV.constants.R_OK),t}catch{continue}}return process.emitWarning(`${s} not found in any of the include paths ${r}`),n(a,s)}}async function bZ(o,r){let n=new As.Root;if(r=r||{},r.includeDirs){if(!Array.isArray(r.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));sV(n,r.includeDirs)}let a=await n.load(o,r);return a.resolveAll(),a}ni.loadProtosWithOptions=bZ;function AZ(o,r){let n=new As.Root;if(r=r||{},r.includeDirs){if(!Array.isArray(r.includeDirs))throw new Error("The includeDirs option must be an array");sV(n,r.includeDirs)}let a=n.loadSync(o,r);return a.resolveAll(),a}ni.loadProtosWithOptionsSync=AZ;function NZ(){let o=tV(),r=f_(),n=rV(),a=nV();As.common("api",o.nested.google.nested.protobuf.nested),As.common("descriptor",r.nested.google.nested.protobuf.nested),As.common("source_context",n.nested.google.nested.protobuf.nested),As.common("type",a.nested.google.nested.protobuf.nested)}ni.addCommonProtos=NZ});var uV=E((cV,d_)=>{var lV=function(o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(P,S,L){this.low=P|0,this.high=S|0,this.unsigned=!!L}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0});function a(P){return(P&&P.__isLong__)===!0}function s(P){var S=Math.clz32(P&-P);return P?31-S:S}n.isLong=a;var l={},t={};function e(P,S){var L,te,re;return S?(P>>>=0,(re=0<=P&&P<256)&&(te=t[P],te)?te:(L=c(P,0,!0),re&&(t[P]=L),L)):(P|=0,(re=-128<=P&&P<128)&&(te=l[P],te)?te:(L=c(P,P<0?-1:0,!1),re&&(l[P]=L),L))}n.fromInt=e;function i(P,S){if(isNaN(P))return S?M:D;if(S){if(P<0)return M;if(P>=R)return ne}else{if(P<=-N)return de;if(P+1>=N)return ce}return P<0?i(-P,S).neg():c(P%O|0,P/O|0,S)}n.fromNumber=i;function c(P,S,L){return new n(P,S,L)}n.fromBits=c;var u=Math.pow;function f(P,S,L){if(P.length===0)throw Error("empty string");if(typeof S=="number"?(L=S,S=!1):S=!!S,P==="NaN"||P==="Infinity"||P==="+Infinity"||P==="-Infinity")return S?M:D;if(L=L||10,L<2||36<L)throw RangeError("radix");var te;if((te=P.indexOf("-"))>0)throw Error("interior hyphen");if(te===0)return f(P.substring(1),S,L).neg();for(var re=i(u(L,8)),Q=D,me=0;me<P.length;me+=8){var ye=Math.min(8,P.length-me),ke=parseInt(P.substring(me,me+ye),L);if(ye<8){var Ne=i(u(L,ye));Q=Q.mul(Ne).add(i(ke))}else Q=Q.mul(re),Q=Q.add(i(ke))}return Q.unsigned=S,Q}n.fromString=f;function v(P,S){return typeof P=="number"?i(P,S):typeof P=="string"?f(P,S):c(P.low,P.high,typeof S=="boolean"?S:P.unsigned)}n.fromValue=v;var _=65536,x=1<<24,O=_*_,R=O*O,N=R/2,C=e(x),D=e(0);n.ZERO=D;var M=e(0,!0);n.UZERO=M;var K=e(1);n.ONE=K;var $=e(1,!0);n.UONE=$;var j=e(-1);n.NEG_ONE=j;var ce=c(-1,2147483647,!1);n.MAX_VALUE=ce;var ne=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=ne;var de=c(0,-2147483648,!1);n.MIN_VALUE=de;var b=n.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*O+(this.low>>>0):this.high*O+(this.low>>>0)},b.toString=function(S){if(S=S||10,S<2||36<S)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(de)){var L=i(S),te=this.div(L),re=te.mul(L).sub(this);return te.toString(S)+re.toInt().toString(S)}else return"-"+this.neg().toString(S);for(var Q=i(u(S,6),this.unsigned),me=this,ye="";;){var ke=me.div(Q),Ne=me.sub(ke.mul(Q)).toInt()>>>0,fe=Ne.toString(S);if(me=ke,me.isZero())return fe+ye;for(;fe.length<6;)fe="0"+fe;ye=""+fe+ye}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(de)?64:this.neg().getNumBitsAbs();for(var S=this.high!=0?this.high:this.low,L=31;L>0&&!(S&1<<L);L--);return this.high!=0?L+33:L+1},b.isZero=function(){return this.high===0&&this.low===0},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return(this.low&1)===1},b.isEven=function(){return(this.low&1)===0},b.equals=function(S){return a(S)||(S=v(S)),this.unsigned!==S.unsigned&&this.high>>>31===1&&S.high>>>31===1?!1:this.high===S.high&&this.low===S.low},b.eq=b.equals,b.notEquals=function(S){return!this.eq(S)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(S){return this.comp(S)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(S){return this.comp(S)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(S){return this.comp(S)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(S){return this.comp(S)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(S){if(a(S)||(S=v(S)),this.eq(S))return 0;var L=this.isNegative(),te=S.isNegative();return L&&!te?-1:!L&&te?1:this.unsigned?S.high>>>0>this.high>>>0||S.high===this.high&&S.low>>>0>this.low>>>0?-1:1:this.sub(S).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(de)?de:this.not().add(K)},b.neg=b.negate,b.add=function(S){a(S)||(S=v(S));var L=this.high>>>16,te=this.high&65535,re=this.low>>>16,Q=this.low&65535,me=S.high>>>16,ye=S.high&65535,ke=S.low>>>16,Ne=S.low&65535,fe=0,Fe=0,Re=0,qe=0;return qe+=Q+Ne,Re+=qe>>>16,qe&=65535,Re+=re+ke,Fe+=Re>>>16,Re&=65535,Fe+=te+ye,fe+=Fe>>>16,Fe&=65535,fe+=L+me,fe&=65535,c(Re<<16|qe,fe<<16|Fe,this.unsigned)},b.subtract=function(S){return a(S)||(S=v(S)),this.add(S.neg())},b.sub=b.subtract,b.multiply=function(S){if(this.isZero())return this;if(a(S)||(S=v(S)),r){var L=r.mul(this.low,this.high,S.low,S.high);return c(L,r.get_high(),this.unsigned)}if(S.isZero())return this.unsigned?M:D;if(this.eq(de))return S.isOdd()?de:D;if(S.eq(de))return this.isOdd()?de:D;if(this.isNegative())return S.isNegative()?this.neg().mul(S.neg()):this.neg().mul(S).neg();if(S.isNegative())return this.mul(S.neg()).neg();if(this.lt(C)&&S.lt(C))return i(this.toNumber()*S.toNumber(),this.unsigned);var te=this.high>>>16,re=this.high&65535,Q=this.low>>>16,me=this.low&65535,ye=S.high>>>16,ke=S.high&65535,Ne=S.low>>>16,fe=S.low&65535,Fe=0,Re=0,qe=0,dt=0;return dt+=me*fe,qe+=dt>>>16,dt&=65535,qe+=Q*fe,Re+=qe>>>16,qe&=65535,qe+=me*Ne,Re+=qe>>>16,qe&=65535,Re+=re*fe,Fe+=Re>>>16,Re&=65535,Re+=Q*Ne,Fe+=Re>>>16,Re&=65535,Re+=me*ke,Fe+=Re>>>16,Re&=65535,Fe+=te*fe+re*Ne+Q*ke+me*ye,Fe&=65535,c(qe<<16|dt,Fe<<16|Re,this.unsigned)},b.mul=b.multiply,b.divide=function(S){if(a(S)||(S=v(S)),S.isZero())throw Error("division by zero");if(r){if(!this.unsigned&&this.high===-2147483648&&S.low===-1&&S.high===-1)return this;var L=(this.unsigned?r.div_u:r.div_s)(this.low,this.high,S.low,S.high);return c(L,r.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?M:D;var te,re,Q;if(this.unsigned){if(S.unsigned||(S=S.toUnsigned()),S.gt(this))return M;if(S.gt(this.shru(1)))return $;Q=M}else{if(this.eq(de)){if(S.eq(K)||S.eq(j))return de;if(S.eq(de))return K;var me=this.shr(1);return te=me.div(S).shl(1),te.eq(D)?S.isNegative()?K:j:(re=this.sub(S.mul(te)),Q=te.add(re.div(S)),Q)}else if(S.eq(de))return this.unsigned?M:D;if(this.isNegative())return S.isNegative()?this.neg().div(S.neg()):this.neg().div(S).neg();if(S.isNegative())return this.div(S.neg()).neg();Q=D}for(re=this;re.gte(S);){te=Math.max(1,Math.floor(re.toNumber()/S.toNumber()));for(var ye=Math.ceil(Math.log(te)/Math.LN2),ke=ye<=48?1:u(2,ye-48),Ne=i(te),fe=Ne.mul(S);fe.isNegative()||fe.gt(re);)te-=ke,Ne=i(te,this.unsigned),fe=Ne.mul(S);Ne.isZero()&&(Ne=K),Q=Q.add(Ne),re=re.sub(fe)}return Q},b.div=b.divide,b.modulo=function(S){if(a(S)||(S=v(S)),r){var L=(this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,S.low,S.high);return c(L,r.get_high(),this.unsigned)}return this.sub(this.div(S).mul(S))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return c(~this.low,~this.high,this.unsigned)},b.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},b.clz=b.countLeadingZeros,b.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},b.ctz=b.countTrailingZeros,b.and=function(S){return a(S)||(S=v(S)),c(this.low&S.low,this.high&S.high,this.unsigned)},b.or=function(S){return a(S)||(S=v(S)),c(this.low|S.low,this.high|S.high,this.unsigned)},b.xor=function(S){return a(S)||(S=v(S)),c(this.low^S.low,this.high^S.high,this.unsigned)},b.shiftLeft=function(S){return a(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?c(this.low<<S,this.high<<S|this.low>>>32-S,this.unsigned):c(0,this.low<<S-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(S){return a(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?c(this.low>>>S|this.high<<32-S,this.high>>S,this.unsigned):c(this.high>>S-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(S){return a(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?c(this.low>>>S|this.high<<32-S,this.high>>>S,this.unsigned):S===32?c(this.high,0,this.unsigned):c(this.high>>>S-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.rotateLeft=function(S){var L;return a(S)&&(S=S.toInt()),(S&=63)===0?this:S===32?c(this.high,this.low,this.unsigned):S<32?(L=32-S,c(this.low<<S|this.high>>>L,this.high<<S|this.low>>>L,this.unsigned)):(S-=32,L=32-S,c(this.high<<S|this.low>>>L,this.low<<S|this.high>>>L,this.unsigned))},b.rotl=b.rotateLeft,b.rotateRight=function(S){var L;return a(S)&&(S=S.toInt()),(S&=63)===0?this:S===32?c(this.high,this.low,this.unsigned):S<32?(L=32-S,c(this.high<<L|this.low>>>S,this.low<<L|this.high>>>S,this.unsigned)):(S-=32,L=32-S,c(this.low<<L|this.high>>>S,this.high<<L|this.low>>>S,this.unsigned))},b.rotr=b.rotateRight,b.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},b.toBytes=function(S){return S?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var S=this.high,L=this.low;return[L&255,L>>>8&255,L>>>16&255,L>>>24,S&255,S>>>8&255,S>>>16&255,S>>>24]},b.toBytesBE=function(){var S=this.high,L=this.low;return[S>>>24,S>>>16&255,S>>>8&255,S&255,L>>>24,L>>>16&255,L>>>8&255,L&255]},n.fromBytes=function(S,L,te){return te?n.fromBytesLE(S,L):n.fromBytesBE(S,L)},n.fromBytesLE=function(S,L){return new n(S[0]|S[1]<<8|S[2]<<16|S[3]<<24,S[4]|S[5]<<8|S[6]<<16|S[7]<<24,L)},n.fromBytesBE=function(S,L){return new n(S[4]<<24|S[5]<<16|S[6]<<8|S[7],S[0]<<24|S[1]<<16|S[2]<<8|S[3],L)};var G=n;return o.default=G,"default"in o?o.default:o}({});typeof define=="function"&&define.amd?define([],function(){return lV}):typeof d_=="object"&&typeof cV=="object"&&(d_.exports=lV)});var SV=E(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.loadFileDescriptorSetFromObject=We.loadFileDescriptorSetFromBuffer=We.fromJSON=We.loadSync=We.load=We.IdempotencyLevel=We.isAnyExtension=We.Long=void 0;var xZ=Gk(),Kr=zp(),m_=eV(),y_=aV(),RZ=uV();We.Long=RZ;function PZ(o){return"@type"in o&&typeof o["@type"]=="string"}We.isAnyExtension=PZ;var dV;(function(o){o.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",o.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",o.IDEMPOTENT="IDEMPOTENT"})(dV=We.IdempotencyLevel||(We.IdempotencyLevel={}));var hV={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function CZ(o,r){return o===""?r:o+"."+r}function IZ(o){return o instanceof Kr.Service||o instanceof Kr.Type||o instanceof Kr.Enum}function wZ(o){return o instanceof Kr.Namespace||o instanceof Kr.Root}function mV(o,r){let n=CZ(r,o.name);return IZ(o)?[[n,o]]:wZ(o)&&typeof o.nested<"u"?Object.keys(o.nested).map(a=>mV(o.nested[a],n)).reduce((a,s)=>a.concat(s),[]):[]}function fV(o,r){return function(a){return o.toObject(o.decode(a),r)}}function pV(o){return function(n){if(Array.isArray(n))throw new Error(`Failed to serialize message: expected object with ${o.name} structure, got array instead`);let a=o.fromObject(n);return o.encode(a).finish()}}function LZ(o){return(o||[]).reduce((r,n)=>{for(let[a,s]of Object.entries(n))switch(a){case"uninterpreted_option":r.uninterpreted_option.push(n.uninterpreted_option);break;default:r[a]=s}return r},{deprecated:!1,idempotency_level:dV.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function MZ(o,r,n,a){let s=o.resolvedRequestType,l=o.resolvedResponseType;return{path:"/"+r+"/"+o.name,requestStream:!!o.requestStream,responseStream:!!o.responseStream,requestSerialize:pV(s),requestDeserialize:fV(s,n),responseSerialize:pV(l),responseDeserialize:fV(l,n),originalName:xZ(o.name),requestType:h_(s,a),responseType:h_(l,a),options:LZ(o.parsedOptions)}}function UZ(o,r,n,a){let s={};for(let l of o.methodsArray)s[l.name]=MZ(l,r,n,a);return s}function h_(o,r){let n=o.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:n.$type.toObject(n,hV),fileDescriptorProtos:r}}function DZ(o,r){let n=o.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:n.$type.toObject(n,hV),fileDescriptorProtos:r}}function kZ(o,r,n,a){if(o instanceof Kr.Service)return UZ(o,r,n,a);if(o instanceof Kr.Type)return h_(o,a);if(o instanceof Kr.Enum)return DZ(o,a);throw new Error("Type mismatch in reflection object handling")}function Kp(o,r){let n={};o.resolveAll();let s=o.toDescriptor("proto3").file.map(l=>Buffer.from(m_.FileDescriptorProto.encode(l).finish()));for(let[l,t]of mV(o,""))n[l]=kZ(t,l,r,s);return n}function yV(o,r){r=r||{};let n=Kr.Root.fromDescriptor(o);return n.resolveAll(),Kp(n,r)}function VZ(o,r){return(0,y_.loadProtosWithOptions)(o,r).then(n=>Kp(n,r))}We.load=VZ;function BZ(o,r){let n=(0,y_.loadProtosWithOptionsSync)(o,r);return Kp(n,r)}We.loadSync=BZ;function FZ(o,r){r=r||{};let n=Kr.Root.fromJSON(o);return n.resolveAll(),Kp(n,r)}We.fromJSON=FZ;function qZ(o,r){let n=m_.FileDescriptorSet.decode(o);return yV(n,r)}We.loadFileDescriptorSetFromBuffer=qZ;function GZ(o,r){let n=m_.FileDescriptorSet.fromObject(o);return yV(n,r)}We.loadFileDescriptorSetFromObject=GZ;(0,y_.addCommonProtos)()});var eo=E(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.setup=xe.getChannelzServiceDefinition=xe.getChannelzHandlers=xe.unregisterChannelzRef=xe.registerChannelzSocket=xe.registerChannelzServer=xe.registerChannelzSubchannel=xe.registerChannelzChannel=xe.ChannelzCallTrackerStub=xe.ChannelzCallTracker=xe.ChannelzChildrenTrackerStub=xe.ChannelzChildrenTracker=xe.ChannelzTrace=xe.ChannelzTraceStub=void 0;var vV=B("net"),Zi=(uk(),ie(ck)),jl=nr(),zl=ve(),HZ=Tr(),jZ=gp(),zZ=Pv();function S_(o){return{channel_id:o.id,name:o.name}}function T_(o){return{subchannel_id:o.id,name:o.name}}function YZ(o){return{server_id:o.id}}function Qp(o){return{socket_id:o.id,name:o.name}}var _V=32,O_=100,v_=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:Wr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};xe.ChannelzTraceStub=v_;var __=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(r,n,a){let s=new Date;this.events.push({description:n,severity:r,timestamp:s,childChannel:(a==null?void 0:a.kind)==="channel"?a:void 0,childSubchannel:(a==null?void 0:a.kind)==="subchannel"?a:void 0}),this.events.length>=_V*2&&(this.events=this.events.slice(_V)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Wr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(r=>({description:r.description,severity:r.severity,timestamp:Wr(r.timestamp),channel_ref:r.childChannel?S_(r.childChannel):null,subchannel_ref:r.childSubchannel?T_(r.childSubchannel):null}))}}};xe.ChannelzTrace=__;var Jp=class{constructor(){this.channelChildren=new Zi.OrderedMap,this.subchannelChildren=new Zi.OrderedMap,this.socketChildren=new Zi.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(r){let n=this.trackerMap[r.kind],a=n.find(r.id);a.equals(n.end())?n.setElement(r.id,{ref:r,count:1},a):a.pointer[1].count+=1}unrefChild(r){let n=this.trackerMap[r.kind],a=n.getElementByKey(r.id);a!==void 0&&(a.count-=1,a.count===0&&n.eraseElementByKey(r.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};xe.ChannelzChildrenTracker=Jp;var E_=class extends Jp{refChild(){}unrefChild(){}};xe.ChannelzChildrenTrackerStub=E_;var Xp=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};xe.ChannelzCallTracker=Xp;var g_=class extends Xp{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};xe.ChannelzCallTrackerStub=g_;var gn={channel:new Zi.OrderedMap,subchannel:new Zi.OrderedMap,server:new Zi.OrderedMap,socket:new Zi.OrderedMap},Zp=o=>{let r=1;function n(){return r++}let a=gn[o];return(s,l,t)=>{let e=n(),i={id:e,name:s,kind:o};return t&&a.setElement(e,{ref:i,getInfo:l}),i}};xe.registerChannelzChannel=Zp("channel");xe.registerChannelzSubchannel=Zp("subchannel");xe.registerChannelzServer=Zp("server");xe.registerChannelzSocket=Zp("socket");function $Z(o){gn[o.kind].eraseElementByKey(o.id)}xe.unregisterChannelzRef=$Z;function KZ(o){let r=Number.parseInt(o,16);return[r/256|0,r%256]}function EV(o){if(o==="")return[];let r=o.split(":").map(a=>KZ(a));return[].concat(...r)}function WZ(o){if((0,vV.isIPv4)(o))return Buffer.from(Uint8Array.from(o.split(".").map(r=>Number.parseInt(r))));if((0,vV.isIPv6)(o)){let r,n,a=o.indexOf("::");a===-1?(r=o,n=""):(r=o.substring(0,a),n=o.substring(a+2));let s=Buffer.from(EV(r)),l=Buffer.from(EV(n)),t=Buffer.alloc(16-s.length-l.length,0);return Buffer.concat([s,t,l])}else return null}function TV(o){switch(o){case jl.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case jl.ConnectivityState.IDLE:return{state:"IDLE"};case jl.ConnectivityState.READY:return{state:"READY"};case jl.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case jl.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Wr(o){if(!o)return null;let r=o.getTime();return{seconds:r/1e3|0,nanos:r%1e3*1e6}}function OV(o){let r=o.getInfo(),n=[],a=[];return r.children.channels.forEach(s=>{n.push(S_(s[1].ref))}),r.children.subchannels.forEach(s=>{a.push(T_(s[1].ref))}),{ref:S_(o.ref),data:{target:r.target,state:TV(r.state),calls_started:r.callTracker.callsStarted,calls_succeeded:r.callTracker.callsSucceeded,calls_failed:r.callTracker.callsFailed,last_call_started_timestamp:Wr(r.callTracker.lastCallStartedTimestamp),trace:r.trace.getTraceMessage()},channel_ref:n,subchannel_ref:a}}function JZ(o,r){let n=parseInt(o.request.channel_id,10),a=gn.channel.getElementByKey(n);if(a===void 0){r({code:zl.Status.NOT_FOUND,details:"No channel data found for id "+n});return}r(null,{channel:OV(a)})}function XZ(o,r){let n=parseInt(o.request.max_results,10)||O_,a=[],s=parseInt(o.request.start_channel_id,10),l=gn.channel,t;for(t=l.lowerBound(s);!t.equals(l.end())&&a.length<n;t=t.next())a.push(OV(t.pointer[1]));r(null,{channel:a,end:t.equals(l.end())})}function bV(o){let r=o.getInfo(),n=[];return r.listenerChildren.sockets.forEach(a=>{n.push(Qp(a[1].ref))}),{ref:YZ(o.ref),data:{calls_started:r.callTracker.callsStarted,calls_succeeded:r.callTracker.callsSucceeded,calls_failed:r.callTracker.callsFailed,last_call_started_timestamp:Wr(r.callTracker.lastCallStartedTimestamp),trace:r.trace.getTraceMessage()},listen_socket:n}}function QZ(o,r){let n=parseInt(o.request.server_id,10),s=gn.server.getElementByKey(n);if(s===void 0){r({code:zl.Status.NOT_FOUND,details:"No server data found for id "+n});return}r(null,{server:bV(s)})}function ZZ(o,r){let n=parseInt(o.request.max_results,10)||O_,a=parseInt(o.request.start_server_id,10),s=gn.server,l=[],t;for(t=s.lowerBound(a);!t.equals(s.end())&&l.length<n;t=t.next())l.push(bV(t.pointer[1]));r(null,{server:l,end:t.equals(s.end())})}function eee(o,r){let n=parseInt(o.request.subchannel_id,10),a=gn.subchannel.getElementByKey(n);if(a===void 0){r({code:zl.Status.NOT_FOUND,details:"No subchannel data found for id "+n});return}let s=a.getInfo(),l=[];s.children.sockets.forEach(e=>{l.push(Qp(e[1].ref))});let t={ref:T_(a.ref),data:{target:s.target,state:TV(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:Wr(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:l};r(null,{subchannel:t})}function gV(o){var r;return(0,HZ.isTcpSubchannelAddress)(o)?{address:"tcpip_address",tcpip_address:{ip_address:(r=WZ(o.host))!==null&&r!==void 0?r:void 0,port:o.port}}:{address:"uds_address",uds_address:{filename:o.path}}}function tee(o,r){var n,a,s,l,t;let e=parseInt(o.request.socket_id,10),i=gn.socket.getElementByKey(e);if(i===void 0){r({code:zl.Status.NOT_FOUND,details:"No socket data found for id "+e});return}let c=i.getInfo(),u=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(n=c.security.cipherSuiteStandardName)!==null&&n!==void 0?n:void 0,other_name:(a=c.security.cipherSuiteOtherName)!==null&&a!==void 0?a:void 0,local_certificate:(s=c.security.localCertificate)!==null&&s!==void 0?s:void 0,remote_certificate:(l=c.security.remoteCertificate)!==null&&l!==void 0?l:void 0}}:null,f={ref:Qp(i.ref),local:c.localAddress?gV(c.localAddress):null,remote:c.remoteAddress?gV(c.remoteAddress):null,remote_name:(t=c.remoteName)!==null&&t!==void 0?t:void 0,security:u,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:Wr(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Wr(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:Wr(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:Wr(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};r(null,{socket:f})}function ree(o,r){let n=parseInt(o.request.server_id,10),a=gn.server.getElementByKey(n);if(a===void 0){r({code:zl.Status.NOT_FOUND,details:"No server data found for id "+n});return}let s=parseInt(o.request.start_socket_id,10),l=parseInt(o.request.max_results,10)||O_,e=a.getInfo().sessionChildren.sockets,i=[],c;for(c=e.lowerBound(s);!c.equals(e.end())&&i.length<l;c=c.next())i.push(Qp(c.pointer[1].ref));r(null,{socket_ref:i,end:c.equals(e.end())})}function AV(){return{GetChannel:JZ,GetTopChannels:XZ,GetServer:QZ,GetServers:ZZ,GetSubchannel:eee,GetSocket:tee,GetServerSockets:ree}}xe.getChannelzHandlers=AV;var Wp=null;function NV(){if(Wp)return Wp;let o=SV().loadSync,r=o("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return Wp=(0,zZ.loadPackageDefinition)(r).grpc.channelz.v1.Channelz.service,Wp}xe.getChannelzServiceDefinition=NV;function nee(){(0,jZ.registerAdminService)(NV,AV)}xe.setup=nee});var xV=E(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.Subchannel=void 0;var Ie=nr(),iee=Nl(),b_=Be(),ed=ve(),oee=qt(),see=Tr(),Jr=eo(),aee="subchannel",lee=~(1<<31),A_=class{constructor(r,n,a,s,l){var t;this.channelTarget=r,this.subchannelAddress=n,this.options=a,this.credentials=s,this.connector=l,this.connectivityState=Ie.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let e={initialDelay:a["grpc.initial_reconnect_backoff_ms"],maxDelay:a["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new iee.BackoffTimeout(()=>{this.handleBackoffTimer()},e),this.backoffTimeout.unref(),this.subchannelAddressString=(0,see.subchannelAddressToString)(n),this.keepaliveTime=(t=a["grpc.keepalive_time_ms"])!==null&&t!==void 0?t:-1,a["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new Jr.ChannelzTraceStub,this.callTracker=new Jr.ChannelzCallTrackerStub,this.childrenTracker=new Jr.ChannelzChildrenTrackerStub,this.streamTracker=new Jr.ChannelzCallTrackerStub):(this.channelzTrace=new Jr.ChannelzTrace,this.callTracker=new Jr.ChannelzCallTracker,this.childrenTracker=new Jr.ChannelzChildrenTracker,this.streamTracker=new Jr.ChannelzCallTracker),this.channelzRef=(0,Jr.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(a,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(r){b_.trace(ed.LogVerbosity.DEBUG,aee,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+r)}refTrace(r){b_.trace(ed.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+r)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([Ie.ConnectivityState.TRANSIENT_FAILURE],Ie.ConnectivityState.CONNECTING):this.transitionToState([Ie.ConnectivityState.TRANSIENT_FAILURE],Ie.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let r=this.options;if(r["grpc.keepalive_time_ms"]){let n=Math.min(this.keepaliveTime,lee);r=Object.assign(Object.assign({},r),{"grpc.keepalive_time_ms":n})}this.connector.connect(this.subchannelAddress,this.credentials,r).then(n=>{this.transitionToState([Ie.ConnectivityState.CONNECTING],Ie.ConnectivityState.READY)?(this.transport=n,this.channelzEnabled&&this.childrenTracker.refChild(n.getChannelzRef()),n.addDisconnectListener(a=>{this.transitionToState([Ie.ConnectivityState.READY],Ie.ConnectivityState.IDLE),a&&this.keepaliveTime>0&&(this.keepaliveTime*=2,b_.log(ed.LogVerbosity.ERROR,`Connection to ${(0,oee.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):n.shutdown()},n=>{this.transitionToState([Ie.ConnectivityState.CONNECTING],Ie.ConnectivityState.TRANSIENT_FAILURE,`${n}`)})}transitionToState(r,n,a){var s,l;if(r.indexOf(this.connectivityState)===-1)return!1;this.trace(Ie.ConnectivityState[this.connectivityState]+" -> "+Ie.ConnectivityState[n]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Ie.ConnectivityState[n]);let t=this.connectivityState;switch(this.connectivityState=n,n){case Ie.ConnectivityState.READY:this.stopBackoff();break;case Ie.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case Ie.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case Ie.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(l=this.transport)===null||l===void 0||l.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${n}`)}for(let e of this.stateListeners)e(this,t,n,this.keepaliveTime,a);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,Jr.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([Ie.ConnectivityState.CONNECTING,Ie.ConnectivityState.READY],Ie.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(r,n,a,s){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let l;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),l={onCallEnd:t=>{t.code===ed.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):l={},this.transport.createCall(r,n,a,s,l)}startConnecting(){process.nextTick(()=>{this.transitionToState([Ie.ConnectivityState.IDLE],Ie.ConnectivityState.CONNECTING)||this.connectivityState===Ie.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(r){this.stateListeners.add(r)}removeConnectivityStateListener(r){this.stateListeners.delete(r)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([Ie.ConnectivityState.TRANSIENT_FAILURE],Ie.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(r){}removeHealthStateWatcher(r){}getRealSubchannel(){return this}realSubchannelEquals(r){return r.getRealSubchannel()===this}throttleKeepalive(r){r>this.keepaliveTime&&(this.keepaliveTime=r)}};td.Subchannel=A_});var P_=E(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.setup=si.DEFAULT_PORT=void 0;var RV=qr(),CV=B("dns"),IV=B("util"),cee=ev(),N_=ve(),x_=vt(),uee=Be(),fee=ve(),ii=qt(),PV=B("net"),pee=Nl(),dee="dns_resolver";function oi(o){uee.trace(fee.LogVerbosity.DEBUG,dee,o)}si.DEFAULT_PORT=443;var hee=3e4,mee=IV.promisify(CV.resolveTxt),yee=IV.promisify(CV.lookup),R_=class{constructor(r,n,a){var s,l,t;this.target=r,this.listener=n,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,oi("Resolver constructed for target "+(0,ii.uriToString)(r));let e=(0,ii.splitHostPort)(r.path);e===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,PV.isIPv4)(e.host)||(0,PV.isIPv6)(e.host)?(this.ipResult=[{addresses:[{host:e.host,port:(s=e.port)!==null&&s!==void 0?s:si.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=e.host,this.port=(l=e.port)!==null&&l!==void 0?l:si.DEFAULT_PORT),this.percentage=Math.random()*100,a["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:N_.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,ii.uriToString)(this.target)}`,metadata:new x_.Metadata};let i={initialDelay:a["grpc.initial_reconnect_backoff_ms"],maxDelay:a["grpc.max_reconnect_backoff_ms"]};this.backoff=new pee.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},i),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(t=a["grpc.dns_min_time_between_resolutions_ms"])!==null&&t!==void 0?t:hee,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(oi("Returning IP address for target "+(0,ii.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)oi("Failed to parse DNS address "+(0,ii.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:N_.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,ii.uriToString)(this.target)}`,metadata:new x_.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;oi("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let r=this.dnsHostname;this.pendingLookupPromise=yee(r,{all:!0}),this.pendingLookupPromise.then(n=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let a=n.map(l=>({host:l.address,port:+this.port}));this.latestLookupResult=a.map(l=>({addresses:[l]}));let s="["+a.map(l=>l.host+":"+l.port).join(",")+"]";if(oi("Resolved addresses for target "+(0,ii.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},n=>{this.pendingLookupPromise!==null&&(oi("Resolution error for target "+(0,ii.uriToString)(this.target)+": "+n.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=mee(r),this.pendingTxtPromise.then(n=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,cee.extractAndSelectServiceConfig)(n,this.percentage)}catch(a){this.latestServiceConfigError={code:N_.Status.UNAVAILABLE,details:`Parsing service config failed with error ${a.message}`,metadata:new x_.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},n=>{}))}}startNextResolutionTimer(){var r,n;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(n=(r=this.nextResolutionTimer).unref)===null||n===void 0||n.call(r),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?oi('resolution update delayed by "min time between resolutions" rate limit'):oi("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(r){return r.path}};function See(){(0,RV.registerResolver)("dns",R_),(0,RV.registerDefaultScheme)("dns")}si.setup=See});var C_=E(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.getProxiedConnection=Rs.mapProxyName=void 0;var Yl=Be(),Ns=ve(),vee=qr(),_ee=B("http"),Eee=B("tls"),gee=Be(),wV=Tr(),xs=qt(),Tee=B("url"),Oee=P_(),bee="proxy";function ai(o){gee.trace(Ns.LogVerbosity.DEBUG,bee,o)}function Aee(){let o="",r="";if(process.env.grpc_proxy)r="grpc_proxy",o=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",o=process.env.https_proxy;else if(process.env.http_proxy)r="http_proxy",o=process.env.http_proxy;else return{};let n;try{n=new Tee.URL(o)}catch{return(0,Yl.log)(Ns.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if(n.protocol!=="http:")return(0,Yl.log)(Ns.LogVerbosity.ERROR,`"${n.protocol}" scheme not supported in proxy URI`),{};let a=null;n.username&&(n.password?((0,Yl.log)(Ns.LogVerbosity.INFO,"userinfo found in proxy URI"),a=`${n.username}:${n.password}`):a=n.username);let s=n.hostname,l=n.port;l===""&&(l="80");let t={address:`${s}:${l}`};return a&&(t.creds=a),ai("Proxy server "+t.address+" set by environment variable "+r),t}function Nee(){let o=process.env.no_grpc_proxy,r="no_grpc_proxy";return o||(o=process.env.no_proxy,r="no_proxy"),o?(ai("No proxy server list set by environment variable "+r),o.split(",")):[]}function xee(o,r){var n;let a={target:o,extraOptions:{}};if(((n=r["grpc.enable_http_proxy"])!==null&&n!==void 0?n:1)===0||o.scheme==="unix")return a;let s=Aee();if(!s.address)return a;let l=(0,xs.splitHostPort)(o.path);if(!l)return a;let t=l.host;for(let i of Nee())if(i===t)return ai("Not using proxy for target in no_proxy list: "+(0,xs.uriToString)(o)),a;let e={"grpc.http_connect_target":(0,xs.uriToString)(o)};return s.creds&&(e["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:e}}Rs.mapProxyName=xee;function Ree(o,r,n){var a;if(!("grpc.http_connect_target"in r))return Promise.resolve({});let s=r["grpc.http_connect_target"],l=(0,xs.parseUri)(s);if(l===null)return Promise.resolve({});let t=(0,xs.splitHostPort)(l.path);if(t===null)return Promise.resolve({});let e=`${t.host}:${(a=t.port)!==null&&a!==void 0?a:Oee.DEFAULT_PORT}`,i={method:"CONNECT",path:e},c={Host:e};(0,wV.isTcpSubchannelAddress)(o)?(i.host=o.host,i.port=o.port):i.socketPath=o.path,"grpc.http_connect_creds"in r&&(c["Proxy-Authorization"]="Basic "+Buffer.from(r["grpc.http_connect_creds"]).toString("base64")),i.headers=c;let u=(0,wV.subchannelAddressToString)(o);return ai("Using proxy "+u+" to connect to "+i.path),new Promise((f,v)=>{let _=_ee.request(i);_.once("connect",(x,O,R)=>{var N;if(_.removeAllListeners(),O.removeAllListeners(),x.statusCode===200)if(ai("Successfully connected to "+i.path+" through proxy "+u),"secureContext"in n){let C=(0,vee.getDefaultAuthority)(l),D=(0,xs.splitHostPort)(C),M=(N=D==null?void 0:D.host)!==null&&N!==void 0?N:C,K=Eee.connect(Object.assign({host:M,servername:M,socket:O},n),()=>{ai("Successfully established a TLS connection to "+i.path+" through proxy "+u),f({socket:K,realTarget:l})});K.on("error",$=>{ai("Failed to establish a TLS connection to "+i.path+" through proxy "+u+" with error "+$.message),v()})}else ai("Successfully established a plaintext connection to "+i.path+" through proxy "+u),f({socket:O,realTarget:l});else(0,Yl.log)(Ns.LogVerbosity.ERROR,"Failed to connect to "+i.path+" through proxy "+u+" with status "+x.statusCode),v()}),_.once("error",x=>{_.removeAllListeners(),(0,Yl.log)(Ns.LogVerbosity.ERROR,"Failed to connect to proxy "+u+" with error "+x.message),v()}),_.end()})}Rs.getProxiedConnection=Ree});var w_=E(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.StreamDecoder=void 0;var Xr;(function(o){o[o.NO_DATA=0]="NO_DATA",o[o.READING_SIZE=1]="READING_SIZE",o[o.READING_MESSAGE=2]="READING_MESSAGE"})(Xr||(Xr={}));var I_=class{constructor(){this.readState=Xr.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(r){let n=0,a,s=[];for(;n<r.length;)switch(this.readState){case Xr.NO_DATA:this.readCompressFlag=r.slice(n,n+1),n+=1,this.readState=Xr.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case Xr.READING_SIZE:if(a=Math.min(r.length-n,this.readSizeRemaining),r.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+a),this.readSizeRemaining-=a,n+=a,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=Xr.READING_MESSAGE;else{let l=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=Xr.NO_DATA,s.push(l)}break;case Xr.READING_MESSAGE:if(a=Math.min(r.length-n,this.readMessageRemaining),this.readPartialMessage.push(r.slice(n,n+a)),this.readMessageRemaining-=a,n+=a,this.readMessageRemaining===0){let l=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(l,this.readMessageSize+5);this.readState=Xr.NO_DATA,s.push(t)}break;default:throw new Error("Unexpected read state")}return s}};rd.StreamDecoder=I_});var MV=E(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.Http2SubchannelCall=void 0;var Tn=B("http2"),Pee=B("os"),Me=ve(),On=vt(),Cee=w_(),Iee=Be(),wee=ve(),Lee="subchannel_call";function Mee(o){for(let[r,n]of Object.entries(Pee.constants.errno))if(n===o)return r;return"Unknown system error "+o}function LV(o){let r=`Received HTTP status code ${o}`,n;switch(o){case 400:n=Me.Status.INTERNAL;break;case 401:n=Me.Status.UNAUTHENTICATED;break;case 403:n=Me.Status.PERMISSION_DENIED;break;case 404:n=Me.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:n=Me.Status.UNAVAILABLE;break;default:n=Me.Status.UNKNOWN}return{code:n,details:r,metadata:new On.Metadata}}var L_=class{constructor(r,n,a,s,l){this.http2Stream=r,this.callEventTracker=n,this.listener=a,this.transport=s,this.callId=l,this.decoder=new Cee.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,r.on("response",(t,e)=>{let i="";for(let c of Object.keys(t))i+="		"+c+": "+t[c]+`
`;if(this.trace(`Received server headers:
`+i),this.httpStatusCode=t[":status"],e&Tn.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(t);else{let c;try{c=On.Metadata.fromHttp2Headers(t)}catch(u){this.endCall({code:Me.Status.UNKNOWN,details:u.message,metadata:new On.Metadata});return}this.listener.onReceiveMetadata(c)}}),r.on("trailers",t=>{this.handleTrailers(t)}),r.on("data",t=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+t.length);let e=this.decoder.write(t);for(let i of e)this.trace("parsed message of length "+i.length),this.callEventTracker.addMessageReceived(),this.tryPush(i)}),r.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),r.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var t;if(this.trace("HTTP/2 stream closed with code "+r.rstCode),((t=this.finalStatus)===null||t===void 0?void 0:t.code)===Me.Status.OK)return;let e,i="";switch(r.rstCode){case Tn.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let c=LV(this.httpStatusCode);e=c.code,i=c.details}else e=Me.Status.INTERNAL,i=`Received RST_STREAM with code ${r.rstCode} (Call ended without gRPC status)`;break;case Tn.constants.NGHTTP2_REFUSED_STREAM:e=Me.Status.UNAVAILABLE,i="Stream refused by server";break;case Tn.constants.NGHTTP2_CANCEL:e=Me.Status.CANCELLED,i="Call cancelled";break;case Tn.constants.NGHTTP2_ENHANCE_YOUR_CALM:e=Me.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case Tn.constants.NGHTTP2_INADEQUATE_SECURITY:e=Me.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case Tn.constants.NGHTTP2_INTERNAL_ERROR:e=Me.Status.INTERNAL,this.internalError===null?i=`Received RST_STREAM with code ${r.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(e=Me.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${r.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:e=Me.Status.INTERNAL,i=`Received RST_STREAM with code ${r.rstCode}`}this.endCall({code:e,details:i,metadata:new On.Metadata,rstCode:r.rstCode})})}),r.on("error",t=>{t.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+t.message+" code="+t.code+" errno="+Mee(t.errno)+" syscall="+t.syscall),this.internalError=t),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.endCall({code:Me.Status.UNAVAILABLE,details:"Connection dropped",metadata:new On.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(r){Iee.trace(wee.LogVerbosity.DEBUG,Lee,"["+this.callId+"] "+r)}endCall(r){(this.finalStatus===null||this.finalStatus.code===Me.Status.OK)&&(this.finalStatus=r,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Me.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(r){this.trace("pushing to reader message of length "+(r instanceof Buffer?r.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(r),this.maybeOutputStatus())})}tryPush(r){this.canPush?(this.http2Stream.pause(),this.push(r)):(this.trace("unpushedReadMessages.push message of length "+r.length),this.unpushedReadMessages.push(r))}handleTrailers(r){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let n="";for(let t of Object.keys(r))n+="		"+t+": "+r[t]+`
`;this.trace(`Received server trailers:
`+n);let a;try{a=On.Metadata.fromHttp2Headers(r)}catch{a=new On.Metadata}let s=a.getMap(),l;if(typeof s["grpc-status"]=="string"){let t=Number(s["grpc-status"]);this.trace("received status code "+t+" from server"),a.remove("grpc-status");let e="";if(typeof s["grpc-message"]=="string"){try{e=decodeURI(s["grpc-message"])}catch{e=s["grpc-message"]}a.remove("grpc-message"),this.trace('received status details string "'+e+'" from server')}l={code:t,details:e,metadata:a}}else this.httpStatusCode?(l=LV(this.httpStatusCode),l.metadata=a):l={code:Me.Status.UNKNOWN,details:"No status information received",metadata:a};this.endCall(l)}destroyHttp2Stream(){var r;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let n;((r=this.finalStatus)===null||r===void 0?void 0:r.code)===Me.Status.OK?n=Tn.constants.NGHTTP2_NO_ERROR:n=Tn.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+n),this.http2Stream.close(n)}}cancelWithStatus(r,n){this.trace("cancelWithStatus code: "+r+' details: "'+n+'"'),this.endCall({code:r,details:n,metadata:new On.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Me.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let r=this.unpushedReadMessages.shift();this.push(r);return}this.http2Stream.resume()}sendMessageWithContext(r,n){this.trace("write() called with message of length "+n.length);let a=s=>{process.nextTick(()=>{var l;let t=Me.Status.UNAVAILABLE;(s==null?void 0:s.code)==="ERR_STREAM_WRITE_AFTER_END"&&(t=Me.Status.INTERNAL),s&&this.cancelWithStatus(t,`Write error: ${s.message}`),(l=r.callback)===null||l===void 0||l.call(r)})};this.trace("sending data chunk of length "+n.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(n,a)}catch(s){this.endCall({code:Me.Status.UNAVAILABLE,details:`Write failed with error ${s.message}`,metadata:new On.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};nd.Http2SubchannelCall=L_});var M_=E(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.getNextCallNumber=void 0;var Uee=0;function Dee(){return Uee++}id.getNextCallNumber=Dee});var kV=E(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.Http2SubchannelConnector=void 0;var V_=B("http2"),UV=B("tls"),od=eo(),$l=ve(),kee=C_(),Cs=Be(),DV=qr(),sd=Tr(),Ps=qt(),Vee=B("net"),Bee=MV(),Fee=M_(),U_="transport",qee="transport_flowctrl",Gee=kS().version,{HTTP2_HEADER_AUTHORITY:Hee,HTTP2_HEADER_CONTENT_TYPE:jee,HTTP2_HEADER_METHOD:zee,HTTP2_HEADER_PATH:Yee,HTTP2_HEADER_TE:$ee,HTTP2_HEADER_USER_AGENT:Kee}=V_.constants,Wee=2e4,Jee=Buffer.from("too_many_pings","ascii"),D_=class{constructor(r,n,a,s){this.session=r,this.remoteName=s,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=Wee,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,sd.subchannelAddressToString)(n),a["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new od.ChannelzCallTrackerStub):this.streamTracker=new od.ChannelzCallTracker,this.channelzRef=(0,od.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[a["grpc.primary_user_agent"],`grpc-node-js/${Gee}`,a["grpc.secondary_user_agent"]].filter(l=>l).join(" "),"grpc.keepalive_time_ms"in a&&(this.keepaliveTimeMs=a["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in a&&(this.keepaliveTimeoutMs=a["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in a?this.keepaliveWithoutCalls=a["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,r.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),r.once("goaway",(l,t,e)=>{let i=!1;l===V_.constants.NGHTTP2_ENHANCE_YOUR_CALM&&e&&e.equals(Jee)&&(i=!0),this.trace("connection closed by GOAWAY with code "+l+" and data "+(e==null?void 0:e.toString())),this.reportDisconnectToOwner(i)}),r.once("error",l=>{this.trace("connection closed with error "+l.message)}),Cs.isTracerEnabled(U_)&&(r.on("remoteSettings",l=>{this.trace("new settings received"+(this.session!==r?" on the old connection":"")+": "+JSON.stringify(l))}),r.on("localSettings",l=>{this.trace("local settings acknowledged by remote"+(this.session!==r?" on the old connection":"")+": "+JSON.stringify(l))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var r,n,a;let s=this.session.socket,l=s.remoteAddress?(0,sd.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,t=s.localAddress?(0,sd.stringToSubchannelAddress)(s.localAddress,s.localPort):null,e;if(this.session.encrypted){let c=s,u=c.getCipher(),f=c.getCertificate(),v=c.getPeerCertificate();e={cipherSuiteStandardName:(r=u.standardName)!==null&&r!==void 0?r:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:v&&"raw"in v?v.raw:null}}else e=null;return{remoteAddress:l,localAddress:t,security:e,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(n=this.session.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(a=this.session.state.remoteWindowSize)!==null&&a!==void 0?a:null}}trace(r){Cs.trace($l.LogVerbosity.DEBUG,U_,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+r)}keepaliveTrace(r){Cs.trace($l.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+r)}flowControlTrace(r){Cs.trace($l.LogVerbosity.DEBUG,qee,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+r)}internalsTrace(r){Cs.trace($l.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+r)}reportDisconnectToOwner(r){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(n=>n(r)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let r of this.activeCalls)r.onDisconnect()})}addDisconnectListener(r){this.disconnectListeners.push(r)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var r,n;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(n=(r=this.keepaliveTimeoutId).unref)===null||n===void 0||n.call(r));try{this.session.ping((a,s,l)=>{a&&(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var r,n;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs),(n=(r=this.keepaliveTimerId).unref)===null||n===void 0||n.call(r)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(r){this.activeCalls.delete(r),this.activeCalls.size===0&&this.session.unref()}addActiveCall(r){this.activeCalls.add(r),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(r,n,a,s,l){let t=r.toHttp2Headers();t[Hee]=n,t[Kee]=this.userAgent,t[jee]="application/grpc",t[zee]="POST",t[Yee]=a,t[$ee]="trailers";let e;try{e=this.session.request(t)}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let i,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),i={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=l.addMessageSent)===null||u===void 0||u.call(l)},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=l.addMessageReceived)===null||u===void 0||u.call(l)},onCallEnd:u=>{var f;(f=l.onCallEnd)===null||f===void 0||f.call(l,u),this.removeActiveCall(c)},onStreamEnd:u=>{var f;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(f=l.onStreamEnd)===null||f===void 0||f.call(l,u)}}):i={addMessageSent:()=>{var u;(u=l.addMessageSent)===null||u===void 0||u.call(l)},addMessageReceived:()=>{var u;(u=l.addMessageReceived)===null||u===void 0||u.call(l)},onCallEnd:u=>{var f;(f=l.onCallEnd)===null||f===void 0||f.call(l,u),this.removeActiveCall(c)},onStreamEnd:u=>{var f;(f=l.onStreamEnd)===null||f===void 0||f.call(l,u)}},c=new Bee.Http2SubchannelCall(e,i,s,this,(0,Fee.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,od.unregisterChannelzRef)(this.channelzRef)}},k_=class{constructor(r){this.channelTarget=r,this.session=null,this.isShutdown=!1}trace(r){Cs.trace($l.LogVerbosity.DEBUG,U_,(0,Ps.uriToString)(this.channelTarget)+" "+r)}createSession(r,n,a,s){return this.isShutdown?Promise.reject():new Promise((l,t)=>{var e,i,c,u;let f;s.realTarget?(f=(0,Ps.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,Ps.uriToString)(s.realTarget))):(f=null,this.trace("creating HTTP/2 session to "+(0,sd.subchannelAddressToString)(r)));let v=(0,DV.getDefaultAuthority)((e=s.realTarget)!==null&&e!==void 0?e:this.channelTarget),_=n._getConnectionOptions()||{};_.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in a?_.maxSessionMemory=a["grpc-node.max_session_memory"]:_.maxSessionMemory=Number.MAX_SAFE_INTEGER;let x="http://";if("secureContext"in _){if(x="https://",a["grpc.ssl_target_name_override"]){let N=a["grpc.ssl_target_name_override"],C=(i=_.checkServerIdentity)!==null&&i!==void 0?i:UV.checkServerIdentity;_.checkServerIdentity=(D,M)=>C(N,M),_.servername=N}else{let N=(u=(c=(0,Ps.splitHostPort)(v))===null||c===void 0?void 0:c.host)!==null&&u!==void 0?u:"localhost";_.servername=N}s.socket&&(_.createConnection=(N,C)=>s.socket)}else _.createConnection=(N,C)=>s.socket?s.socket:Vee.connect(r);_=Object.assign(Object.assign(Object.assign({},_),r),{enableTrace:a["grpc-node.tls_enable_trace"]===1});let O=V_.connect(x+v,_);this.session=O;let R="Failed to connect";O.unref(),O.once("connect",()=>{O.removeAllListeners(),l(new D_(O,r,a,f)),this.session=null}),O.once("close",()=>{this.session=null,setImmediate(()=>{t(`${R} (${new Date().toISOString()})`)})}),O.once("error",N=>{R=N.message,this.trace("connection failed with error "+R)})})}connect(r,n,a){var s,l,t;if(this.isShutdown)return Promise.reject();let e=n._getConnectionOptions()||{};if("secureContext"in e){if(e.ALPNProtocols=["h2"],a["grpc.ssl_target_name_override"]){let i=a["grpc.ssl_target_name_override"],c=(s=e.checkServerIdentity)!==null&&s!==void 0?s:UV.checkServerIdentity;e.checkServerIdentity=(u,f)=>c(i,f),e.servername=i}else if("grpc.http_connect_target"in a){let i=(0,DV.getDefaultAuthority)((l=(0,Ps.parseUri)(a["grpc.http_connect_target"]))!==null&&l!==void 0?l:{path:"localhost"}),c=(0,Ps.splitHostPort)(i);e.servername=(t=c==null?void 0:c.host)!==null&&t!==void 0?t:i}a["grpc-node.tls_enable_trace"]&&(e.enableTrace=!0)}return(0,kee.getProxiedConnection)(r,a,e).then(i=>this.createSession(r,n,a,i))}shutdown(){var r;this.isShutdown=!0,(r=this.session)===null||r===void 0||r.close(),this.session=null}};ad.Http2SubchannelConnector=k_});var VV=E(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.getSubchannelPool=Is.SubchannelPool=void 0;var Xee=ik(),Qee=xV(),Zee=Tr(),ete=qt(),tte=kV(),rte=1e4,Kl=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let r=!0;for(let n in this.pool){let s=this.pool[n].filter(l=>!l.subchannel.unrefIfOneRef());s.length>0&&(r=!1),this.pool[n]=s}r&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var r,n;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},rte),(n=(r=this.cleanupTimer).unref)===null||n===void 0||n.call(r))}getOrCreateSubchannel(r,n,a,s){this.ensureCleanupTask();let l=(0,ete.uriToString)(r);if(l in this.pool){let e=this.pool[l];for(let i of e)if((0,Zee.subchannelAddressEqual)(n,i.subchannelAddress)&&(0,Xee.channelOptionsEqual)(a,i.channelArguments)&&s._equals(i.channelCredentials))return i.subchannel}let t=new Qee.Subchannel(r,n,a,s,new tte.Http2SubchannelConnector(r));return l in this.pool||(this.pool[l]=[]),this.pool[l].push({subchannelAddress:n,channelArguments:a,channelCredentials:s,subchannel:t}),t.ref(),t}};Is.SubchannelPool=Kl;var nte=new Kl;function ite(o){return o?nte:new Kl}Is.getSubchannelPool=ite});var F_=E(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.FilterStackFactory=ws.FilterStack=void 0;var ld=class{constructor(r){this.filters=r}sendMetadata(r){let n=r;for(let a=0;a<this.filters.length;a++)n=this.filters[a].sendMetadata(n);return n}receiveMetadata(r){let n=r;for(let a=this.filters.length-1;a>=0;a--)n=this.filters[a].receiveMetadata(n);return n}sendMessage(r){let n=r;for(let a=0;a<this.filters.length;a++)n=this.filters[a].sendMessage(n);return n}receiveMessage(r){let n=r;for(let a=this.filters.length-1;a>=0;a--)n=this.filters[a].receiveMessage(n);return n}receiveTrailers(r){let n=r;for(let a=this.filters.length-1;a>=0;a--)n=this.filters[a].receiveTrailers(n);return n}push(r){this.filters.unshift(...r)}getFilters(){return this.filters}};ws.FilterStack=ld;var B_=class o{constructor(r){this.factories=r}push(r){this.factories.unshift(...r)}clone(){return new o([...this.factories])}createFilter(){return new ld(this.factories.map(r=>r.createFilter()))}};ws.FilterStackFactory=B_});var q_=E(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.CompressionAlgorithms=void 0;var BV;(function(o){o[o.identity=0]="identity",o[o.deflate=1]="deflate",o[o.gzip=2]="gzip"})(BV||(cd.CompressionAlgorithms=BV={}))});var fd=E(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.BaseFilter=void 0;var G_=class{async sendMetadata(r){return r}receiveMetadata(r){return r}async sendMessage(r){return r}async receiveMessage(r){return r}receiveTrailers(r){return r}};ud.BaseFilter=G_});var GV=E(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.CompressionFilterFactory=Ms.CompressionFilter=void 0;var pd=B("zlib"),qV=q_(),ote=ve(),ste=fd(),ate=Be(),lte=o=>typeof o=="number"&&typeof qV.CompressionAlgorithms[o]=="string",Ls=class{async writeMessage(r,n){let a=r;n&&(a=await this.compressMessage(a));let s=Buffer.allocUnsafe(a.length+5);return s.writeUInt8(n?1:0,0),s.writeUInt32BE(a.length,1),a.copy(s,5),s}async readMessage(r){let n=r.readUInt8(0)===1,a=r.slice(5);return n&&(a=await this.decompressMessage(a)),a}},to=class extends Ls{async compressMessage(r){return r}async writeMessage(r,n){let a=Buffer.allocUnsafe(r.length+5);return a.writeUInt8(0,0),a.writeUInt32BE(r.length,1),r.copy(a,5),a}decompressMessage(r){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},H_=class extends Ls{compressMessage(r){return new Promise((n,a)=>{pd.deflate(r,(s,l)=>{s?a(s):n(l)})})}decompressMessage(r){return new Promise((n,a)=>{pd.inflate(r,(s,l)=>{s?a(s):n(l)})})}},j_=class extends Ls{compressMessage(r){return new Promise((n,a)=>{pd.gzip(r,(s,l)=>{s?a(s):n(l)})})}decompressMessage(r){return new Promise((n,a)=>{pd.unzip(r,(s,l)=>{s?a(s):n(l)})})}},z_=class extends Ls{constructor(r){super(),this.compressionName=r}compressMessage(r){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(r){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function FV(o){switch(o){case"identity":return new to;case"deflate":return new H_;case"gzip":return new j_;default:return new z_(o)}}var dd=class extends ste.BaseFilter{constructor(r,n){var a;super(),this.sharedFilterConfig=n,this.sendCompression=new to,this.receiveCompression=new to,this.currentCompressionAlgorithm="identity";let s=r["grpc.default_compression_algorithm"];if(s!==void 0)if(lte(s)){let l=qV.CompressionAlgorithms[s],t=(a=n.serverSupportedEncodingHeader)===null||a===void 0?void 0:a.split(",");(!t||t.includes(l))&&(this.currentCompressionAlgorithm=l,this.sendCompression=FV(this.currentCompressionAlgorithm))}else ate.log(ote.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}async sendMetadata(r){let n=await r;return n.set("grpc-accept-encoding","identity,deflate,gzip"),n.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?n.remove("grpc-encoding"):n.set("grpc-encoding",this.currentCompressionAlgorithm),n}receiveMetadata(r){let n=r.get("grpc-encoding");if(n.length>0){let s=n[0];typeof s=="string"&&(this.receiveCompression=FV(s))}r.remove("grpc-encoding");let a=r.get("grpc-accept-encoding")[0];return a&&(this.sharedFilterConfig.serverSupportedEncodingHeader=a,a.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new to,this.currentCompressionAlgorithm="identity")),r.remove("grpc-accept-encoding"),r}async sendMessage(r){var n;let a=await r,s;return this.sendCompression instanceof to?s=!1:s=(((n=a.flags)!==null&&n!==void 0?n:0)&2)===0,{message:await this.sendCompression.writeMessage(a.message,s),flags:a.flags}}async receiveMessage(r){return this.receiveCompression.readMessage(await r)}};Ms.CompressionFilter=dd;var Y_=class{constructor(r,n){this.options=n,this.sharedFilterConfig={}}createFilter(){return new dd(this.options,this.sharedFilterConfig)}};Ms.CompressionFilterFactory=Y_});var jV=E(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.MaxMessageSizeFilterFactory=Us.MaxMessageSizeFilter=void 0;var cte=fd(),hd=ve(),HV=vt(),md=class extends cte.BaseFilter{constructor(r){super(),this.maxSendMessageSize=hd.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=hd.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}async sendMessage(r){if(this.maxSendMessageSize===-1)return r;{let n=await r;if(n.message.length>this.maxSendMessageSize)throw{code:hd.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${n.message.length} vs. ${this.maxSendMessageSize})`,metadata:new HV.Metadata};return n}}async receiveMessage(r){if(this.maxReceiveMessageSize===-1)return r;{let n=await r;if(n.length>this.maxReceiveMessageSize)throw{code:hd.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${n.length} vs. ${this.maxReceiveMessageSize})`,metadata:new HV.Metadata};return n}}};Us.MaxMessageSizeFilter=md;var $_=class{constructor(r){this.options=r}createFilter(){return new md(this.options)}};Us.MaxMessageSizeFilterFactory=$_});var Wl=E(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.formatDateDifference=fr.deadlineToString=fr.getRelativeTimeout=fr.getDeadlineTimeoutString=fr.minDeadline=void 0;function ute(...o){let r=1/0;for(let n of o){let a=n instanceof Date?n.getTime():n;a<r&&(r=a)}return r}fr.minDeadline=ute;var fte=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function pte(o){let r=new Date().getTime();o instanceof Date&&(o=o.getTime());let n=Math.max(o-r,0);for(let[a,s]of fte){let l=n/s;if(l<1e8)return String(Math.ceil(l))+a}throw new Error("Deadline is too far in the future")}fr.getDeadlineTimeoutString=pte;var dte=2147483647;function hte(o){let r=o instanceof Date?o.getTime():o,n=new Date().getTime(),a=r-n;return a<0?0:a>dte?1/0:a}fr.getRelativeTimeout=hte;function mte(o){if(o instanceof Date)return o.toISOString();{let r=new Date(o);return Number.isNaN(r.getTime())?""+o:r.toISOString()}}fr.deadlineToString=mte;function yte(o,r){return((r.getTime()-o.getTime())/1e3).toFixed(3)+"s"}fr.formatDateDifference=yte});var Sd=E(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.restrictControlPlaneStatusCode=void 0;var Qr=ve(),Ste=[Qr.Status.OK,Qr.Status.INVALID_ARGUMENT,Qr.Status.NOT_FOUND,Qr.Status.ALREADY_EXISTS,Qr.Status.FAILED_PRECONDITION,Qr.Status.ABORTED,Qr.Status.OUT_OF_RANGE,Qr.Status.DATA_LOSS];function vte(o,r){return Ste.includes(o)?{code:Qr.Status.INTERNAL,details:`Invalid status from control plane: ${o} ${Qr.Status[o]} ${r}`}:{code:o,details:r}}yd.restrictControlPlaneStatusCode=vte});var $V=E(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.LoadBalancingCall=void 0;var zV=nr(),vd=ve(),YV=Wl(),_d=vt(),Jl=Wn(),_te=qt(),Ete=Be(),K_=Sd(),gte=B("http2"),Tte="load_balancing_call",W_=class{constructor(r,n,a,s,l,t,e){var i,c;this.channel=r,this.callConfig=n,this.methodName=a,this.host=s,this.credentials=l,this.deadline=t,this.callNumber=e,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let u=this.methodName.split("/"),f="";u.length>=2&&(f=u[1]);let v=(c=(i=(0,_te.splitHostPort)(this.host))===null||i===void 0?void 0:i.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${v}/${f}`,this.startTime=new Date}getDeadlineInfo(){var r,n;let a=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady&&a.push("wait_for_ready"),a.push(`LB pick: ${(0,YV.formatDateDifference)(this.startTime,this.childStartTime)}`)),a.push(...this.child.getDeadlineInfo()),a):(!((n=this.metadata)===null||n===void 0)&&n.getOptions().waitForReady&&a.push("wait_for_ready"),a.push("Waiting for LB pick"),a)}trace(r){Ete.trace(vd.LogVerbosity.DEBUG,Tte,"["+this.callNumber+"] "+r)}outputStatus(r,n){var a,s;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+r.code+' details="'+r.details+'" start time='+this.startTime.toISOString());let l=Object.assign(Object.assign({},r),{progress:n});(a=this.listener)===null||a===void 0||a.onReceiveStatus(l),(s=this.onCallEnded)===null||s===void 0||s.call(this,l.code)}}doPick(){var r,n;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let a=this.metadata.clone(),s=this.channel.doPick(a,this.callConfig.pickInformation),l=s.subchannel?"("+s.subchannel.getChannelzRef().id+") "+s.subchannel.getAddress():""+s.subchannel;switch(this.trace("Pick result: "+Jl.PickResultType[s.pickResultType]+" subchannel: "+l+" status: "+((r=s.status)===null||r===void 0?void 0:r.code)+" "+((n=s.status)===null||n===void 0?void 0:n.details)),s.pickResultType){case Jl.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(i=>{var c,u,f;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(a.merge(i),a.get("authorization").length>1&&this.outputStatus({code:vd.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new _d.Metadata},"PROCESSED"),s.subchannel.getConnectivityState()!==zV.ConnectivityState.READY){this.trace("Picked subchannel "+l+" has state "+zV.ConnectivityState[s.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&a.set("grpc-timeout",(0,YV.getDeadlineTimeoutString)(this.deadline));try{this.child=s.subchannel.getRealSubchannel().createCall(a,this.host,this.methodName,{onReceiveMetadata:v=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(v)},onReceiveMessage:v=>{this.trace("Received message"),this.listener.onReceiveMessage(v)},onReceiveStatus:v=>{this.trace("Received status"),v.rstCode===gte.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(v,"REFUSED"):this.outputStatus(v,"PROCESSED")}}),this.childStartTime=new Date}catch(v){this.trace("Failed to start call on picked subchannel "+l+" with error "+v.message),this.outputStatus({code:vd.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+v.message,metadata:new _d.Metadata},"NOT_STARTED");return}(u=(c=this.callConfig).onCommitted)===null||u===void 0||u.call(c),(f=s.onCallStarted)===null||f===void 0||f.call(s),this.onCallEnded=s.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},i=>{let{code:c,details:u}=(0,K_.restrictControlPlaneStatusCode)(typeof i.code=="number"?i.code:vd.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${i.message}`);this.outputStatus({code:c,details:u,metadata:new _d.Metadata},"PROCESSED")});break;case Jl.PickResultType.DROP:let{code:t,details:e}=(0,K_.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:t,details:e,metadata:s.status.metadata},"DROP")});break;case Jl.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:i,details:c}=(0,K_.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:i,details:c,metadata:s.status.metadata},"PROCESSED")})}break;case Jl.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(r,n){var a;this.trace("cancelWithStatus code: "+r+' details: "'+n+'"'),(a=this.child)===null||a===void 0||a.cancelWithStatus(r,n),this.outputStatus({code:r,details:n,metadata:new _d.Metadata},"PROCESSED")}getPeer(){var r,n;return(n=(r=this.child)===null||r===void 0?void 0:r.getPeer())!==null&&n!==void 0?n:this.channel.getTarget()}start(r,n){this.trace("start called"),this.listener=n,this.metadata=r,this.doPick()}sendMessageWithContext(r,n){this.trace("write() called with message of length "+n.length),this.child?this.child.sendMessageWithContext(r,n):this.pendingMessage={context:r,message:n}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(r){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};Ed.LoadBalancingCall=W_});var WV=E(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.ResolvingCall=void 0;var ro=ve(),no=Wl(),KV=vt(),Ote=Be(),bte=Sd(),Ate="resolving_call",J_=class{constructor(r,n,a,s,l,t){this.channel=r,this.method=n,this.filterStackFactory=s,this.credentials=l,this.callNumber=t,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.deadline=a.deadline,this.host=a.host,a.parentCall&&(a.flags&ro.Propagate.CANCELLATION&&a.parentCall.on("cancelled",()=>{this.cancelWithStatus(ro.Status.CANCELLED,"Cancelled by parent call")}),a.flags&ro.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+a.parentCall.getDeadline()),this.deadline=(0,no.minDeadline)(this.deadline,a.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(r){Ote.trace(ro.LogVerbosity.DEBUG,Ate,"["+this.callNumber+"] "+r)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,no.deadlineToString)(this.deadline));let r=(0,no.getRelativeTimeout)(this.deadline);if(r!==1/0){this.trace("Deadline will be reached in "+r+"ms");let n=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(ro.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let a=[],s=new Date;a.push(`Deadline exceeded after ${(0,no.formatDateDifference)(this.deadlineStartTime,s)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&a.push(`name resolution: ${(0,no.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&a.push(`metadata filters: ${(0,no.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):a.push("waiting for metadata filters")):a.push("waiting for name resolution"),this.child&&a.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(ro.Status.DEADLINE_EXCEEDED,a.join(","))};r<=0?process.nextTick(n):this.deadlineTimer=setTimeout(n,r)}}outputStatus(r){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let n=this.filterStack.receiveTrailers(r);this.trace("ended with status: code="+n.code+' details="'+n.details+'"'),this.statusWatchers.forEach(a=>a(n)),process.nextTick(()=>{var a;(a=this.listener)===null||a===void 0||a.onReceiveStatus(n)})}}sendMessageOnChild(r,n){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let a=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:n,flags:r.flags})).then(s=>{this.writeFilterPending=!1,a.sendMessageWithContext(r,s.message),this.pendingHalfClose&&a.halfClose()},s=>{this.cancelWithStatus(s.code,s.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let r=this.channel.getConfig(this.method,this.metadata);if(r.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(r.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(r.error);return}this.configReceivedTime=new Date;let n=r.config;if(n.status!==ro.Status.OK){let{code:a,details:s}=(0,bte.restrictControlPlaneStatusCode)(n.status,"Failed to route call to method "+this.method);this.outputStatus({code:a,details:s,metadata:new KV.Metadata});return}if(n.methodConfig.timeout){let a=new Date;a.setSeconds(a.getSeconds()+n.methodConfig.timeout.seconds),a.setMilliseconds(a.getMilliseconds()+n.methodConfig.timeout.nanos/1e6),this.deadline=(0,no.minDeadline)(this.deadline,a),this.runDeadlineTimer()}this.filterStackFactory.push(n.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(a=>{this.child=this.channel.createInnerCall(n,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(a,{onReceiveMetadata:s=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(s))},onReceiveMessage:s=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(s).then(l=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(l),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},l=>{this.cancelWithStatus(l.code,l.details)})},onReceiveStatus:s=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=s:this.outputStatus(s)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},a=>{this.outputStatus(a)})}reportResolverError(r){var n;!((n=this.metadata)===null||n===void 0)&&n.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(r)}cancelWithStatus(r,n){var a;this.trace("cancelWithStatus code: "+r+' details: "'+n+'"'),(a=this.child)===null||a===void 0||a.cancelWithStatus(r,n),this.outputStatus({code:r,details:n,metadata:new KV.Metadata})}getPeer(){var r,n;return(n=(r=this.child)===null||r===void 0?void 0:r.getPeer())!==null&&n!==void 0?n:this.channel.getTarget()}start(r,n){this.trace("start called"),this.metadata=r.clone(),this.listener=n,this.getConfig()}sendMessageWithContext(r,n){this.trace("write() called with message of length "+n.length),this.child?this.sendMessageOnChild(r,n):this.pendingMessage={context:r,message:n}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(r){this.credentials=this.credentials.compose(r)}addStatusWatcher(r){this.statusWatchers.push(r)}getCallNumber(){return this.callNumber}};gd.ResolvingCall=J_});var JV=E(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.RetryingCall=li.MessageBufferTracker=li.RetryThrottler=void 0;var Td=ve(),Nte=Wl(),xte=vt(),Rte=Be(),Pte="retrying_call",Q_=class{constructor(r,n,a){this.maxTokens=r,this.tokenRatio=n,a?this.tokens=a.tokens*(r/a.maxTokens):this.tokens=r}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};li.RetryThrottler=Q_;var Z_=class{constructor(r,n){this.totalLimit=r,this.limitPerCall=n,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(r,n){var a;let s=(a=this.allocatedPerCall.get(n))!==null&&a!==void 0?a:0;return this.limitPerCall-s<r||this.totalLimit-this.totalAllocated<r?!1:(this.allocatedPerCall.set(n,s+r),this.totalAllocated+=r,!0)}free(r,n){var a;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${n} freed ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r;let s=(a=this.allocatedPerCall.get(n))!==null&&a!==void 0?a:0;if(s<r)throw new Error(`Invalid buffer allocation state: call ${n} freed ${r} > allocated for call ${s}`);this.allocatedPerCall.set(n,s-r)}freeAll(r){var n;let a=(n=this.allocatedPerCall.get(r))!==null&&n!==void 0?n:0;if(this.totalAllocated<a)throw new Error(`Invalid buffer allocation state: call ${r} allocated ${a} > total allocated ${this.totalAllocated}`);this.totalAllocated-=a,this.allocatedPerCall.delete(r)}};li.MessageBufferTracker=Z_;var X_="grpc-previous-rpc-attempts",eE=class{constructor(r,n,a,s,l,t,e,i,c){if(this.channel=r,this.callConfig=n,this.methodName=a,this.host=s,this.credentials=l,this.deadline=t,this.callNumber=e,this.bufferTracker=i,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,n.methodConfig.retryPolicy){this.state="RETRY";let u=n.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(u.initialBackoff.substring(0,u.initialBackoff.length-1))}else n.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY";this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let r=[],n=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&r.push(`previous attempts: ${this.underlyingCalls.length-1}`),n.startTime>this.startTime&&r.push(`time to current attempt start: ${(0,Nte.formatDateDifference)(this.startTime,n.startTime)}`),r.push(...n.call.getDeadlineInfo()),r}getCallNumber(){return this.callNumber}trace(r){Rte.trace(Td.LogVerbosity.DEBUG,Pte,"["+this.callNumber+"] "+r)}reportStatus(r){this.trace("ended with status: code="+r.code+' details="'+r.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var n;(n=this.listener)===null||n===void 0||n.onReceiveStatus({code:r.code,details:r.details,metadata:r.metadata})})}cancelWithStatus(r,n){this.trace("cancelWithStatus code: "+r+' details: "'+n+'"'),this.reportStatus({code:r,details:n,metadata:new xte.Metadata});for(let{call:a}of this.underlyingCalls)a.cancelWithStatus(r,n)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(r){var n;return(n=this.writeBuffer[r-this.writeBufferOffset])!==null&&n!==void 0?n:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let r=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let n=this.writeBufferOffset;n<r;n++){let a=this.getBufferEntry(n);a.allocated&&this.bufferTracker.free(a.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(r-this.writeBufferOffset),this.writeBufferOffset=r}commitCall(r){if(this.state!=="COMMITTED"&&this.underlyingCalls[r].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[r].call.getCallNumber()+"] at index "+r),this.state="COMMITTED",this.committedCallIndex=r;for(let n=0;n<this.underlyingCalls.length;n++)n!==r&&this.underlyingCalls[n].state!=="COMPLETED"&&(this.underlyingCalls[n].state="COMPLETED",this.underlyingCalls[n].call.cancelWithStatus(Td.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let r=-1,n=-1;for(let[a,s]of this.underlyingCalls.entries())s.state==="ACTIVE"&&s.nextMessageToSend>r&&(r=s.nextMessageToSend,n=a);n===-1?this.state="TRANSPARENT_ONLY":this.commitCall(n)}isStatusCodeInList(r,n){return r.some(a=>a===n||a.toString().toLowerCase()===Td.Status[n].toLowerCase())}getNextRetryBackoffMs(){var r;let n=(r=this.callConfig)===null||r===void 0?void 0:r.methodConfig.retryPolicy;if(!n)return 0;let a=Math.random()*this.nextRetryBackoffSec*1e3,s=Number(n.maxBackoff.substring(0,n.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*n.backoffMultiplier,s),a}maybeRetryCall(r,n){if(this.state!=="RETRY"){n(!1);return}let a=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(a.maxAttempts,5)){n(!1);return}let s;if(r===null)s=this.getNextRetryBackoffMs();else if(r<0){this.state="TRANSPARENT_ONLY",n(!1);return}else s=r,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var l,t;if(this.state!=="RETRY"){n(!1);return}(!((t=(l=this.retryThrottler)===null||l===void 0?void 0:l.canRetryCall())!==null&&t!==void 0)||t)&&(n(!0),this.attempts+=1,this.startNewAttempt())},s)}countActiveCalls(){let r=0;for(let n of this.underlyingCalls)(n==null?void 0:n.state)==="ACTIVE"&&(r+=1);return r}handleProcessedStatus(r,n,a){var s,l,t;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(n),this.reportStatus(r);break;case"HEDGING":if(this.isStatusCodeInList((s=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&s!==void 0?s:[],r.code)){(l=this.retryThrottler)===null||l===void 0||l.addCallFailed();let e;if(a===null)e=0;else if(a<0){this.state="TRANSPARENT_ONLY",this.commitCall(n),this.reportStatus(r);return}else e=a;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(n),this.reportStatus(r))},e)}else this.commitCall(n),this.reportStatus(r);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,r.code)?((t=this.retryThrottler)===null||t===void 0||t.addCallFailed(),this.maybeRetryCall(a,e=>{e||(this.commitCall(n),this.reportStatus(r))})):(this.commitCall(n),this.reportStatus(r));break}}getPushback(r){let n=r.get("grpc-retry-pushback-ms");if(n.length===0)return null;try{return parseInt(n[0])}catch{return-1}}handleChildStatus(r,n){var a;if(this.underlyingCalls[n].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+r.progress+" from child ["+this.underlyingCalls[n].call.getCallNumber()+"] in state "+this.underlyingCalls[n].state),this.underlyingCalls[n].state="COMPLETED",r.code===Td.Status.OK){(a=this.retryThrottler)===null||a===void 0||a.addCallSucceeded(),this.commitCall(n),this.reportStatus(r);return}if(this.state==="COMMITTED"){this.reportStatus(r);return}let s=this.getPushback(r.metadata);switch(r.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(r,n,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(n),this.reportStatus(r);break;case"PROCESSED":this.handleProcessedStatus(r,n,s);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let r=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(r.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var r,n,a;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let s=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(s.maxAttempts,5))return;let l=(r=s.hedgingDelay)!==null&&r!==void 0?r:"0s",t=Number(l.substring(0,l.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},t*1e3),(a=(n=this.hedgingTimer).unref)===null||a===void 0||a.call(n)}startNewAttempt(){let r=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+r.getCallNumber()+"] for attempt "+this.attempts);let n=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:r,nextMessageToSend:0,startTime:new Date});let a=this.attempts-1,s=this.initialMetadata.clone();a>0&&s.set(X_,`${a}`);let l=!1;r.start(s,{onReceiveMetadata:t=>{this.trace("Received metadata from child ["+r.getCallNumber()+"]"),this.commitCall(n),l=!0,a>0&&t.set(X_,`${a}`),this.underlyingCalls[n].state==="ACTIVE"&&this.listener.onReceiveMetadata(t)},onReceiveMessage:t=>{this.trace("Received message from child ["+r.getCallNumber()+"]"),this.commitCall(n),this.underlyingCalls[n].state==="ACTIVE"&&this.listener.onReceiveMessage(t)},onReceiveStatus:t=>{this.trace("Received status from child ["+r.getCallNumber()+"]"),!l&&a>0&&t.metadata.set(X_,`${a}`),this.handleChildStatus(t,n)}}),this.sendNextChildMessage(n),this.readStarted&&r.startRead()}start(r,n){this.trace("start called"),this.listener=n,this.initialMetadata=r,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(r){var n,a;let s=this.underlyingCalls[r],l=s.nextMessageToSend;(a=(n=this.getBufferEntry(l)).callback)===null||a===void 0||a.call(n),this.clearSentMessages(),s.nextMessageToSend+=1,this.sendNextChildMessage(r)}sendNextChildMessage(r){let n=this.underlyingCalls[r];if(n.state!=="COMPLETED"&&this.getBufferEntry(n.nextMessageToSend)){let a=this.getBufferEntry(n.nextMessageToSend);switch(a.entryType){case"MESSAGE":n.call.sendMessageWithContext({callback:s=>{this.handleChildWriteCompleted(r)}},a.message.message);break;case"HALF_CLOSE":n.nextMessageToSend+=1,n.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(r,n){var a;this.trace("write() called with message of length "+n.length);let s={message:n,flags:r.flags},l=this.getNextBufferIndex(),t={entryType:"MESSAGE",message:s,allocated:this.bufferTracker.allocate(n.length,this.callNumber)};if(this.writeBuffer.push(t),t.allocated){(a=r.callback)===null||a===void 0||a.call(r);for(let[e,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend===l&&i.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(e)}},n)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let e=this.underlyingCalls[this.committedCallIndex];t.callback=r.callback,e.state==="ACTIVE"&&e.nextMessageToSend===l&&e.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(this.committedCallIndex)}},n)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let r of this.underlyingCalls)(r==null?void 0:r.state)==="ACTIVE"&&r.call.startRead()}halfClose(){this.trace("halfClose called");let r=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let n of this.underlyingCalls)(n==null?void 0:n.state)==="ACTIVE"&&n.nextMessageToSend===r&&(n.nextMessageToSend+=1,n.call.halfClose())}setCredentials(r){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};li.RetryingCall=eE});var bd=E(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.BaseSubchannelWrapper=void 0;var tE=class{constructor(r){this.child=r,this.healthy=!0,this.healthListeners=new Set,r.addHealthStateWatcher(n=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let r of this.healthListeners)r(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(r){this.child.addConnectivityStateListener(r)}removeConnectivityStateListener(r){this.child.removeConnectivityStateListener(r)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(r){this.child.throttleKeepalive(r)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(r){this.healthListeners.add(r)}removeHealthStateWatcher(r){this.healthListeners.delete(r)}setHealthy(r){r!==this.healthy&&(this.healthy=r,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(r){return this.getRealSubchannel()===r.getRealSubchannel()}};Od.BaseSubchannelWrapper=tE});var ZV=E(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.InternalChannel=void 0;var Cte=fp(),Ite=nk(),wte=VV(),XV=Wn(),Xl=ve(),Lte=F_(),Mte=GV(),QV=qr(),rE=Be(),Ute=jV(),Dte=C_(),Ad=qt(),Zr=nr(),Ql=eo(),kte=$V(),Vte=Wl(),Bte=WV(),nE=M_(),Fte=Sd(),iE=JV(),qte=bd(),Gte=2147483647,Hte=1e3,jte=30*60*1e3,Nd=new Map,zte=1<<24,Yte=1<<20,oE=class extends qte.BaseSubchannelWrapper{constructor(r,n){super(r),this.channel=n,this.refCount=0,this.subchannelStateListener=(a,s,l,t)=>{n.throttleKeepalive(t)},r.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},sE=class{constructor(r,n,a){var s,l,t,e,i,c,u,f;if(this.credentials=n,this.options=a,this.connectivityState=Zr.ConnectivityState.IDLE,this.currentPicker=new XV.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new Ql.ChannelzCallTracker,this.childrenTracker=new Ql.ChannelzChildrenTracker,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof r!="string")throw new TypeError("Channel target must be a string");if(!(n instanceof Cte.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(a&&typeof a!="object")throw new TypeError("Channel options must be an object");this.originalTarget=r;let v=(0,Ad.parseUri)(r);if(v===null)throw new Error(`Could not parse target name "${r}"`);let _=(0,QV.mapUriDefaultScheme)(v);if(_===null)throw new Error(`Could not find a default scheme for target name "${r}"`);this.callRefTimer=setInterval(()=>{},Gte),(l=(s=this.callRefTimer).unref)===null||l===void 0||l.call(s),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Ql.ChannelzTrace,this.channelzRef=(0,Ql.registerChannelzChannel)(r,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,QV.getDefaultAuthority)(_);let x=(0,Dte.mapProxyName)(_,a);this.target=x.target,this.options=Object.assign({},this.options,x.extraOptions),this.subchannelPool=(0,wte.getSubchannelPool)(((t=a["grpc.use_local_subchannel_pool"])!==null&&t!==void 0?t:0)===0),this.retryBufferTracker=new iE.MessageBufferTracker((e=a["grpc.retry_buffer_size"])!==null&&e!==void 0?e:zte,(i=a["grpc.per_rpc_retry_buffer_size"])!==null&&i!==void 0?i:Yte),this.keepaliveTime=(c=a["grpc.keepalive_time_ms"])!==null&&c!==void 0?c:-1,this.idleTimeoutMs=Math.max((u=a["grpc.client_idle_timeout_ms"])!==null&&u!==void 0?u:jte,Hte);let O={createSubchannel:(N,C)=>{let D=this.subchannelPool.getOrCreateSubchannel(this.target,N,Object.assign({},this.options,C),this.credentials);D.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",D.getChannelzRef());let M=new oE(D,this);return this.wrappedSubchannels.add(M),M},updateState:(N,C)=>{this.currentPicker=C;let D=this.pickQueue.slice();this.pickQueue=[],D.length>0&&this.callRefTimerUnref();for(let M of D)M.doPick();this.updateState(N)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:N=>{this.channelzEnabled&&this.childrenTracker.refChild(N)},removeChannelzChild:N=>{this.channelzEnabled&&this.childrenTracker.unrefChild(N)}};this.resolvingLoadBalancer=new Ite.ResolvingLoadBalancer(this.target,O,a,(N,C)=>{N.retryThrottling?Nd.set(this.getTarget(),new iE.RetryThrottler(N.retryThrottling.maxTokens,N.retryThrottling.tokenRatio,Nd.get(this.getTarget()))):Nd.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=C,this.currentResolutionError=null,process.nextTick(()=>{let D=this.configSelectionQueue;this.configSelectionQueue=[],D.length>0&&this.callRefTimerUnref();for(let M of D)M.getConfig()})},N=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+N.code+' and details "'+N.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,Fte.restrictControlPlaneStatusCode)(N.code,N.details)),{metadata:N.metadata}));let C=this.configSelectionQueue;this.configSelectionQueue=[],C.length>0&&this.callRefTimerUnref();for(let D of C)D.reportResolverError(N)}),this.filterStackFactory=new Lte.FilterStackFactory([new Ute.MaxMessageSizeFilterFactory(this.options),new Mte.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(a,void 0,2));let R=new Error;(0,rE.trace)(Xl.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((f=R.stack)===null||f===void 0?void 0:f.substring(R.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(r,n){(0,rE.trace)(n??Xl.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,Ad.uriToString)(this.target)+" "+r)}callRefTimerRef(){var r,n,a,s;!((n=(r=this.callRefTimer).hasRef)===null||n===void 0)&&n.call(r)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(s=(a=this.callRefTimer).ref)===null||s===void 0||s.call(a))}callRefTimerUnref(){var r,n;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(n=(r=this.callRefTimer).unref)===null||n===void 0||n.call(r))}removeConnectivityStateWatcher(r){let n=this.connectivityStateWatchers.findIndex(a=>a===r);n>=0&&this.connectivityStateWatchers.splice(n,1)}updateState(r){(0,rE.trace)(Xl.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,Ad.uriToString)(this.target)+" "+Zr.ConnectivityState[this.connectivityState]+" -> "+Zr.ConnectivityState[r]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Zr.ConnectivityState[r]),this.connectivityState=r;let n=this.connectivityStateWatchers.slice();for(let a of n)r!==a.currentState&&(a.timer&&clearTimeout(a.timer),this.removeConnectivityStateWatcher(a),a.callback());r!==Zr.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(r){if(r>this.keepaliveTime){this.keepaliveTime=r;for(let n of this.wrappedSubchannels)n.throttleKeepalive(r)}}removeWrappedSubchannel(r){this.wrappedSubchannels.delete(r)}doPick(r,n){return this.currentPicker.pick({metadata:r,extraPickInfo:n})}queueCallForPick(r){this.pickQueue.push(r),this.callRefTimerRef()}getConfig(r,n){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(r,n,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(r){this.configSelectionQueue.push(r),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Zr.ConnectivityState.IDLE),this.currentPicker=new XV.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(r){var n,a;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let l=new Date().valueOf()-this.lastActivityTimestamp.valueOf();l>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-l)},r),(a=(n=this.idleTimer).unref)===null||a===void 0||a.call(n)}maybeStartIdleTimer(){this.connectivityState!==Zr.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(r){this.channelzEnabled&&(r.code===Xl.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(r,n,a,s,l){let t=(0,nE.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+t+'] method="'+n+'"'),new kte.LoadBalancingCall(this,r,n,a,s,l,t)}createRetryingCall(r,n,a,s,l){let t=(0,nE.getNextCallNumber)();return this.trace("createRetryingCall ["+t+'] method="'+n+'"'),new iE.RetryingCall(this,r,n,a,s,l,t,this.retryBufferTracker,Nd.get(this.getTarget()))}createInnerCall(r,n,a,s,l){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(r,n,a,s,l):this.createRetryingCall(r,n,a,s,l)}createResolvingCall(r,n,a,s,l){let t=(0,nE.getNextCallNumber)();this.trace("createResolvingCall ["+t+'] method="'+r+'", deadline='+(0,Vte.deadlineToString)(n));let e={deadline:n,flags:l??Xl.Propagate.DEFAULTS,host:a??this.defaultAuthority,parentCall:s},i=new Bte.ResolvingCall(this,r,e,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),t);return this.onCallStart(),i.addStatusWatcher(c=>{this.onCallEnd(c)}),i}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Zr.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,Ql.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,Ad.uriToString)(this.target)}getConnectivityState(r){let n=this.connectivityState;return r&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),n}watchConnectivityState(r,n,a){if(this.connectivityState===Zr.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let s=null;if(n!==1/0){let t=n instanceof Date?n:new Date(n),e=new Date;if(n===-1/0||t<=e){process.nextTick(a,new Error("Deadline passed without connectivity state change"));return}s=setTimeout(()=>{this.removeConnectivityStateWatcher(l),a(new Error("Deadline passed without connectivity state change"))},t.getTime()-e.getTime())}let l={currentState:r,callback:a,timer:s};this.connectivityStateWatchers.push(l)}getChannelzRef(){return this.channelzRef}createCall(r,n,a,s,l){if(typeof r!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof n=="number"||n instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Zr.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(r,n,a,s,l)}};xd.InternalChannel=sE});var xv=E(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.ChannelImplementation=void 0;var $te=fp(),Kte=ZV(),aE=class{constructor(r,n,a){if(typeof r!="string")throw new TypeError("Channel target must be a string");if(!(n instanceof $te.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(a&&typeof a!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new Kte.InternalChannel(r,n,a)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(r){return this.internalChannel.getConnectivityState(r)}watchConnectivityState(r,n,a){this.internalChannel.watchConnectivityState(r,n,a)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(r,n,a,s,l){if(typeof r!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof n=="number"||n instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(r,n,a,s,l)}};Rd.ChannelImplementation=aE});var tB=E(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.ServerDuplexStreamImpl=pr.ServerWritableStreamImpl=pr.ServerReadableStreamImpl=pr.ServerUnaryCallImpl=pr.serverErrorToStatus=void 0;var Wte=B("events"),pE=B("stream"),dE=ve(),eB=vt();function hE(o,r){var n;let a={code:dE.Status.UNKNOWN,details:"message"in o?o.message:"Unknown Error",metadata:(n=r??o.metadata)!==null&&n!==void 0?n:null};return"code"in o&&typeof o.code=="number"&&Number.isInteger(o.code)&&(a.code=o.code,"details"in o&&typeof o.details=="string"&&(a.details=o.details)),a}pr.serverErrorToStatus=hE;var lE=class extends Wte.EventEmitter{constructor(r,n,a,s){super(),this.path=r,this.call=n,this.metadata=a,this.request=s,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(r){this.call.sendMetadata(r)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};pr.ServerUnaryCallImpl=lE;var cE=class extends pE.Readable{constructor(r,n,a){super({objectMode:!0}),this.path=r,this.call=n,this.metadata=a,this.cancelled=!1}_read(r){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(r){this.call.sendMetadata(r)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};pr.ServerReadableStreamImpl=cE;var uE=class extends pE.Writable{constructor(r,n,a,s){super({objectMode:!0}),this.path=r,this.call=n,this.metadata=a,this.request=s,this.pendingStatus={code:dE.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new eB.Metadata,this.on("error",l=>{this.pendingStatus=hE(l),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(r){this.call.sendMetadata(r)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_write(r,n,a){this.call.sendMessage(r,a)}_final(r){var n;r(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(n=this.pendingStatus.metadata)!==null&&n!==void 0?n:this.trailingMetadata}))}end(r){return r&&(this.trailingMetadata=r),super.end()}};pr.ServerWritableStreamImpl=uE;var fE=class extends pE.Duplex{constructor(r,n,a){super({objectMode:!0}),this.path=r,this.call=n,this.metadata=a,this.pendingStatus={code:dE.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new eB.Metadata,this.on("error",s=>{this.pendingStatus=hE(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(r){this.call.sendMetadata(r)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_read(r){this.call.startRead()}_write(r,n,a){this.call.sendMessage(r,a)}_final(r){var n;r(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(n=this.pendingStatus.metadata)!==null&&n!==void 0?n:this.trailingMetadata}))}end(r){return r&&(this.trailingMetadata=r),super.end()}};pr.ServerDuplexStreamImpl=fE});var SE=E(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.ServerCredentials=void 0;var rB=JS(),Zl=class{static createInsecure(){return new mE}static createSsl(r,n,a=!1){var s;if(r!==null&&!Buffer.isBuffer(r))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(n))throw new TypeError("keyCertPairs must be an array");if(typeof a!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let l=[],t=[];for(let e=0;e<n.length;e++){let i=n[e];if(i===null||typeof i!="object")throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(i.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(i.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);l.push(i.cert_chain),t.push(i.private_key)}return new yE({ca:(s=r??(0,rB.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,cert:l,key:t,requestCert:a,ciphers:rB.CIPHER_SUITES})}};Pd.ServerCredentials=Zl;var mE=class o extends Zl{_isSecure(){return!1}_getSettings(){return null}_equals(r){return r instanceof o}},yE=class o extends Zl{constructor(r){super(),this.options=r}_isSecure(){return!0}_getSettings(){return this.options}_equals(r){if(this===r)return!0;if(!(r instanceof o))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(r.options.ca)){if(!this.options.ca.equals(r.options.ca))return!1}else if(this.options.ca!==r.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(r.options.cert)){if(this.options.cert.length!==r.options.cert.length)return!1;for(let n=0;n<this.options.cert.length;n++){let a=this.options.cert[n],s=r.options.cert[n];if(Buffer.isBuffer(a)&&Buffer.isBuffer(s)){if(!a.equals(s))return!1}else if(a!==s)return!1}}else if(this.options.cert!==r.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(r.options.key)){if(this.options.key.length!==r.options.key.length)return!1;for(let n=0;n<this.options.key.length;n++){let a=this.options.key[n],s=r.options.key[n];if(Buffer.isBuffer(a)&&Buffer.isBuffer(s)){if(!a.equals(s))return!1}else if(a!==s)return!1}}else if(this.options.key!==r.options.key)return!1;return this.options.requestCert===r.options.requestCert}}});var bE=E(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getServerInterceptingCall=Mt.BaseServerInterceptingCall=Mt.ServerInterceptingCall=Mt.ResponderBuilder=Mt.isInterceptingServerListener=Mt.ServerListenerBuilder=void 0;var nB=vt(),jt=ve(),Ds=B("http2"),iB=op(),lB=B("zlib"),cB=B("util"),Jte=w_(),uB=Be(),Xte=(0,cB.promisify)(lB.unzip),Qte=(0,cB.promisify)(lB.inflate),fB="server_call";function io(o){uB.trace(jt.LogVerbosity.DEBUG,fB,o)}var _E=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(r){return this.metadata=r,this}withOnReceiveMessage(r){return this.message=r,this}withOnReceiveHalfClose(r){return this.halfClose=r,this}withOnCancel(r){return this.cancel=r,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};Mt.ServerListenerBuilder=_E;function Zte(o){return o.onReceiveMetadata!==void 0&&o.onReceiveMetadata.length===1}Mt.isInterceptingServerListener=Zte;var EE=class{constructor(r,n){this.listener=r,this.nextListener=n,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(r){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(r,n=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(n),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(r){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(r,n=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=n,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(n),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}},gE=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(r){return this.start=r,this}withSendMetadata(r){return this.metadata=r,this}withSendMessage(r){return this.message=r,this}withSendStatus(r){return this.status=r,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};Mt.ResponderBuilder=gE;var Cd={onReceiveMetadata:(o,r)=>{r(o)},onReceiveMessage:(o,r)=>{r(o)},onReceiveHalfClose:o=>{o()},onCancel:()=>{}},Id={start:o=>{o()},sendMetadata:(o,r)=>{r(o)},sendMessage:(o,r)=>{r(o)},sendStatus:(o,r)=>{r(o)}},TE=class{constructor(r,n){var a,s,l,t;this.nextCall=r,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(a=n==null?void 0:n.start)!==null&&a!==void 0?a:Id.start,sendMetadata:(s=n==null?void 0:n.sendMetadata)!==null&&s!==void 0?s:Id.sendMetadata,sendMessage:(l=n==null?void 0:n.sendMessage)!==null&&l!==void 0?l:Id.sendMessage,sendStatus:(t=n==null?void 0:n.sendStatus)!==null&&t!==void 0?t:Id.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(r){this.responder.start(n=>{var a,s,l,t;let e={onReceiveMetadata:(a=n==null?void 0:n.onReceiveMetadata)!==null&&a!==void 0?a:Cd.onReceiveMetadata,onReceiveMessage:(s=n==null?void 0:n.onReceiveMessage)!==null&&s!==void 0?s:Cd.onReceiveMessage,onReceiveHalfClose:(l=n==null?void 0:n.onReceiveHalfClose)!==null&&l!==void 0?l:Cd.onReceiveHalfClose,onCancel:(t=n==null?void 0:n.onCancel)!==null&&t!==void 0?t:Cd.onCancel},i=new EE(e,r);this.nextCall.start(i)})}sendMetadata(r){this.processingMetadata=!0,this.responder.sendMetadata(r,n=>{this.processingMetadata=!1,this.nextCall.sendMetadata(n),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(r,n){this.processingMessage=!0,this.responder.sendMessage(r,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=a,this.pendingMessageCallback=n):this.nextCall.sendMessage(a,n)})}sendStatus(r){this.responder.sendStatus(r,n=>{this.processingMetadata||this.processingMessage?this.pendingStatus=n:this.nextCall.sendStatus(n)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}};Mt.ServerInterceptingCall=TE;var pB="grpc-accept-encoding",OE="grpc-encoding",oB="grpc-message",sB="grpc-status",vE="grpc-timeout",ere=/(\d{1,8})\s*([HMSmun])/,tre={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},rre={[pB]:"identity,deflate,gzip",[OE]:"identity"},aB={[Ds.constants.HTTP2_HEADER_STATUS]:Ds.constants.HTTP_STATUS_OK,[Ds.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},nre={waitForTrailers:!0},wd=class{constructor(r,n,a,s,l){this.stream=r,this.callEventTracker=a,this.handler=s,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=jt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=jt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.decoder=new Jte.StreamDecoder,this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",c=>{}),this.stream.once("close",()=>{var c;io("Request to method "+((c=this.handler)===null||c===void 0?void 0:c.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:jt.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",c=>{this.handleDataFrame(c)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in l&&(this.maxSendMessageSize=l["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in l&&(this.maxReceiveMessageSize=l["grpc.max_receive_message_length"]);let t=nB.Metadata.fromHttp2Headers(n);uB.isTracerEnabled(fB)&&io("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let e=t.get(vE);e.length>0&&this.handleTimeoutHeader(e[0]);let i=t.get(OE);i.length>0&&(this.incomingEncoding=i[0]),t.remove(vE),t.remove(OE),t.remove(pB),t.remove(Ds.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(Ds.constants.HTTP2_HEADER_TE),t.remove(Ds.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=t}handleTimeoutHeader(r){let n=r.toString().match(ere);if(n===null){let l={code:jt.Status.INTERNAL,details:`Invalid ${vE} value "${r}"`,metadata:null};process.nextTick(()=>{this.sendStatus(l)});return}let a=+n[1]*tre[n[2]]|0,s=new Date;this.deadline=s.setMilliseconds(s.getMilliseconds()+a),this.deadlineTimer=setTimeout(()=>{let l={code:jt.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(l)},a)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new nB.Metadata)}serializeMessage(r){let n=this.handler.serialize(r),a=n.byteLength,s=Buffer.allocUnsafe(a+5);return s.writeUInt8(0,0),s.writeUInt32BE(a,1),n.copy(s,5),s}decompressMessage(r,n){switch(n){case"deflate":return Qte(r.subarray(5));case"gzip":return Xte(r.subarray(5));case"identity":return r.subarray(5);default:return Promise.reject({code:jt.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${n}"`})}}async decompressAndMaybePush(r){if(r.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${r.type}`);let a=r.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",s=await this.decompressMessage(r.compressedMessage,a);try{r.parsedMessage=this.handler.deserialize(s)}catch(l){this.sendStatus({code:jt.Status.INTERNAL,details:`Error deserializing request: ${l.message}`});return}r.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let r=this.readQueue.shift();r.type==="READABLE"?this.listener.onReceiveMessage(r.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(r){var n;if(this.checkCancelled())return;io("Request to "+this.handler.path+" received data frame of size "+r.length);let a=this.decoder.write(r);for(let s of a){if(this.stream.pause(),this.maxReceiveMessageSize!==-1&&s.length-5>this.maxReceiveMessageSize){this.sendStatus({code:jt.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s.length-5} vs. ${this.maxReceiveMessageSize})`,metadata:null});return}let l={type:"COMPRESSED",compressedMessage:s,parsedMessage:null};this.readQueue.push(l),this.decompressAndMaybePush(l),(n=this.callEventTracker)===null||n===void 0||n.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(r){io("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=r,r.onReceiveMetadata(this.metadata))}sendMetadata(r){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let n=r?r.toHttp2Headers():null,a=Object.assign(Object.assign(Object.assign({},aB),rre),n);this.stream.respond(a,nre)}sendMessage(r,n){if(this.checkCancelled())return;let a;try{a=this.serializeMessage(r)}catch(s){this.sendStatus({code:jt.Status.INTERNAL,details:`Error serializing response: ${(0,iB.getErrorMessage)(s)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&a.length-5>this.maxSendMessageSize){this.sendStatus({code:jt.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${a.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),io("Request to "+this.handler.path+" sent data frame of size "+a.length),this.stream.write(a,s=>{var l;if(s){this.sendStatus({code:jt.Status.INTERNAL,details:`Error writing message: ${(0,iB.getErrorMessage)(s)}`,metadata:null});return}(l=this.callEventTracker)===null||l===void 0||l.addMessageSent(),n()})}sendStatus(r){var n,a;if(!this.checkCancelled())if(io("Request to method "+((n=this.handler)===null||n===void 0?void 0:n.path)+" ended with status code: "+jt.Status[r.code]+" details: "+r.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var s;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(r));let l=Object.assign({[sB]:r.code,[oB]:encodeURI(r.details)},(s=r.metadata)===null||s===void 0?void 0:s.toHttp2Headers());this.stream.sendTrailers(l),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(r));let s=Object.assign(Object.assign({[sB]:r.code,[oB]:encodeURI(r.details)},aB),(a=r.metadata)===null||a===void 0?void 0:a.toHttp2Headers());this.stream.respond(s,{endStream:!0}),this.notifyOnCancel()}}startRead(){io("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var r;let n=(r=this.stream.session)===null||r===void 0?void 0:r.socket;return n!=null&&n.remoteAddress?n.remotePort?`${n.remoteAddress}:${n.remotePort}`:n.remoteAddress:"unknown"}getDeadline(){return this.deadline}};Mt.BaseServerInterceptingCall=wd;function ire(o,r,n,a,s,l){let t={path:s.path,requestStream:s.type==="clientStream"||s.type==="bidi",responseStream:s.type==="serverStream"||s.type==="bidi",requestDeserialize:s.deserialize,responseSerialize:s.serialize},e=new wd(r,n,a,s,l);return o.reduce((i,c)=>c(t,i),e)}Mt.getServerInterceptingCall=ire});var vB=E(ui=>{"use strict";var ore=ui&&ui.__runInitializers||function(o,r,n){for(var a=arguments.length>2,s=0;s<r.length;s++)n=a?r[s].call(o,n):r[s].call(o);return a?n:void 0},sre=ui&&ui.__esDecorate||function(o,r,n,a,s,l){function t(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var e=a.kind,i=e==="getter"?"get":e==="setter"?"set":"value",c=!r&&o?a.static?o:o.prototype:null,u=r||(c?Object.getOwnPropertyDescriptor(c,a.name):{}),f,v=!1,_=n.length-1;_>=0;_--){var x={};for(var O in a)x[O]=O==="access"?{}:a[O];for(var O in a.access)x.access[O]=a.access[O];x.addInitializer=function(N){if(v)throw new TypeError("Cannot add initializers after decoration has completed");l.push(t(N||null))};var R=(0,n[_])(e==="accessor"?{get:u.get,set:u.set}:u[i],x);if(e==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(f=t(R.get))&&(u.get=f),(f=t(R.set))&&(u.set=f),(f=t(R.init))&&s.unshift(f)}else(f=t(R))&&(e==="field"?s.unshift(f):u[i]=f)}c&&Object.defineProperty(c,a.name,u),v=!0};Object.defineProperty(ui,"__esModule",{value:!0});ui.Server=void 0;var zt=B("http2"),are=B("util"),ot=ve(),Vs=tB(),lre=SE(),dB=qr(),AE=Be(),ci=Tr(),xr=qt(),ft=eo(),hB=bE(),ks=~(1<<31),NE=~(1<<31),cre=2e4,mB=~(1<<31),{HTTP2_HEADER_PATH:yB}=zt.constants,ure="server",SB=Buffer.from("max_age");function fre(){}function pre(o){return function(r,n){return are.deprecate(r,o)}}function xE(o){return{code:ot.Status.UNIMPLEMENTED,details:`The server does not implement the method ${o}`}}function dre(o,r){let n=xE(r);switch(o){case"unary":return(a,s)=>{s(n,null)};case"clientStream":return(a,s)=>{s(n,null)};case"serverStream":return a=>{a.emit("error",n)};case"bidi":return a=>{a.emit("error",n)};default:throw new Error(`Invalid handlerType ${o}`)}}var hre=(()=>{var o;let r=[],n;return o=class{constructor(s){var l,t,e,i,c,u;this.boundPorts=(ore(this,r),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=s??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new ft.ChannelzTraceStub,this.callTracker=new ft.ChannelzCallTrackerStub,this.listenerChildrenTracker=new ft.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new ft.ChannelzChildrenTrackerStub):(this.channelzTrace=new ft.ChannelzTrace,this.callTracker=new ft.ChannelzCallTracker,this.listenerChildrenTracker=new ft.ChannelzChildrenTracker,this.sessionChildrenTracker=new ft.ChannelzChildrenTracker),this.channelzRef=(0,ft.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(l=this.options["grpc.max_connection_age_ms"])!==null&&l!==void 0?l:ks,this.maxConnectionAgeGraceMs=(t=this.options["grpc.max_connection_age_grace_ms"])!==null&&t!==void 0?t:ks,this.keepaliveTimeMs=(e=this.options["grpc.keepalive_time_ms"])!==null&&e!==void 0?e:NE,this.keepaliveTimeoutMs=(i=this.options["grpc.keepalive_timeout_ms"])!==null&&i!==void 0?i:cre,this.sessionIdleTimeout=(c=this.options["grpc.max_connection_idle_ms"])!==null&&c!==void 0?c:mB,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(u=this.options.interceptors)!==null&&u!==void 0?u:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(s){var l,t,e;let i=this.sessions.get(s),c=s.socket,u=c.remoteAddress?(0,ci.stringToSubchannelAddress)(c.remoteAddress,c.remotePort):null,f=c.localAddress?(0,ci.stringToSubchannelAddress)(c.localAddress,c.localPort):null,v;if(s.encrypted){let x=c,O=x.getCipher(),R=x.getCertificate(),N=x.getPeerCertificate();v={cipherSuiteStandardName:(l=O.standardName)!==null&&l!==void 0?l:null,cipherSuiteOtherName:O.standardName?null:O.name,localCertificate:R&&"raw"in R?R.raw:null,remoteCertificate:N&&"raw"in N?N.raw:null}}else v=null;return{remoteAddress:u,localAddress:f,security:v,remoteName:null,streamsStarted:i.streamTracker.callsStarted,streamsSucceeded:i.streamTracker.callsSucceeded,streamsFailed:i.streamTracker.callsFailed,messagesSent:i.messagesSent,messagesReceived:i.messagesReceived,keepAlivesSent:i.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:i.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:i.lastMessageSentTimestamp,lastMessageReceivedTimestamp:i.lastMessageReceivedTimestamp,localFlowControlWindow:(t=s.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(e=s.state.remoteWindowSize)!==null&&e!==void 0?e:null}}trace(s){AE.trace(ot.LogVerbosity.DEBUG,ure,"("+this.channelzRef.id+") "+s)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(s,l){if(s===null||typeof s!="object"||l===null||typeof l!="object")throw new Error("addService() requires two objects as arguments");let t=Object.keys(s);if(t.length===0)throw new Error("Cannot add an empty service to a server");t.forEach(e=>{let i=s[e],c;i.requestStream?i.responseStream?c="bidi":c="clientStream":i.responseStream?c="serverStream":c="unary";let u=l[e],f;if(u===void 0&&typeof i.originalName=="string"&&(u=l[i.originalName]),u!==void 0?f=u.bind(l):f=dre(c,e),this.register(i.path,f,i.responseSerialize,i.requestDeserialize,c)===!1)throw new Error(`Method handler for ${i.path} already provided.`)})}removeService(s){if(s===null||typeof s!="object")throw new Error("removeService() requires object as argument");Object.keys(s).forEach(t=>{let e=s[t];this.unregister(e.path)})}bind(s,l){throw new Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(s){return(0,ft.registerChannelzSocket)((0,ci.subchannelAddressToString)(s),()=>({localAddress:s,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createHttp2Server(s){let l;if(s._isSecure()){let t=Object.assign(this.commonServerOptions,s._getSettings());t.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,l=zt.createSecureServer(t),l.on("secureConnection",e=>{e.on("error",i=>{this.trace("An incoming TLS connection closed with error: "+i.message)})})}else l=zt.createServer(this.commonServerOptions);return l.setTimeout(0,fre),this._setupHandlers(l),l}bindOneAddress(s,l){this.trace("Attempting to bind "+(0,ci.subchannelAddressToString)(s));let t=this.createHttp2Server(l.credentials);return new Promise((e,i)=>{let c=u=>{this.trace("Failed to bind "+(0,ci.subchannelAddressToString)(s)+" with error "+u.message),e({port:"port"in s?s.port:1,error:u.message})};t.once("error",c),t.listen(s,()=>{let u=t.address(),f;typeof u=="string"?f={path:u}:f={host:u.address,port:u.port};let v=this.registerListenerToChannelz(f);this.listenerChildrenTracker.refChild(v),this.http2Servers.set(t,{channelzRef:v,sessions:new Set}),l.listeningServers.add(t),this.trace("Successfully bound "+(0,ci.subchannelAddressToString)(f)),e({port:"port"in f?f.port:1}),t.removeListener("error",c)})})}async bindManyPorts(s,l){if(s.length===0)return{count:0,port:0,errors:[]};if((0,ci.isTcpSubchannelAddress)(s[0])&&s[0].port===0){let t=await this.bindOneAddress(s[0],l);if(t.error){let e=await this.bindManyPorts(s.slice(1),l);return Object.assign(Object.assign({},e),{errors:[t.error,...e.errors]})}else{let e=s.slice(1).map(u=>(0,ci.isTcpSubchannelAddress)(u)?{host:u.host,port:t.port}:u),i=await Promise.all(e.map(u=>this.bindOneAddress(u,l))),c=[t,...i];return{count:c.filter(u=>u.error===void 0).length,port:t.port,errors:c.filter(u=>u.error).map(u=>u.error)}}}else{let t=await Promise.all(s.map(e=>this.bindOneAddress(e,l)));return{count:t.filter(e=>e.error===void 0).length,port:t[0].port,errors:t.filter(e=>e.error).map(e=>e.error)}}}async bindAddressList(s,l){let t=await this.bindManyPorts(s,l);if(t.count>0)return t.count<s.length&&AE.log(ot.LogVerbosity.INFO,`WARNING Only ${t.count} addresses added out of total ${s.length} resolved`),t.port;{let e=`No address added out of total ${s.length} resolved`;throw AE.log(ot.LogVerbosity.ERROR,e),new Error(`${e} errors: [${t.errors.join(",")}]`)}}resolvePort(s){return new Promise((l,t)=>{let e={onSuccessfulResolution:(c,u,f)=>{e.onSuccessfulResolution=()=>{};let v=[].concat(...c.map(_=>_.addresses));if(v.length===0){t(new Error(`No addresses resolved for port ${s}`));return}l(v)},onError:c=>{t(new Error(c.details))}};(0,dB.createResolver)(s,e,this.options).updateResolution()})}async bindPort(s,l){let t=await this.resolvePort(s);if(l.cancelled)throw this.completeUnbind(l),new Error("bindAsync operation cancelled by unbind call");let e=await this.bindAddressList(t,l);if(l.cancelled)throw this.completeUnbind(l),new Error("bindAsync operation cancelled by unbind call");return e}normalizePort(s){let l=(0,xr.parseUri)(s);if(l===null)throw new Error(`Could not parse port "${s}"`);let t=(0,dB.mapUriDefaultScheme)(l);if(t===null)throw new Error(`Could not get a default scheme for port "${s}"`);return t}bindAsync(s,l,t){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof s!="string")throw new TypeError("port must be a string");if(l===null||!(l instanceof lre.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof t!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+s);let e=this.normalizePort(s),i=(v,_)=>{process.nextTick(()=>t(v,_))},c=this.boundPorts.get((0,xr.uriToString)(e));if(c){if(!l._equals(c.credentials)){i(new Error(`${s} already bound with incompatible credentials`),0);return}c.cancelled=!1,c.completionPromise?c.completionPromise.then(v=>t(null,v),v=>t(v,0)):i(null,c.portNumber);return}c={mapKey:(0,xr.uriToString)(e),originalUri:e,completionPromise:null,cancelled:!1,portNumber:0,credentials:l,listeningServers:new Set};let u=(0,xr.splitHostPort)(e.path),f=this.bindPort(e,c);c.completionPromise=f,(u==null?void 0:u.port)===0?f.then(v=>{let _={scheme:e.scheme,authority:e.authority,path:(0,xr.combineHostPort)({host:u.host,port:v})};c.mapKey=(0,xr.uriToString)(_),c.completionPromise=null,c.portNumber=v,this.boundPorts.set(c.mapKey,c),t(null,v)},v=>{t(v,0)}):(this.boundPorts.set(c.mapKey,c),f.then(v=>{c.completionPromise=null,c.portNumber=v,t(null,v)},v=>{t(v,0)}))}closeServer(s,l){this.trace("Closing server with address "+JSON.stringify(s.address()));let t=this.http2Servers.get(s);s.close(()=>{t&&(this.listenerChildrenTracker.unrefChild(t.channelzRef),(0,ft.unregisterChannelzRef)(t.channelzRef)),this.http2Servers.delete(s),l==null||l()})}closeSession(s,l){var t;this.trace("Closing session initiated by "+((t=s.socket)===null||t===void 0?void 0:t.remoteAddress));let e=this.sessions.get(s),i=()=>{e&&(this.sessionChildrenTracker.unrefChild(e.ref),(0,ft.unregisterChannelzRef)(e.ref)),l==null||l()};s.closed?queueMicrotask(i):s.close(i)}completeUnbind(s){for(let l of s.listeningServers){let t=this.http2Servers.get(l);if(this.closeServer(l,()=>{s.listeningServers.delete(l)}),t)for(let e of t.sessions)this.closeSession(e)}this.boundPorts.delete(s.mapKey)}unbind(s){this.trace("unbind port="+s);let l=this.normalizePort(s),t=(0,xr.splitHostPort)(l.path);if((t==null?void 0:t.port)===0)throw new Error("Cannot unbind port 0");let e=this.boundPorts.get((0,xr.uriToString)(l));e&&(this.trace("unbinding "+e.mapKey+" originally bound as "+(0,xr.uriToString)(e.originalUri)),e.completionPromise?e.cancelled=!0:this.completeUnbind(e))}drain(s,l){var t,e;this.trace("drain port="+s+" graceTimeMs="+l);let i=this.normalizePort(s),c=(0,xr.splitHostPort)(i.path);if((c==null?void 0:c.port)===0)throw new Error("Cannot drain port 0");let u=this.boundPorts.get((0,xr.uriToString)(i));if(!u)return;let f=new Set;for(let v of u.listeningServers){let _=this.http2Servers.get(v);if(_)for(let x of _.sessions)f.add(x),this.closeSession(x,()=>{f.delete(x)})}(e=(t=setTimeout(()=>{for(let v of f)v.destroy(zt.constants.NGHTTP2_CANCEL)},l)).unref)===null||e===void 0||e.call(t)}forceShutdown(){for(let s of this.boundPorts.values())s.cancelled=!0;this.boundPorts.clear();for(let s of this.http2Servers.keys())this.closeServer(s);this.sessions.forEach((s,l)=>{this.closeSession(l),l.destroy(zt.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,ft.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(s,l,t,e,i){return this.handlers.has(s)?!1:(this.handlers.set(s,{func:l,serialize:t,deserialize:e,type:i,path:s}),!0)}unregister(s){return this.handlers.delete(s)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(s=>!s.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(s){var l;let t=c=>{(0,ft.unregisterChannelzRef)(this.channelzRef),s(c)},e=0;function i(){e--,e===0&&t()}this.shutdown=!0;for(let[c,u]of this.http2Servers.entries()){e++;let f=u.channelzRef.name;this.trace("Waiting for server "+f+" to close"),this.closeServer(c,()=>{this.trace("Server "+f+" finished closing"),i()});for(let v of u.sessions.keys()){e++;let _=(l=v.socket)===null||l===void 0?void 0:l.remoteAddress;this.trace("Waiting for session "+_+" to close"),this.closeSession(v,()=>{this.trace("Session "+_+" finished closing"),i()})}}e===0&&t()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(s,l){let t=l[zt.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof t!="string"||!t.startsWith("application/grpc")?(s.respond({[zt.constants.HTTP2_HEADER_STATUS]:zt.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(s){this.trace("Received call to method "+s+" at address "+this.serverAddressString);let l=this.handlers.get(s);return l===void 0?(this.trace("No handler registered for method "+s+". Sending UNIMPLEMENTED status."),null):l}_respondWithError(s,l,t=null){var e,i;let c=Object.assign({"grpc-status":(e=s.code)!==null&&e!==void 0?e:ot.Status.INTERNAL,"grpc-message":s.details,[zt.constants.HTTP2_HEADER_STATUS]:zt.constants.HTTP_STATUS_OK,[zt.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(i=s.metadata)===null||i===void 0?void 0:i.toHttp2Headers());l.respond(c,{endStream:!0}),this.callTracker.addCallFailed(),t==null||t.streamTracker.addCallFailed()}_channelzHandler(s,l){this.onStreamOpened(s);let t=this.sessions.get(s.session);if(this.callTracker.addCallStarted(),t==null||t.streamTracker.addCallStarted(),!this._verifyContentType(s,l)){this.callTracker.addCallFailed(),t==null||t.streamTracker.addCallFailed();return}let e=l[yB],i=this._retrieveHandler(e);if(!i){this._respondWithError(xE(e),s,t);return}let c={addMessageSent:()=>{t&&(t.messagesSent+=1,t.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{t&&(t.messagesReceived+=1,t.lastMessageReceivedTimestamp=new Date)},onCallEnd:f=>{f.code===ot.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:f=>{t&&(f?t.streamTracker.addCallSucceeded():t.streamTracker.addCallFailed())}},u=(0,hB.getServerInterceptingCall)(this.interceptors,s,l,c,i,this.options);this._runHandlerForCall(u,i)||(this.callTracker.addCallFailed(),t==null||t.streamTracker.addCallFailed(),u.sendStatus({code:ot.Status.INTERNAL,details:`Unknown handler type: ${i.type}`}))}_streamHandler(s,l){if(this.onStreamOpened(s),this._verifyContentType(s,l)!==!0)return;let t=l[yB],e=this._retrieveHandler(t);if(!e){this._respondWithError(xE(t),s,null);return}let i=(0,hB.getServerInterceptingCall)(this.interceptors,s,l,null,e,this.options);this._runHandlerForCall(i,e)||i.sendStatus({code:ot.Status.INTERNAL,details:`Unknown handler type: ${e.type}`})}_runHandlerForCall(s,l){let{type:t}=l;if(t==="unary")mre(s,l);else if(t==="clientStream")yre(s,l);else if(t==="serverStream")Sre(s,l);else if(t==="bidi")vre(s,l);else return!1;return!0}_setupHandlers(s){if(s===null)return;let l=s.address(),t="null";l&&(typeof l=="string"?t=l:t=l.address+":"+l.port),this.serverAddressString=t;let e=this.channelzEnabled?this._channelzHandler:this._streamHandler,i=this.channelzEnabled?this._channelzSessionHandler(s):this._sessionHandler(s);s.on("stream",e.bind(this)),s.on("session",i)}_sessionHandler(s){return l=>{var t,e,i;(t=this.http2Servers.get(s))===null||t===void 0||t.sessions.add(l);let c=null,u=null,f=null,v=null,_=!1,x=this.enableIdleTimeout(l);if(this.maxConnectionAgeMs!==ks){let O=this.maxConnectionAgeMs/10,R=Math.random()*O*2-O;c=setTimeout(()=>{var N,C;_=!0,this.trace("Connection dropped by max connection age: "+((N=l.socket)===null||N===void 0?void 0:N.remoteAddress));try{l.goaway(zt.constants.NGHTTP2_NO_ERROR,~(1<<31),SB)}catch{l.destroy();return}l.close(),this.maxConnectionAgeGraceMs!==ks&&(u=setTimeout(()=>{l.destroy()},this.maxConnectionAgeGraceMs),(C=u.unref)===null||C===void 0||C.call(u))},this.maxConnectionAgeMs+R),(e=c.unref)===null||e===void 0||e.call(c)}this.keepaliveTimeMs<NE&&(f=setInterval(()=>{var O;v=setTimeout(()=>{_=!0,l.close()},this.keepaliveTimeoutMs),(O=v.unref)===null||O===void 0||O.call(v);try{l.ping((R,N,C)=>{v&&clearTimeout(v),R&&(_=!0,this.trace("Connection dropped due to error of a ping frame "+R.message+" return in "+N),l.close())})}catch{clearTimeout(v),l.destroy()}},this.keepaliveTimeMs),(i=f.unref)===null||i===void 0||i.call(f)),l.on("close",()=>{var O,R;_||this.trace(`Connection dropped by client ${(O=l.socket)===null||O===void 0?void 0:O.remoteAddress}`),c&&clearTimeout(c),u&&clearTimeout(u),f&&(clearInterval(f),v&&clearTimeout(v)),x!==null&&(clearTimeout(x.timeout),this.sessionIdleTimeouts.delete(l)),(R=this.http2Servers.get(s))===null||R===void 0||R.sessions.delete(l)})}}_channelzSessionHandler(s){return l=>{var t,e,i,c,u;let f=(0,ft.registerChannelzSocket)((e=(t=l.socket)===null||t===void 0?void 0:t.remoteAddress)!==null&&e!==void 0?e:"unknown",this.getChannelzSessionInfo.bind(this,l),this.channelzEnabled),v={ref:f,streamTracker:new ft.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(i=this.http2Servers.get(s))===null||i===void 0||i.sessions.add(l),this.sessions.set(l,v);let _=`${l.socket.remoteAddress}:${l.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+_),this.trace("Connection established by client "+_),this.sessionChildrenTracker.refChild(f);let x=null,O=null,R=null,N=null,C=!1,D=this.enableIdleTimeout(l);if(this.maxConnectionAgeMs!==ks){let M=this.maxConnectionAgeMs/10,K=Math.random()*M*2-M;x=setTimeout(()=>{var $;C=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+_);try{l.goaway(zt.constants.NGHTTP2_NO_ERROR,~(1<<31),SB)}catch{l.destroy();return}l.close(),this.maxConnectionAgeGraceMs!==ks&&(O=setTimeout(()=>{l.destroy()},this.maxConnectionAgeGraceMs),($=O.unref)===null||$===void 0||$.call(O))},this.maxConnectionAgeMs+K),(c=x.unref)===null||c===void 0||c.call(x)}this.keepaliveTimeMs<NE&&(R=setInterval(()=>{var M;N=setTimeout(()=>{C=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+_),l.close()},this.keepaliveTimeoutMs),(M=N.unref)===null||M===void 0||M.call(N);try{l.ping((K,$,j)=>{N&&clearTimeout(N),K&&(C=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+K.message+" return in "+$),l.close())}),v.keepAlivesSent+=1}catch{clearTimeout(N),l.destroy()}},this.keepaliveTimeMs),(u=R.unref)===null||u===void 0||u.call(R)),l.on("close",()=>{var M;C||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+_),this.sessionChildrenTracker.unrefChild(f),(0,ft.unregisterChannelzRef)(f),x&&clearTimeout(x),O&&clearTimeout(O),R&&(clearInterval(R),N&&clearTimeout(N)),D!==null&&(clearTimeout(D.timeout),this.sessionIdleTimeouts.delete(l)),(M=this.http2Servers.get(s))===null||M===void 0||M.sessions.delete(l),this.sessions.delete(l)})}}enableIdleTimeout(s){var l,t;if(this.sessionIdleTimeout>=mB)return null;let e={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,s),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,s)};(t=(l=e.timeout).unref)===null||t===void 0||t.call(l),this.sessionIdleTimeouts.set(s,e);let{socket:i}=s;return this.trace("Enable idle timeout for "+i.remoteAddress+":"+i.remotePort),e}onIdleTimeout(s,l){let{socket:t}=l,e=s.sessionIdleTimeouts.get(l);e!==void 0&&e.activeStreams===0&&Date.now()-e.lastIdle>=s.sessionIdleTimeout&&(s.trace("Session idle timeout triggered for "+(t==null?void 0:t.remoteAddress)+":"+(t==null?void 0:t.remotePort)+" last idle at "+e.lastIdle),s.closeSession(l))}onStreamOpened(s){let l=s.session,t=this.sessionIdleTimeouts.get(l);t&&(t.activeStreams+=1,s.once("close",t.onClose))}onStreamClose(s){var l,t;let e=this.sessionIdleTimeouts.get(s);e&&(e.activeStreams-=1,e.activeStreams===0&&(e.lastIdle=Date.now(),e.timeout.refresh(),this.trace("Session onStreamClose"+((l=s.socket)===null||l===void 0?void 0:l.remoteAddress)+":"+((t=s.socket)===null||t===void 0?void 0:t.remotePort)+" at "+e.lastIdle)))}},(()=>{let a=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[pre("Calling start() is no longer necessary. It can be safely omitted.")],sre(o,null,n,{kind:"method",name:"start",static:!1,private:!1,access:{has:s=>"start"in s,get:s=>s.start},metadata:a},null,r),a&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),o})();ui.Server=hre;async function mre(o,r){let n;function a(t,e,i,c){if(t){o.sendStatus((0,Vs.serverErrorToStatus)(t,i));return}o.sendMessage(e,()=>{o.sendStatus({code:ot.Status.OK,details:"OK",metadata:i??null})})}let s,l=null;o.start({onReceiveMetadata(t){s=t,o.startRead()},onReceiveMessage(t){if(l){o.sendStatus({code:ot.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${r.path}`,metadata:null});return}l=t,o.startRead()},onReceiveHalfClose(){if(!l){o.sendStatus({code:ot.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${r.path}`,metadata:null});return}n=new Vs.ServerWritableStreamImpl(r.path,o,s,l);try{r.func(n,a)}catch(t){o.sendStatus({code:ot.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}},onCancel(){n&&(n.cancelled=!0,n.emit("cancelled","cancelled"))}})}function yre(o,r){let n;function a(s,l,t,e){if(s){o.sendStatus((0,Vs.serverErrorToStatus)(s,t));return}o.sendMessage(l,()=>{o.sendStatus({code:ot.Status.OK,details:"OK",metadata:t??null})})}o.start({onReceiveMetadata(s){n=new Vs.ServerDuplexStreamImpl(r.path,o,s);try{r.func(n,a)}catch(l){o.sendStatus({code:ot.Status.UNKNOWN,details:`Server method handler threw error ${l.message}`,metadata:null})}},onReceiveMessage(s){n.push(s)},onReceiveHalfClose(){n.push(null)},onCancel(){n&&(n.cancelled=!0,n.emit("cancelled","cancelled"),n.destroy())}})}function Sre(o,r){let n,a,s=null;o.start({onReceiveMetadata(l){a=l,o.startRead()},onReceiveMessage(l){if(s){o.sendStatus({code:ot.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${r.path}`,metadata:null});return}s=l,o.startRead()},onReceiveHalfClose(){if(!s){o.sendStatus({code:ot.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${r.path}`,metadata:null});return}n=new Vs.ServerWritableStreamImpl(r.path,o,a,s);try{r.func(n)}catch(l){o.sendStatus({code:ot.Status.UNKNOWN,details:`Server method handler threw error ${l.message}`,metadata:null})}},onCancel(){n&&(n.cancelled=!0,n.emit("cancelled","cancelled"),n.destroy())}})}function vre(o,r){let n;o.start({onReceiveMetadata(a){n=new Vs.ServerDuplexStreamImpl(r.path,o,a);try{r.func(n)}catch(s){o.sendStatus({code:ot.Status.UNKNOWN,details:`Server method handler threw error ${s.message}`,metadata:null})}},onReceiveMessage(a){n.push(a)},onReceiveHalfClose(){n.push(null)},onCancel(){n&&(n.cancelled=!0,n.emit("cancelled","cancelled"),n.destroy())}})}});var _B=E(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.StatusBuilder=void 0;var RE=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(r){return this.code=r,this}withDetails(r){return this.details=r,this}withMetadata(r){return this.metadata=r,this}build(){let r={};return this.code!==null&&(r.code=this.code),this.details!==null&&(r.details=this.details),this.metadata!==null&&(r.metadata=this.metadata),r}};Ld.StatusBuilder=RE});var PE=E(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.isDuration=fi.durationToMs=fi.msToDuration=void 0;function _re(o){return{seconds:o/1e3|0,nanos:o%1e3*1e6|0}}fi.msToDuration=_re;function Ere(o){return o.seconds*1e3+o.nanos/1e6|0}fi.durationToMs=Ere;function gre(o){return typeof o.seconds=="number"&&typeof o.nanos=="number"}fi.isDuration=gre});var Md=E(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.setup=dr.LeafLoadBalancer=dr.PickFirstLoadBalancer=dr.shuffled=dr.PickFirstLoadBalancingConfig=void 0;var IE=Ki(),Je=nr(),Bs=Wn(),Tre=Be(),Ore=ve(),EB=Tr(),gB=B("net"),bre="pick_first";function CE(o){Tre.trace(Ore.LogVerbosity.DEBUG,bre,o)}var ec="pick_first",Are=250,Fs=class o{constructor(r){this.shuffleAddressList=r}getLoadBalancerName(){return ec}toJsonObject(){return{[ec]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(r){if("shuffleAddressList"in r&&typeof r.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new o(r.shuffleAddressList===!0)}};dr.PickFirstLoadBalancingConfig=Fs;var wE=class{constructor(r){this.subchannel=r}pick(r){return{pickResultType:Bs.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function TB(o){let r=o.slice();for(let n=r.length-1;n>1;n--){let a=Math.floor(Math.random()*(n+1)),s=r[n];r[n]=r[a],r[a]=s}return r}dr.shuffled=TB;function Nre(o){let r=[],n=[],a=[],s=(0,EB.isTcpSubchannelAddress)(o[0])&&(0,gB.isIPv6)(o[0].host);for(let e of o)(0,EB.isTcpSubchannelAddress)(e)&&(0,gB.isIPv6)(e.host)?n.push(e):a.push(e);let l=s?n:a,t=s?a:n;for(let e=0;e<Math.max(l.length,t.length);e++)e<l.length&&r.push(l[e]),e<t.length&&r.push(t[e]);return r}var OB="grpc-node.internal.pick-first.report_health_status",tc=class{constructor(r,n){this.channelControlHelper=r,this.children=[],this.currentState=Je.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(a,s,l,t,e)=>{this.onSubchannelStateUpdate(a,s,l,e)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=n[OB]}allChildrenHaveReportedTF(){return this.children.every(r=>r.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(Je.ConnectivityState.TRANSIENT_FAILURE,new Bs.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(Je.ConnectivityState.READY,new wE(this.currentPick)):this.children.length===0?this.updateState(Je.ConnectivityState.IDLE,new Bs.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(Je.ConnectivityState.TRANSIENT_FAILURE,new Bs.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Je.ConnectivityState.CONNECTING,new Bs.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:r}of this.children)r.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let r=this.currentPick;this.currentPick=null,r.unref(),r.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(r.getChannelzRef()),this.reportHealthStatus&&r.removeHealthStateWatcher(this.pickedSubchannelHealthListener)}}onSubchannelStateUpdate(r,n,a,s){var l;if(!((l=this.currentPick)===null||l===void 0)&&l.realSubchannelEquals(r)){a!==Je.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[t,e]of this.children.entries())if(r.realSubchannelEquals(e.subchannel)){a===Je.ConnectivityState.READY&&this.pickSubchannel(e.subchannel),a===Je.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0,s&&(this.lastError=s),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),e.subchannel.startConnecting();return}}startNextSubchannelConnecting(r){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[n,a]of this.children.entries())if(n>=r){let s=a.subchannel.getConnectivityState();if(s===Je.ConnectivityState.IDLE||s===Je.ConnectivityState.CONNECTING){this.startConnecting(n);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(r){var n,a;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=r,this.children[r].subchannel.getConnectivityState()===Je.ConnectivityState.IDLE&&(CE("Start connecting to subchannel with address "+this.children[r].subchannel.getAddress()),process.nextTick(()=>{var s;(s=this.children[r])===null||s===void 0||s.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(r+1)},Are),(a=(n=this.connectionDelayTimeout).unref)===null||a===void 0||a.call(n)}pickSubchannel(r){this.currentPick&&r.realSubchannelEquals(this.currentPick)||(CE("Pick subchannel with address "+r.getAddress()),this.stickyTransientFailureMode=!1,this.removeCurrentPick(),this.currentPick=r,r.ref(),this.reportHealthStatus&&r.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(r,n){CE(Je.ConnectivityState[this.currentState]+" -> "+Je.ConnectivityState[r]),this.currentState=r,this.channelControlHelper.updateState(r,n)}resetSubchannelList(){for(let r of this.children)this.currentPick&&r.subchannel.realSubchannelEquals(this.currentPick)||r.subchannel.removeConnectivityStateListener(this.subchannelStateListener),r.subchannel.unref(),this.channelControlHelper.removeChannelzChild(r.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(r){let n=r.map(a=>({subchannel:this.channelControlHelper.createSubchannel(a,{}),hasReportedTransientFailure:!1}));for(let{subchannel:a}of n)a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef());this.resetSubchannelList(),this.children=n;for(let{subchannel:a}of this.children)if(a.addConnectivityStateListener(this.subchannelStateListener),a.getConnectivityState()===Je.ConnectivityState.READY){this.pickSubchannel(a);return}for(let a of this.children)a.subchannel.getConnectivityState()===Je.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(r,n){if(!(n instanceof Fs))return;n.getShuffleAddressList()&&(r=TB(r));let a=[].concat(...r.map(l=>l.addresses));if(a.length===0)throw new Error("No addresses in endpoint list passed to pick_first");let s=Nre(a);this.latestAddressList=s,this.connectToAddressList(s)}exitIdle(){this.currentState===Je.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return ec}};dr.PickFirstLoadBalancer=tc;var xre=new Fs(!1),LE=class{constructor(r,n,a){this.endpoint=r,this.latestState=Je.ConnectivityState.IDLE;let s=(0,IE.createChildChannelControlHelper)(n,{updateState:(l,t)=>{this.latestState=l,this.latestPicker=t,n.updateState(l,t)}});this.pickFirstBalancer=new tc(s,Object.assign(Object.assign({},a),{[OB]:!0})),this.latestPicker=new Bs.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],xre)}updateEndpoint(r){this.endpoint=r,this.latestState!==Je.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}};dr.LeafLoadBalancer=LE;function Rre(){(0,IE.registerLoadBalancerType)(ec,tc,Fs),(0,IE.registerDefaultLoadBalancerType)(ec)}dr.setup=Rre});var UE=E(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.BaseSubchannelWrapper=X.registerAdminService=X.FilterStackFactory=X.BaseFilter=X.PickResultType=X.QueuePicker=X.UnavailablePicker=X.ChildLoadBalancerHandler=X.EndpointMap=X.endpointHasAddress=X.endpointToString=X.subchannelAddressToString=X.LeafLoadBalancer=X.isLoadBalancerNameRegistered=X.parseLoadBalancingConfig=X.selectLbConfigFromList=X.registerLoadBalancerType=X.createChildChannelControlHelper=X.BackoffTimeout=X.durationToMs=X.uriToString=X.createResolver=X.registerResolver=X.log=X.trace=void 0;var bB=Be();Object.defineProperty(X,"trace",{enumerable:!0,get:function(){return bB.trace}});Object.defineProperty(X,"log",{enumerable:!0,get:function(){return bB.log}});var AB=qr();Object.defineProperty(X,"registerResolver",{enumerable:!0,get:function(){return AB.registerResolver}});Object.defineProperty(X,"createResolver",{enumerable:!0,get:function(){return AB.createResolver}});var Pre=qt();Object.defineProperty(X,"uriToString",{enumerable:!0,get:function(){return Pre.uriToString}});var Cre=PE();Object.defineProperty(X,"durationToMs",{enumerable:!0,get:function(){return Cre.durationToMs}});var Ire=Nl();Object.defineProperty(X,"BackoffTimeout",{enumerable:!0,get:function(){return Ire.BackoffTimeout}});var rc=Ki();Object.defineProperty(X,"createChildChannelControlHelper",{enumerable:!0,get:function(){return rc.createChildChannelControlHelper}});Object.defineProperty(X,"registerLoadBalancerType",{enumerable:!0,get:function(){return rc.registerLoadBalancerType}});Object.defineProperty(X,"selectLbConfigFromList",{enumerable:!0,get:function(){return rc.selectLbConfigFromList}});Object.defineProperty(X,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return rc.parseLoadBalancingConfig}});Object.defineProperty(X,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return rc.isLoadBalancerNameRegistered}});var wre=Md();Object.defineProperty(X,"LeafLoadBalancer",{enumerable:!0,get:function(){return wre.LeafLoadBalancer}});var Ud=Tr();Object.defineProperty(X,"subchannelAddressToString",{enumerable:!0,get:function(){return Ud.subchannelAddressToString}});Object.defineProperty(X,"endpointToString",{enumerable:!0,get:function(){return Ud.endpointToString}});Object.defineProperty(X,"endpointHasAddress",{enumerable:!0,get:function(){return Ud.endpointHasAddress}});Object.defineProperty(X,"EndpointMap",{enumerable:!0,get:function(){return Ud.EndpointMap}});var Lre=vp();Object.defineProperty(X,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Lre.ChildLoadBalancerHandler}});var ME=Wn();Object.defineProperty(X,"UnavailablePicker",{enumerable:!0,get:function(){return ME.UnavailablePicker}});Object.defineProperty(X,"QueuePicker",{enumerable:!0,get:function(){return ME.QueuePicker}});Object.defineProperty(X,"PickResultType",{enumerable:!0,get:function(){return ME.PickResultType}});var Mre=fd();Object.defineProperty(X,"BaseFilter",{enumerable:!0,get:function(){return Mre.BaseFilter}});var Ure=F_();Object.defineProperty(X,"FilterStackFactory",{enumerable:!0,get:function(){return Ure.FilterStackFactory}});var Dre=gp();Object.defineProperty(X,"registerAdminService",{enumerable:!0,get:function(){return Dre.registerAdminService}});var kre=bd();Object.defineProperty(X,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return kre.BaseSubchannelWrapper}})});var NB=E(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.setup=void 0;var Vre=qr(),DE=class{constructor(r,n,a){this.listener=n,this.hasReturnedResult=!1,this.endpoints=[];let s;r.authority===""?s="/"+r.path:s=r.path,this.endpoints=[{addresses:[{path:s}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(r){return"localhost"}};function Bre(){(0,Vre.registerResolver)("unix",DE)}Dd.setup=Bre});var IB=E(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.setup=void 0;var xB=B("net"),kd=ve(),kE=vt(),RB=qr(),PB=qt(),Fre=Be(),qre="ip_resolver";function CB(o){Fre.trace(kd.LogVerbosity.DEBUG,qre,o)}var VE="ipv4",BE="ipv6",Gre=443,Vd=class{constructor(r,n,a){var s;this.listener=n,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,CB("Resolver constructed for target "+(0,PB.uriToString)(r));let l=[];if(!(r.scheme===VE||r.scheme===BE)){this.error={code:kd.Status.UNAVAILABLE,details:`Unrecognized scheme ${r.scheme} in IP resolver`,metadata:new kE.Metadata};return}let t=r.path.split(",");for(let e of t){let i=(0,PB.splitHostPort)(e);if(i===null){this.error={code:kd.Status.UNAVAILABLE,details:`Failed to parse ${r.scheme} address ${e}`,metadata:new kE.Metadata};return}if(r.scheme===VE&&!(0,xB.isIPv4)(i.host)||r.scheme===BE&&!(0,xB.isIPv6)(i.host)){this.error={code:kd.Status.UNAVAILABLE,details:`Failed to parse ${r.scheme} address ${e}`,metadata:new kE.Metadata};return}l.push({host:i.host,port:(s=i.port)!==null&&s!==void 0?s:Gre})}this.endpoints=l.map(e=>({addresses:[e]})),CB("Parsed "+r.scheme+" address list "+l)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(r){return r.path.split(",")[0]}};function Hre(){(0,RB.registerResolver)(VE,Vd),(0,RB.registerResolver)(BE,Vd)}Bd.setup=Hre});var UB=E(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.setup=qs.RoundRobinLoadBalancer=void 0;var MB=Ki(),Yt=nr(),FE=Wn(),jre=Be(),zre=ve(),wB=Tr(),Yre=Md(),$re="round_robin";function LB(o){jre.trace(zre.LogVerbosity.DEBUG,$re,o)}var Fd="round_robin",qE=class o{getLoadBalancerName(){return Fd}constructor(){}toJsonObject(){return{[Fd]:{}}}static createFromJson(r){return new o}},GE=class{constructor(r,n=0){this.children=r,this.nextIndex=n}pick(r){let n=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,n.pick(r)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}},qd=class{constructor(r,n){this.channelControlHelper=r,this.options=n,this.children=[],this.currentState=Yt.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,MB.createChildChannelControlHelper)(r,{updateState:(a,s)=>{this.calculateAndUpdateState()}})}countChildrenWithState(r){return this.children.filter(n=>n.getConnectivityState()===r).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(Yt.ConnectivityState.READY)>0){let r=this.children.filter(a=>a.getConnectivityState()===Yt.ConnectivityState.READY),n=0;if(this.currentReadyPicker!==null){let a=this.currentReadyPicker.peekNextEndpoint();n=r.findIndex(s=>(0,wB.endpointEqual)(s.getEndpoint(),a)),n<0&&(n=0)}this.updateState(Yt.ConnectivityState.READY,new GE(r.map(a=>({endpoint:a.getEndpoint(),picker:a.getPicker()})),n))}else this.countChildrenWithState(Yt.ConnectivityState.CONNECTING)>0?this.updateState(Yt.ConnectivityState.CONNECTING,new FE.QueuePicker(this)):this.countChildrenWithState(Yt.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(Yt.ConnectivityState.TRANSIENT_FAILURE,new FE.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Yt.ConnectivityState.IDLE,new FE.QueuePicker(this));for(let r of this.children)r.getConnectivityState()===Yt.ConnectivityState.IDLE&&r.exitIdle()}}updateState(r,n){LB(Yt.ConnectivityState[this.currentState]+" -> "+Yt.ConnectivityState[r]),r===Yt.ConnectivityState.READY?this.currentReadyPicker=n:this.currentReadyPicker=null,this.currentState=r,this.channelControlHelper.updateState(r,n)}resetSubchannelList(){for(let r of this.children)r.destroy()}updateAddressList(r,n){this.resetSubchannelList(),LB("Connect to endpoint list "+r.map(wB.endpointToString)),this.updatesPaused=!0,this.children=r.map(a=>new Yre.LeafLoadBalancer(a,this.childChannelControlHelper,this.options));for(let a of this.children)a.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return Fd}};qs.RoundRobinLoadBalancer=qd;function Kre(){(0,MB.registerLoadBalancerType)(Fd,qd,qE)}qs.setup=Kre});var VB=E(pi=>{"use strict";var HE;Object.defineProperty(pi,"__esModule",{value:!0});pi.setup=pi.OutlierDetectionLoadBalancer=pi.OutlierDetectionLoadBalancingConfig=void 0;var Wre=nr(),DB=ve(),oo=PE(),kB=UE(),Jre=Ki(),Xre=vp(),Qre=Wn(),jE=Tr(),Zre=bd(),ene=Be(),tne="outlier_detection";function pt(o){ene.trace(DB.LogVerbosity.DEBUG,tne,o)}var JE="outlier_detection",rne=((HE=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&HE!==void 0?HE:"true")==="true",nne={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},ine={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function Gs(o,r,n,a){if(r in o&&o[r]!==void 0&&typeof o[r]!==n){let s=a?`${a}.${r}`:r;throw new Error(`outlier detection config ${s} parse error: expected ${n}, got ${typeof o[r]}`)}}function zE(o,r,n){let a=n?`${n}.${r}`:r;if(r in o&&o[r]!==void 0){if(!(0,oo.isDuration)(o[r]))throw new Error(`outlier detection config ${a} parse error: expected Duration, got ${typeof o[r]}`);if(!(o[r].seconds>=0&&o[r].seconds<=315576e6&&o[r].nanos>=0&&o[r].nanos<=999999999))throw new Error(`outlier detection config ${a} parse error: values out of range for non-negative Duaration`)}}function Gd(o,r,n){let a=n?`${n}.${r}`:r;if(Gs(o,r,"number",n),r in o&&o[r]!==void 0&&!(o[r]>=0&&o[r]<=100))throw new Error(`outlier detection config ${a} parse error: value out of range for percentage (0-100)`)}var nc=class o{constructor(r,n,a,s,l,t,e){if(this.childPolicy=e,e.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=r??1e4,this.baseEjectionTimeMs=n??3e4,this.maxEjectionTimeMs=a??3e5,this.maxEjectionPercent=s??10,this.successRateEjection=l?Object.assign(Object.assign({},nne),l):null,this.failurePercentageEjection=t?Object.assign(Object.assign({},ine),t):null}getLoadBalancerName(){return JE}toJsonObject(){var r,n;return{outlier_detection:{interval:(0,oo.msToDuration)(this.intervalMs),base_ejection_time:(0,oo.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,oo.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(r=this.successRateEjection)!==null&&r!==void 0?r:void 0,failure_percentage_ejection:(n=this.failurePercentageEjection)!==null&&n!==void 0?n:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(r){var n;if(zE(r,"interval"),zE(r,"base_ejection_time"),zE(r,"max_ejection_time"),Gd(r,"max_ejection_percent"),"success_rate_ejection"in r&&r.success_rate_ejection!==void 0){if(typeof r.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");Gs(r.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),Gd(r.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),Gs(r.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),Gs(r.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in r&&r.failure_percentage_ejection!==void 0){if(typeof r.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");Gd(r.failure_percentage_ejection,"threshold","failure_percentage_ejection"),Gd(r.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),Gs(r.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),Gs(r.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in r)||!Array.isArray(r.child_policy))throw new Error("outlier detection config child_policy must be an array");let a=(0,Jre.selectLbConfigFromList)(r.child_policy);if(!a)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new o(r.interval?(0,oo.durationToMs)(r.interval):null,r.base_ejection_time?(0,oo.durationToMs)(r.base_ejection_time):null,r.max_ejection_time?(0,oo.durationToMs)(r.max_ejection_time):null,(n=r.max_ejection_percent)!==null&&n!==void 0?n:null,r.success_rate_ejection,r.failure_percentage_ejection,a)}};pi.OutlierDetectionLoadBalancingConfig=nc;var $E=class extends Zre.BaseSubchannelWrapper{constructor(r,n){super(r),this.mapEntry=n,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let r=this.mapEntry.subchannelWrappers.indexOf(this);r>=0&&this.mapEntry.subchannelWrappers.splice(r,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function YE(){return{success:0,failure:0}}var KE=class{constructor(){this.activeBucket=YE(),this.inactiveBucket=YE()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=YE()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},WE=class{constructor(r,n){this.wrappedPicker=r,this.countCalls=n}pick(r){let n=this.wrappedPicker.pick(r);if(n.pickResultType===Qre.PickResultType.COMPLETE){let a=n.subchannel,s=a.getMapEntry();if(s){let l=n.onCallEnded;return this.countCalls&&(l=t=>{var e;t===DB.Status.OK?s.counter.addSuccess():s.counter.addFailure(),(e=n.onCallEnded)===null||e===void 0||e.call(n,t)}),Object.assign(Object.assign({},n),{subchannel:a.getWrappedSubchannel(),onCallEnded:l})}else return Object.assign(Object.assign({},n),{subchannel:a.getWrappedSubchannel()})}else return n}},Hd=class{constructor(r,n){this.entryMap=new jE.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new Xre.ChildLoadBalancerHandler((0,kB.createChildChannelControlHelper)(r,{createSubchannel:(a,s)=>{let l=r.createSubchannel(a,s),t=this.entryMap.getForSubchannelAddress(a),e=new $E(l,t);return(t==null?void 0:t.currentEjectionTimestamp)!==null&&e.eject(),t==null||t.subchannelWrappers.push(e),e},updateState:(a,s)=>{a===Wre.ConnectivityState.READY?r.updateState(a,new WE(s,this.isCountingEnabled())):r.updateState(a,s)}}),n),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let r=0;for(let n of this.entryMap.values())n.currentEjectionTimestamp!==null&&(r+=1);return r*100/this.entryMap.size}runSuccessRateCheck(r){if(!this.latestConfig)return;let n=this.latestConfig.getSuccessRateEjectionConfig();if(!n)return;pt("Running success rate check");let a=n.request_volume,s=0,l=[];for(let[f,v]of this.entryMap.entries()){let _=v.counter.getLastSuccesses(),x=v.counter.getLastFailures();pt("Stats for "+(0,jE.endpointToString)(f)+": successes="+_+" failures="+x+" targetRequestVolume="+a),_+x>=a&&(s+=1,l.push(_/(_+x)))}if(pt("Found "+s+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+l+"]"),s<n.minimum_hosts)return;let t=l.reduce((f,v)=>f+v)/l.length,e=0;for(let f of l){let v=f-t;e+=v*v}let i=e/l.length,c=Math.sqrt(i),u=t-c*(n.stdev_factor/1e3);pt("stdev="+c+" ejectionThreshold="+u);for(let[f,v]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let _=v.counter.getLastSuccesses(),x=v.counter.getLastFailures();if(_+x<a)continue;let O=_/(_+x);if(pt("Checking candidate "+f+" successRate="+O),O<u){let R=Math.random()*100;pt("Candidate "+f+" randomNumber="+R+" enforcement_percentage="+n.enforcement_percentage),R<n.enforcement_percentage&&(pt("Ejecting candidate "+f),this.eject(v,r))}}}runFailurePercentageCheck(r){if(!this.latestConfig)return;let n=this.latestConfig.getFailurePercentageEjectionConfig();if(!n)return;pt("Running failure percentage check. threshold="+n.threshold+" request volume threshold="+n.request_volume);let a=0;for(let s of this.entryMap.values()){let l=s.counter.getLastSuccesses(),t=s.counter.getLastFailures();l+t>=n.request_volume&&(a+=1)}if(!(a<n.minimum_hosts))for(let[s,l]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let t=l.counter.getLastSuccesses(),e=l.counter.getLastFailures();if(pt("Candidate successes="+t+" failures="+e),t+e<n.request_volume)continue;if(e*100/(e+t)>n.threshold){let c=Math.random()*100;pt("Candidate "+s+" randomNumber="+c+" enforcement_percentage="+n.enforcement_percentage),c<n.enforcement_percentage&&(pt("Ejecting candidate "+s),this.eject(l,r))}}}eject(r,n){r.currentEjectionTimestamp=new Date,r.ejectionTimeMultiplier+=1;for(let a of r.subchannelWrappers)a.eject()}uneject(r){r.currentEjectionTimestamp=null;for(let n of r.subchannelWrappers)n.uneject()}switchAllBuckets(){for(let r of this.entryMap.values())r.counter.switchBuckets()}startTimer(r){var n,a;this.ejectionTimer=setTimeout(()=>this.runChecks(),r),(a=(n=this.ejectionTimer).unref)===null||a===void 0||a.call(n)}runChecks(){let r=new Date;if(pt("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=r,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(r),this.runFailurePercentageCheck(r);for(let[n,a]of this.entryMap.entries())if(a.currentEjectionTimestamp===null)a.ejectionTimeMultiplier>0&&(a.ejectionTimeMultiplier-=1);else{let s=this.latestConfig.getBaseEjectionTimeMs(),l=this.latestConfig.getMaxEjectionTimeMs(),t=new Date(a.currentEjectionTimestamp.getTime());t.setMilliseconds(t.getMilliseconds()+Math.min(s*a.ejectionTimeMultiplier,Math.max(s,l))),t<new Date&&(pt("Unejecting "+n),this.uneject(a))}}}updateAddressList(r,n,a){if(!(n instanceof nc))return;for(let l of r)this.entryMap.has(l)||(pt("Adding map entry for "+(0,jE.endpointToString)(l)),this.entryMap.set(l,{counter:new KE,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(r);let s=n.getChildPolicy();if(this.childBalancer.updateAddressList(r,s,a),n.getSuccessRateEjectionConfig()||n.getFailurePercentageEjectionConfig())if(this.timerStartTime){pt("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let l=n.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(l)}else pt("Starting new timer"),this.timerStartTime=new Date,this.startTimer(n.getIntervalMs()),this.switchAllBuckets();else{pt("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let l of this.entryMap.values())this.uneject(l),l.ejectionTimeMultiplier=0}this.latestConfig=n}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return JE}};pi.OutlierDetectionLoadBalancer=Hd;function one(){rne&&(0,kB.registerLoadBalancerType)(JE,Hd,nc)}pi.setup=one});var ic=E(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.experimental=V.ServerInterceptingCall=V.ResponderBuilder=V.ServerListenerBuilder=V.addAdminServicesToServer=V.getChannelzHandlers=V.getChannelzServiceDefinition=V.InterceptorConfigurationError=V.InterceptingCall=V.RequesterBuilder=V.ListenerBuilder=V.StatusBuilder=V.getClientChannel=V.ServerCredentials=V.Server=V.setLogVerbosity=V.setLogger=V.load=V.loadObject=V.CallCredentials=V.ChannelCredentials=V.waitForClientReady=V.closeClient=V.Channel=V.makeGenericClientConstructor=V.makeClientConstructor=V.loadPackageDefinition=V.Client=V.compressionAlgorithms=V.propagate=V.connectivityState=V.status=V.logVerbosity=V.Metadata=V.credentials=void 0;var jd=KS();Object.defineProperty(V,"CallCredentials",{enumerable:!0,get:function(){return jd.CallCredentials}});var sne=xv();Object.defineProperty(V,"Channel",{enumerable:!0,get:function(){return sne.ChannelImplementation}});var ane=q_();Object.defineProperty(V,"compressionAlgorithms",{enumerable:!0,get:function(){return ane.CompressionAlgorithms}});var lne=nr();Object.defineProperty(V,"connectivityState",{enumerable:!0,get:function(){return lne.ConnectivityState}});var zd=fp();Object.defineProperty(V,"ChannelCredentials",{enumerable:!0,get:function(){return zd.ChannelCredentials}});var BB=Nv();Object.defineProperty(V,"Client",{enumerable:!0,get:function(){return BB.Client}});var XE=ve();Object.defineProperty(V,"logVerbosity",{enumerable:!0,get:function(){return XE.LogVerbosity}});Object.defineProperty(V,"status",{enumerable:!0,get:function(){return XE.Status}});Object.defineProperty(V,"propagate",{enumerable:!0,get:function(){return XE.Propagate}});var FB=Be(),QE=Pv();Object.defineProperty(V,"loadPackageDefinition",{enumerable:!0,get:function(){return QE.loadPackageDefinition}});Object.defineProperty(V,"makeClientConstructor",{enumerable:!0,get:function(){return QE.makeClientConstructor}});Object.defineProperty(V,"makeGenericClientConstructor",{enumerable:!0,get:function(){return QE.makeClientConstructor}});var cne=vt();Object.defineProperty(V,"Metadata",{enumerable:!0,get:function(){return cne.Metadata}});var une=vB();Object.defineProperty(V,"Server",{enumerable:!0,get:function(){return une.Server}});var fne=SE();Object.defineProperty(V,"ServerCredentials",{enumerable:!0,get:function(){return fne.ServerCredentials}});var pne=_B();Object.defineProperty(V,"StatusBuilder",{enumerable:!0,get:function(){return pne.StatusBuilder}});V.credentials={combineChannelCredentials:(o,...r)=>r.reduce((n,a)=>n.compose(a),o),combineCallCredentials:(o,...r)=>r.reduce((n,a)=>n.compose(a),o),createInsecure:zd.ChannelCredentials.createInsecure,createSsl:zd.ChannelCredentials.createSsl,createFromSecureContext:zd.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:jd.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:jd.CallCredentials.createFromGoogleCredential,createEmpty:jd.CallCredentials.createEmpty};var dne=o=>o.close();V.closeClient=dne;var hne=(o,r,n)=>o.waitForReady(r,n);V.waitForClientReady=hne;var mne=(o,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};V.loadObject=mne;var yne=(o,r,n)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};V.load=yne;var Sne=o=>{FB.setLogger(o)};V.setLogger=Sne;var vne=o=>{FB.setLoggerVerbosity(o)};V.setLogVerbosity=vne;var _ne=o=>BB.Client.prototype.getChannel.call(o);V.getClientChannel=_ne;var Yd=Ov();Object.defineProperty(V,"ListenerBuilder",{enumerable:!0,get:function(){return Yd.ListenerBuilder}});Object.defineProperty(V,"RequesterBuilder",{enumerable:!0,get:function(){return Yd.RequesterBuilder}});Object.defineProperty(V,"InterceptingCall",{enumerable:!0,get:function(){return Yd.InterceptingCall}});Object.defineProperty(V,"InterceptorConfigurationError",{enumerable:!0,get:function(){return Yd.InterceptorConfigurationError}});var qB=eo();Object.defineProperty(V,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return qB.getChannelzServiceDefinition}});Object.defineProperty(V,"getChannelzHandlers",{enumerable:!0,get:function(){return qB.getChannelzHandlers}});var Ene=gp();Object.defineProperty(V,"addAdminServicesToServer",{enumerable:!0,get:function(){return Ene.addAdminServicesToServer}});var ZE=bE();Object.defineProperty(V,"ServerListenerBuilder",{enumerable:!0,get:function(){return ZE.ServerListenerBuilder}});Object.defineProperty(V,"ResponderBuilder",{enumerable:!0,get:function(){return ZE.ResponderBuilder}});Object.defineProperty(V,"ServerInterceptingCall",{enumerable:!0,get:function(){return ZE.ServerInterceptingCall}});var gne=UE();V.experimental=gne;var Tne=P_(),One=NB(),bne=IB(),Ane=Md(),Nne=UB(),xne=VB(),Rne=eo();Tne.setup(),One.setup(),bne.setup(),Ane.setup(),Nne.setup(),xne.setup(),Rne.setup()});var GB=E($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.createServiceClientConstructor=void 0;var Pne=ic();function Cne(o,r){let n={export:{path:o,requestStream:!1,responseStream:!1,requestSerialize:a=>a,requestDeserialize:a=>a,responseSerialize:a=>a,responseDeserialize:a=>a}};return Pne.makeGenericClientConstructor(n,r)}$d.createServiceClientConstructor=Cne});var tg=E(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.GrpcExporterTransport=en.createEmptyMetadata=en.createSslCredentials=en.createInsecureCredentials=void 0;var Ine=0,wne=2;function Lne(o){return o==="gzip"?wne:Ine}function Mne(){let{credentials:o}=ic();return o.createInsecure()}en.createInsecureCredentials=Mne;function Une(o,r,n){let{credentials:a}=ic();return a.createSsl(o,r,n)}en.createSslCredentials=Une;function Dne(){let{Metadata:o}=ic();return new o}en.createEmptyMetadata=Dne;var eg=class{constructor(r){this._parameters=r}shutdown(){var r;(r=this._client)===null||r===void 0||r.close()}send(r){let n=Buffer.from(r);if(this._client==null){let{createServiceClientConstructor:a}=GB();try{this._metadata=this._parameters.metadata()}catch(l){return Promise.resolve({status:"failure",error:l})}let s=a(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new s(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":Lne(this._parameters.compression)})}catch(l){return Promise.resolve({status:"failure",error:l})}}return new Promise(a=>{let s=Date.now()+this._parameters.timeoutMillis;if(this._metadata==null)return a({error:new Error("metadata was null"),status:"failure"});this._client.export(n,this._metadata,{deadline:s},(l,t)=>{a(l?{status:"failure",error:l}:{data:t,status:"success"})})})}};en.GrpcExporterTransport=eg});var og=E($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.configureCompression=$t.getCredentialsFromEnvironment=$t.configureCredentials=$t.validateAndNormalizeUrl=$t.DEFAULT_COLLECTOR_URL=void 0;var Hs=(k(),ie(st)),tn=(Z(),ie(bi)),ng=B("path"),kne=B("url"),ig=B("fs"),rg=(Fn(),ie(hS)),HB=tg();$t.DEFAULT_COLLECTOR_URL="http://localhost:4317";function Vne(o){var r;o.match(/^([\w]{1,8}):\/\//)||(o=`https://${o}`);let a=new kne.URL(o);return a.protocol==="unix:"?o:(a.pathname&&a.pathname!=="/"&&Hs.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),a.protocol!==""&&!(!((r=a.protocol)===null||r===void 0)&&r.match(/^(http)s?:$/))&&Hs.diag.warn("URL protocol should be http(s)://. Using http://."),a.host)}$t.validateAndNormalizeUrl=Vne;function Bne(o,r){let n;return o||(r.startsWith("https://")?n=!1:r.startsWith("http://")||r===$t.DEFAULT_COLLECTOR_URL?n=!0:n=Fne(),n?(0,HB.createInsecureCredentials)():jB())}$t.configureCredentials=Bne;function Fne(){let o=(0,tn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_INSECURE||(0,tn.getEnv)().OTEL_EXPORTER_OTLP_INSECURE;return o?o.toLowerCase()==="true":!1}function jB(){let o=qne(),r=Gne(),n=Hne();return(0,HB.createSslCredentials)(o,r,n)}$t.getCredentialsFromEnvironment=jB;function qne(){let o=(0,tn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE||(0,tn.getEnv)().OTEL_EXPORTER_OTLP_CERTIFICATE;if(o)try{return ig.readFileSync(ng.resolve(process.cwd(),o))}catch{Hs.diag.warn("Failed to read root certificate file");return}else return}function Gne(){let o=(0,tn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY||(0,tn.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_KEY;if(o)try{return ig.readFileSync(ng.resolve(process.cwd(),o))}catch{Hs.diag.warn("Failed to read client certificate private key file");return}else return}function Hne(){let o=(0,tn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE||(0,tn.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE;if(o)try{return ig.readFileSync(ng.resolve(process.cwd(),o))}catch{Hs.diag.warn("Failed to read client certificate chain file");return}else return}function jne(o){if(o!=null)return o;let r=(0,tn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,tn.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION;return r==="gzip"?rg.CompressionAlgorithm.GZIP:(r==="none"||Hs.diag.warn('Unknown compression "'+r+'", falling back to "none"'),rg.CompressionAlgorithm.NONE)}$t.configureCompression=jne});var JB=E(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.OTLPGRPCExporterNodeBase=void 0;var zB=(k(),ie(st)),YB=(Z(),ie(bi)),$B=(Fn(),ie(hS)),KB=tg(),WB=og(),sg=class extends $B.OTLPExporterBase{constructor(r={},n,a,s,l){var t;super(r),this.grpcQueue=[],this._serializer=l,r.headers&&zB.diag.warn("Headers cannot be set when using grpc");let e=YB.baggageUtils.parseKeyPairsIntoRecord((0,YB.getEnv)().OTEL_EXPORTER_OTLP_HEADERS),i=Object.assign({},e,n),c=()=>(0,WB.configureCredentials)(void 0,this.getUrlFromConfig(r));if(r.credentials!=null){let v=r.credentials;c=()=>v}let u=(t=r.metadata)===null||t===void 0?void 0:t.clone(),f=()=>{let v=u??(0,KB.createEmptyMetadata)();for(let[_,x]of Object.entries(i))v.get(_).length<1&&v.set(_,x);return v};this.compression=(0,WB.configureCompression)(r.compression),this._transport=new KB.GrpcExporterTransport({address:this.getDefaultUrl(r),compression:this.compression,credentials:c,grpcName:a,grpcPath:s,metadata:f,timeoutMillis:this.timeoutMillis})}onInit(){}onShutdown(){this._transport.shutdown()}send(r,n,a){if(this._shutdownOnce.isCalled){zB.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(r),l=this._serializer.serializeRequest(s);if(l==null){a(new Error("Could not serialize message"));return}let t=this._transport.send(l).then(i=>{if(i.status==="success"){n();return}i.status==="failure"&&i.error&&a(i.error),a(new $B.OTLPExporterError("Export failed with unknown error"))},a);this._sendingPromises.push(t);let e=()=>{let i=this._sendingPromises.indexOf(t);this._sendingPromises.splice(i,1)};t.then(e,e)}};Kd.OTLPGRPCExporterNodeBase=sg});var QB=E((EOe,XB)=>{"use strict";var J=IS(),T=J.Reader,ae=J.Writer,m=J.util,d=J.roots.default||(J.roots.default={});d.opentelemetry=function(){var o={};return o.proto=function(){var r={};return r.common=function(){var n={};return n.v1=function(){var a={};return a.AnyValue=function(){function s(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var l;return Object.defineProperty(s.prototype,"value",{get:m.oneOfGetter(l=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:m.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){return i||(i=ae.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&i.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&i.uint32(16).bool(e.boolValue),e.intValue!=null&&Object.hasOwnProperty.call(e,"intValue")&&i.uint32(24).int64(e.intValue),e.doubleValue!=null&&Object.hasOwnProperty.call(e,"doubleValue")&&i.uint32(33).double(e.doubleValue),e.arrayValue!=null&&Object.hasOwnProperty.call(e,"arrayValue")&&d.opentelemetry.proto.common.v1.ArrayValue.encode(e.arrayValue,i.uint32(42).fork()).ldelim(),e.kvlistValue!=null&&Object.hasOwnProperty.call(e,"kvlistValue")&&d.opentelemetry.proto.common.v1.KeyValueList.encode(e.kvlistValue,i.uint32(50).fork()).ldelim(),e.bytesValue!=null&&Object.hasOwnProperty.call(e,"bytesValue")&&i.uint32(58).bytes(e.bytesValue),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.common.v1.AnyValue;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.stringValue=e.string();break}case 2:{u.boolValue=e.bool();break}case 3:{u.intValue=e.int64();break}case 4:{u.doubleValue=e.double();break}case 5:{u.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.decode(e,e.uint32());break}case 6:{u.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.decode(e,e.uint32());break}case 7:{u.bytesValue=e.bytes();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(i.value=1,!m.isString(e.stringValue)))return"stringValue: string expected";if(e.boolValue!=null&&e.hasOwnProperty("boolValue")){if(i.value===1)return"value: multiple values";if(i.value=1,typeof e.boolValue!="boolean")return"boolValue: boolean expected"}if(e.intValue!=null&&e.hasOwnProperty("intValue")){if(i.value===1)return"value: multiple values";if(i.value=1,!m.isInteger(e.intValue)&&!(e.intValue&&m.isInteger(e.intValue.low)&&m.isInteger(e.intValue.high)))return"intValue: integer|Long expected"}if(e.doubleValue!=null&&e.hasOwnProperty("doubleValue")){if(i.value===1)return"value: multiple values";if(i.value=1,typeof e.doubleValue!="number")return"doubleValue: number expected"}if(e.arrayValue!=null&&e.hasOwnProperty("arrayValue")){if(i.value===1)return"value: multiple values";i.value=1;{var c=d.opentelemetry.proto.common.v1.ArrayValue.verify(e.arrayValue);if(c)return"arrayValue."+c}}if(e.kvlistValue!=null&&e.hasOwnProperty("kvlistValue")){if(i.value===1)return"value: multiple values";i.value=1;{var c=d.opentelemetry.proto.common.v1.KeyValueList.verify(e.kvlistValue);if(c)return"kvlistValue."+c}}if(e.bytesValue!=null&&e.hasOwnProperty("bytesValue")){if(i.value===1)return"value: multiple values";if(i.value=1,!(e.bytesValue&&typeof e.bytesValue.length=="number"||m.isString(e.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(e){if(e instanceof d.opentelemetry.proto.common.v1.AnyValue)return e;var i=new d.opentelemetry.proto.common.v1.AnyValue;if(e.stringValue!=null&&(i.stringValue=String(e.stringValue)),e.boolValue!=null&&(i.boolValue=!!e.boolValue),e.intValue!=null&&(m.Long?(i.intValue=m.Long.fromValue(e.intValue)).unsigned=!1:typeof e.intValue=="string"?i.intValue=parseInt(e.intValue,10):typeof e.intValue=="number"?i.intValue=e.intValue:typeof e.intValue=="object"&&(i.intValue=new m.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber())),e.doubleValue!=null&&(i.doubleValue=Number(e.doubleValue)),e.arrayValue!=null){if(typeof e.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");i.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.fromObject(e.arrayValue)}if(e.kvlistValue!=null){if(typeof e.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");i.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.fromObject(e.kvlistValue)}return e.bytesValue!=null&&(typeof e.bytesValue=="string"?m.base64.decode(e.bytesValue,i.bytesValue=m.newBuffer(m.base64.length(e.bytesValue)),0):e.bytesValue.length>=0&&(i.bytesValue=e.bytesValue)),i},s.toObject=function(e,i){i||(i={});var c={};return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(c.stringValue=e.stringValue,i.oneofs&&(c.value="stringValue")),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(c.boolValue=e.boolValue,i.oneofs&&(c.value="boolValue")),e.intValue!=null&&e.hasOwnProperty("intValue")&&(typeof e.intValue=="number"?c.intValue=i.longs===String?String(e.intValue):e.intValue:c.intValue=i.longs===String?m.Long.prototype.toString.call(e.intValue):i.longs===Number?new m.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber():e.intValue,i.oneofs&&(c.value="intValue")),e.doubleValue!=null&&e.hasOwnProperty("doubleValue")&&(c.doubleValue=i.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,i.oneofs&&(c.value="doubleValue")),e.arrayValue!=null&&e.hasOwnProperty("arrayValue")&&(c.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.toObject(e.arrayValue,i),i.oneofs&&(c.value="arrayValue")),e.kvlistValue!=null&&e.hasOwnProperty("kvlistValue")&&(c.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.toObject(e.kvlistValue,i),i.oneofs&&(c.value="kvlistValue")),e.bytesValue!=null&&e.hasOwnProperty("bytesValue")&&(c.bytesValue=i.bytes===String?m.base64.encode(e.bytesValue,0,e.bytesValue.length):i.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,i.oneofs&&(c.value="bytesValue")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.AnyValue"},s}(),a.ArrayValue=function(){function s(l){if(this.values=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.values=m.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.values!=null&&t.values.length)for(var i=0;i<t.values.length;++i)d.opentelemetry.proto.common.v1.AnyValue.encode(t.values[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.common.v1.ArrayValue;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(d.opentelemetry.proto.common.v1.AnyValue.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.values!=null&&t.hasOwnProperty("values")){if(!Array.isArray(t.values))return"values: array expected";for(var e=0;e<t.values.length;++e){var i=d.opentelemetry.proto.common.v1.AnyValue.verify(t.values[e]);if(i)return"values."+i}}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.common.v1.ArrayValue)return t;var e=new d.opentelemetry.proto.common.v1.ArrayValue;if(t.values){if(!Array.isArray(t.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");e.values=[];for(var i=0;i<t.values.length;++i){if(typeof t.values[i]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");e.values[i]=d.opentelemetry.proto.common.v1.AnyValue.fromObject(t.values[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.values=[]),t.values&&t.values.length){i.values=[];for(var c=0;c<t.values.length;++c)i.values[c]=d.opentelemetry.proto.common.v1.AnyValue.toObject(t.values[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.ArrayValue"},s}(),a.KeyValueList=function(){function s(l){if(this.values=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.values=m.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.values!=null&&t.values.length)for(var i=0;i<t.values.length;++i)d.opentelemetry.proto.common.v1.KeyValue.encode(t.values[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.common.v1.KeyValueList;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(d.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.values!=null&&t.hasOwnProperty("values")){if(!Array.isArray(t.values))return"values: array expected";for(var e=0;e<t.values.length;++e){var i=d.opentelemetry.proto.common.v1.KeyValue.verify(t.values[e]);if(i)return"values."+i}}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.common.v1.KeyValueList)return t;var e=new d.opentelemetry.proto.common.v1.KeyValueList;if(t.values){if(!Array.isArray(t.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");e.values=[];for(var i=0;i<t.values.length;++i){if(typeof t.values[i]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");e.values[i]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(t.values[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.values=[]),t.values&&t.values.length){i.values=[];for(var c=0;c<t.values.length;++c)i.values[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(t.values[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.KeyValueList"},s}(),a.KeyValue=function(){function s(l){if(l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(t){return new s(t)},s.encode=function(t,e){return e||(e=ae.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&e.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&d.opentelemetry.proto.common.v1.AnyValue.encode(t.value,e.uint32(18).fork()).ldelim(),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.common.v1.KeyValue;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.key=t.string();break}case 2:{c.value=d.opentelemetry.proto.common.v1.AnyValue.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.key!=null&&t.hasOwnProperty("key")&&!m.isString(t.key))return"key: string expected";if(t.value!=null&&t.hasOwnProperty("value")){var e=d.opentelemetry.proto.common.v1.AnyValue.verify(t.value);if(e)return"value."+e}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.common.v1.KeyValue)return t;var e=new d.opentelemetry.proto.common.v1.KeyValue;if(t.key!=null&&(e.key=String(t.key)),t.value!=null){if(typeof t.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");e.value=d.opentelemetry.proto.common.v1.AnyValue.fromObject(t.value)}return e},s.toObject=function(t,e){e||(e={});var i={};return e.defaults&&(i.key="",i.value=null),t.key!=null&&t.hasOwnProperty("key")&&(i.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(i.value=d.opentelemetry.proto.common.v1.AnyValue.toObject(t.value,e)),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.KeyValue"},s}(),a.InstrumentationScope=function(){function s(l){if(this.attributes=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=m.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&e.uint32(18).string(t.version),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)d.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(26).fork()).ldelim();return t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(32).uint32(t.droppedAttributesCount),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.common.v1.InstrumentationScope;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.name=t.string();break}case 2:{c.version=t.string();break}case 3:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 4:{c.droppedAttributesCount=t.uint32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!m.isString(t.name))return"name: string expected";if(t.version!=null&&t.hasOwnProperty("version")&&!m.isString(t.version))return"version: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=d.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(t.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.common.v1.InstrumentationScope)return t;var e=new d.opentelemetry.proto.common.v1.InstrumentationScope;if(t.name!=null&&(e.name=String(t.name)),t.version!=null&&(e.version=String(t.version)),t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");e.attributes[i]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}return t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[]),e.defaults&&(i.name="",i.version="",i.droppedAttributesCount=0),t.name!=null&&t.hasOwnProperty("name")&&(i.name=t.name),t.version!=null&&t.hasOwnProperty("version")&&(i.version=t.version),t.attributes&&t.attributes.length){i.attributes=[];for(var c=0;c<t.attributes.length;++c)i.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[c],e)}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.common.v1.InstrumentationScope"},s}(),a}(),n}(),r.resource=function(){var n={};return n.v1=function(){var a={};return a.Resource=function(){function s(l){if(this.attributes=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.attributes=m.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)d.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(10).fork()).ldelim();return t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(16).uint32(t.droppedAttributesCount),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.resource.v1.Resource;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 2:{c.droppedAttributesCount=t.uint32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=d.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(t.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.resource.v1.Resource)return t;var e=new d.opentelemetry.proto.resource.v1.Resource;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");e.attributes[i]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}return t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[]),e.defaults&&(i.droppedAttributesCount=0),t.attributes&&t.attributes.length){i.attributes=[];for(var c=0;c<t.attributes.length;++c)i.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[c],e)}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.resource.v1.Resource"},s}(),a}(),n}(),r.trace=function(){var n={};return n.v1=function(){var a={};return a.TracesData=function(){function s(l){if(this.resourceSpans=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resourceSpans=m.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.resourceSpans!=null&&t.resourceSpans.length)for(var i=0;i<t.resourceSpans.length;++i)d.opentelemetry.proto.trace.v1.ResourceSpans.encode(t.resourceSpans[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.trace.v1.TracesData;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resourceSpans&&c.resourceSpans.length||(c.resourceSpans=[]),c.resourceSpans.push(d.opentelemetry.proto.trace.v1.ResourceSpans.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resourceSpans!=null&&t.hasOwnProperty("resourceSpans")){if(!Array.isArray(t.resourceSpans))return"resourceSpans: array expected";for(var e=0;e<t.resourceSpans.length;++e){var i=d.opentelemetry.proto.trace.v1.ResourceSpans.verify(t.resourceSpans[e]);if(i)return"resourceSpans."+i}}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.trace.v1.TracesData)return t;var e=new d.opentelemetry.proto.trace.v1.TracesData;if(t.resourceSpans){if(!Array.isArray(t.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");e.resourceSpans=[];for(var i=0;i<t.resourceSpans.length;++i){if(typeof t.resourceSpans[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");e.resourceSpans[i]=d.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(t.resourceSpans[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.resourceSpans=[]),t.resourceSpans&&t.resourceSpans.length){i.resourceSpans=[];for(var c=0;c<t.resourceSpans.length;++c)i.resourceSpans[c]=d.opentelemetry.proto.trace.v1.ResourceSpans.toObject(t.resourceSpans[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.TracesData"},s}(),a.ResourceSpans=function(){function s(l){if(this.scopeSpans=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resource=null,s.prototype.scopeSpans=m.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.resource!=null&&Object.hasOwnProperty.call(t,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(t.resource,e.uint32(10).fork()).ldelim(),t.scopeSpans!=null&&t.scopeSpans.length)for(var i=0;i<t.scopeSpans.length;++i)d.opentelemetry.proto.trace.v1.ScopeSpans.encode(t.scopeSpans[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.trace.v1.ResourceSpans;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(t,t.uint32());break}case 2:{c.scopeSpans&&c.scopeSpans.length||(c.scopeSpans=[]),c.scopeSpans.push(d.opentelemetry.proto.trace.v1.ScopeSpans.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resource!=null&&t.hasOwnProperty("resource")){var e=d.opentelemetry.proto.resource.v1.Resource.verify(t.resource);if(e)return"resource."+e}if(t.scopeSpans!=null&&t.hasOwnProperty("scopeSpans")){if(!Array.isArray(t.scopeSpans))return"scopeSpans: array expected";for(var i=0;i<t.scopeSpans.length;++i){var e=d.opentelemetry.proto.trace.v1.ScopeSpans.verify(t.scopeSpans[i]);if(e)return"scopeSpans."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!m.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.trace.v1.ResourceSpans)return t;var e=new d.opentelemetry.proto.trace.v1.ResourceSpans;if(t.resource!=null){if(typeof t.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");e.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(t.resource)}if(t.scopeSpans){if(!Array.isArray(t.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");e.scopeSpans=[];for(var i=0;i<t.scopeSpans.length;++i){if(typeof t.scopeSpans[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");e.scopeSpans[i]=d.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(t.scopeSpans[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.scopeSpans=[]),e.defaults&&(i.resource=null,i.schemaUrl=""),t.resource!=null&&t.hasOwnProperty("resource")&&(i.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(t.resource,e)),t.scopeSpans&&t.scopeSpans.length){i.scopeSpans=[];for(var c=0;c<t.scopeSpans.length;++c)i.scopeSpans[c]=d.opentelemetry.proto.trace.v1.ScopeSpans.toObject(t.scopeSpans[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.ResourceSpans"},s}(),a.ScopeSpans=function(){function s(l){if(this.spans=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.scope=null,s.prototype.spans=m.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.scope!=null&&Object.hasOwnProperty.call(t,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(t.scope,e.uint32(10).fork()).ldelim(),t.spans!=null&&t.spans.length)for(var i=0;i<t.spans.length;++i)d.opentelemetry.proto.trace.v1.Span.encode(t.spans[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.trace.v1.ScopeSpans;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(t,t.uint32());break}case 2:{c.spans&&c.spans.length||(c.spans=[]),c.spans.push(d.opentelemetry.proto.trace.v1.Span.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.scope!=null&&t.hasOwnProperty("scope")){var e=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(t.scope);if(e)return"scope."+e}if(t.spans!=null&&t.hasOwnProperty("spans")){if(!Array.isArray(t.spans))return"spans: array expected";for(var i=0;i<t.spans.length;++i){var e=d.opentelemetry.proto.trace.v1.Span.verify(t.spans[i]);if(e)return"spans."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!m.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.trace.v1.ScopeSpans)return t;var e=new d.opentelemetry.proto.trace.v1.ScopeSpans;if(t.scope!=null){if(typeof t.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");e.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(t.scope)}if(t.spans){if(!Array.isArray(t.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");e.spans=[];for(var i=0;i<t.spans.length;++i){if(typeof t.spans[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");e.spans[i]=d.opentelemetry.proto.trace.v1.Span.fromObject(t.spans[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.spans=[]),e.defaults&&(i.scope=null,i.schemaUrl=""),t.scope!=null&&t.hasOwnProperty("scope")&&(i.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(t.scope,e)),t.spans&&t.spans.length){i.spans=[];for(var c=0;c<t.spans.length;++c)i.spans[c]=d.opentelemetry.proto.trace.v1.Span.toObject(t.spans[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.ScopeSpans"},s}(),a.Span=function(){function s(l){if(this.attributes=[],this.events=[],this.links=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=m.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=m.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=m.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.traceId!=null&&Object.hasOwnProperty.call(t,"traceId")&&e.uint32(10).bytes(t.traceId),t.spanId!=null&&Object.hasOwnProperty.call(t,"spanId")&&e.uint32(18).bytes(t.spanId),t.traceState!=null&&Object.hasOwnProperty.call(t,"traceState")&&e.uint32(26).string(t.traceState),t.parentSpanId!=null&&Object.hasOwnProperty.call(t,"parentSpanId")&&e.uint32(34).bytes(t.parentSpanId),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(42).string(t.name),t.kind!=null&&Object.hasOwnProperty.call(t,"kind")&&e.uint32(48).int32(t.kind),t.startTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"startTimeUnixNano")&&e.uint32(57).fixed64(t.startTimeUnixNano),t.endTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"endTimeUnixNano")&&e.uint32(65).fixed64(t.endTimeUnixNano),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)d.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(74).fork()).ldelim();if(t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(80).uint32(t.droppedAttributesCount),t.events!=null&&t.events.length)for(var i=0;i<t.events.length;++i)d.opentelemetry.proto.trace.v1.Span.Event.encode(t.events[i],e.uint32(90).fork()).ldelim();if(t.droppedEventsCount!=null&&Object.hasOwnProperty.call(t,"droppedEventsCount")&&e.uint32(96).uint32(t.droppedEventsCount),t.links!=null&&t.links.length)for(var i=0;i<t.links.length;++i)d.opentelemetry.proto.trace.v1.Span.Link.encode(t.links[i],e.uint32(106).fork()).ldelim();return t.droppedLinksCount!=null&&Object.hasOwnProperty.call(t,"droppedLinksCount")&&e.uint32(112).uint32(t.droppedLinksCount),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&d.opentelemetry.proto.trace.v1.Status.encode(t.status,e.uint32(122).fork()).ldelim(),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.trace.v1.Span;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.traceId=t.bytes();break}case 2:{c.spanId=t.bytes();break}case 3:{c.traceState=t.string();break}case 4:{c.parentSpanId=t.bytes();break}case 5:{c.name=t.string();break}case 6:{c.kind=t.int32();break}case 7:{c.startTimeUnixNano=t.fixed64();break}case 8:{c.endTimeUnixNano=t.fixed64();break}case 9:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 10:{c.droppedAttributesCount=t.uint32();break}case 11:{c.events&&c.events.length||(c.events=[]),c.events.push(d.opentelemetry.proto.trace.v1.Span.Event.decode(t,t.uint32()));break}case 12:{c.droppedEventsCount=t.uint32();break}case 13:{c.links&&c.links.length||(c.links=[]),c.links.push(d.opentelemetry.proto.trace.v1.Span.Link.decode(t,t.uint32()));break}case 14:{c.droppedLinksCount=t.uint32();break}case 15:{c.status=d.opentelemetry.proto.trace.v1.Status.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.traceId!=null&&t.hasOwnProperty("traceId")&&!(t.traceId&&typeof t.traceId.length=="number"||m.isString(t.traceId)))return"traceId: buffer expected";if(t.spanId!=null&&t.hasOwnProperty("spanId")&&!(t.spanId&&typeof t.spanId.length=="number"||m.isString(t.spanId)))return"spanId: buffer expected";if(t.traceState!=null&&t.hasOwnProperty("traceState")&&!m.isString(t.traceState))return"traceState: string expected";if(t.parentSpanId!=null&&t.hasOwnProperty("parentSpanId")&&!(t.parentSpanId&&typeof t.parentSpanId.length=="number"||m.isString(t.parentSpanId)))return"parentSpanId: buffer expected";if(t.name!=null&&t.hasOwnProperty("name")&&!m.isString(t.name))return"name: string expected";if(t.kind!=null&&t.hasOwnProperty("kind"))switch(t.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(t.startTimeUnixNano)&&!(t.startTimeUnixNano&&m.isInteger(t.startTimeUnixNano.low)&&m.isInteger(t.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(t.endTimeUnixNano!=null&&t.hasOwnProperty("endTimeUnixNano")&&!m.isInteger(t.endTimeUnixNano)&&!(t.endTimeUnixNano&&m.isInteger(t.endTimeUnixNano.low)&&m.isInteger(t.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=d.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}if(t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(t.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(t.events!=null&&t.hasOwnProperty("events")){if(!Array.isArray(t.events))return"events: array expected";for(var e=0;e<t.events.length;++e){var i=d.opentelemetry.proto.trace.v1.Span.Event.verify(t.events[e]);if(i)return"events."+i}}if(t.droppedEventsCount!=null&&t.hasOwnProperty("droppedEventsCount")&&!m.isInteger(t.droppedEventsCount))return"droppedEventsCount: integer expected";if(t.links!=null&&t.hasOwnProperty("links")){if(!Array.isArray(t.links))return"links: array expected";for(var e=0;e<t.links.length;++e){var i=d.opentelemetry.proto.trace.v1.Span.Link.verify(t.links[e]);if(i)return"links."+i}}if(t.droppedLinksCount!=null&&t.hasOwnProperty("droppedLinksCount")&&!m.isInteger(t.droppedLinksCount))return"droppedLinksCount: integer expected";if(t.status!=null&&t.hasOwnProperty("status")){var i=d.opentelemetry.proto.trace.v1.Status.verify(t.status);if(i)return"status."+i}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.trace.v1.Span)return t;var e=new d.opentelemetry.proto.trace.v1.Span;switch(t.traceId!=null&&(typeof t.traceId=="string"?m.base64.decode(t.traceId,e.traceId=m.newBuffer(m.base64.length(t.traceId)),0):t.traceId.length>=0&&(e.traceId=t.traceId)),t.spanId!=null&&(typeof t.spanId=="string"?m.base64.decode(t.spanId,e.spanId=m.newBuffer(m.base64.length(t.spanId)),0):t.spanId.length>=0&&(e.spanId=t.spanId)),t.traceState!=null&&(e.traceState=String(t.traceState)),t.parentSpanId!=null&&(typeof t.parentSpanId=="string"?m.base64.decode(t.parentSpanId,e.parentSpanId=m.newBuffer(m.base64.length(t.parentSpanId)),0):t.parentSpanId.length>=0&&(e.parentSpanId=t.parentSpanId)),t.name!=null&&(e.name=String(t.name)),t.kind){default:if(typeof t.kind=="number"){e.kind=t.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:e.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:e.kind=1;break;case"SPAN_KIND_SERVER":case 2:e.kind=2;break;case"SPAN_KIND_CLIENT":case 3:e.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:e.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:e.kind=5;break}if(t.startTimeUnixNano!=null&&(m.Long?(e.startTimeUnixNano=m.Long.fromValue(t.startTimeUnixNano)).unsigned=!1:typeof t.startTimeUnixNano=="string"?e.startTimeUnixNano=parseInt(t.startTimeUnixNano,10):typeof t.startTimeUnixNano=="number"?e.startTimeUnixNano=t.startTimeUnixNano:typeof t.startTimeUnixNano=="object"&&(e.startTimeUnixNano=new m.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber())),t.endTimeUnixNano!=null&&(m.Long?(e.endTimeUnixNano=m.Long.fromValue(t.endTimeUnixNano)).unsigned=!1:typeof t.endTimeUnixNano=="string"?e.endTimeUnixNano=parseInt(t.endTimeUnixNano,10):typeof t.endTimeUnixNano=="number"?e.endTimeUnixNano=t.endTimeUnixNano:typeof t.endTimeUnixNano=="object"&&(e.endTimeUnixNano=new m.LongBits(t.endTimeUnixNano.low>>>0,t.endTimeUnixNano.high>>>0).toNumber())),t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");e.attributes[i]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}if(t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),t.events){if(!Array.isArray(t.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");e.events=[];for(var i=0;i<t.events.length;++i){if(typeof t.events[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");e.events[i]=d.opentelemetry.proto.trace.v1.Span.Event.fromObject(t.events[i])}}if(t.droppedEventsCount!=null&&(e.droppedEventsCount=t.droppedEventsCount>>>0),t.links){if(!Array.isArray(t.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");e.links=[];for(var i=0;i<t.links.length;++i){if(typeof t.links[i]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");e.links[i]=d.opentelemetry.proto.trace.v1.Span.Link.fromObject(t.links[i])}}if(t.droppedLinksCount!=null&&(e.droppedLinksCount=t.droppedLinksCount>>>0),t.status!=null){if(typeof t.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");e.status=d.opentelemetry.proto.trace.v1.Status.fromObject(t.status)}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[],i.events=[],i.links=[]),e.defaults){if(e.bytes===String?i.traceId="":(i.traceId=[],e.bytes!==Array&&(i.traceId=m.newBuffer(i.traceId))),e.bytes===String?i.spanId="":(i.spanId=[],e.bytes!==Array&&(i.spanId=m.newBuffer(i.spanId))),i.traceState="",e.bytes===String?i.parentSpanId="":(i.parentSpanId=[],e.bytes!==Array&&(i.parentSpanId=m.newBuffer(i.parentSpanId))),i.name="",i.kind=e.enums===String?"SPAN_KIND_UNSPECIFIED":0,m.Long){var c=new m.Long(0,0,!1);i.startTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.startTimeUnixNano=e.longs===String?"0":0;if(m.Long){var c=new m.Long(0,0,!1);i.endTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.endTimeUnixNano=e.longs===String?"0":0;i.droppedAttributesCount=0,i.droppedEventsCount=0,i.droppedLinksCount=0,i.status=null}if(t.traceId!=null&&t.hasOwnProperty("traceId")&&(i.traceId=e.bytes===String?m.base64.encode(t.traceId,0,t.traceId.length):e.bytes===Array?Array.prototype.slice.call(t.traceId):t.traceId),t.spanId!=null&&t.hasOwnProperty("spanId")&&(i.spanId=e.bytes===String?m.base64.encode(t.spanId,0,t.spanId.length):e.bytes===Array?Array.prototype.slice.call(t.spanId):t.spanId),t.traceState!=null&&t.hasOwnProperty("traceState")&&(i.traceState=t.traceState),t.parentSpanId!=null&&t.hasOwnProperty("parentSpanId")&&(i.parentSpanId=e.bytes===String?m.base64.encode(t.parentSpanId,0,t.parentSpanId.length):e.bytes===Array?Array.prototype.slice.call(t.parentSpanId):t.parentSpanId),t.name!=null&&t.hasOwnProperty("name")&&(i.name=t.name),t.kind!=null&&t.hasOwnProperty("kind")&&(i.kind=e.enums===String?d.opentelemetry.proto.trace.v1.Span.SpanKind[t.kind]===void 0?t.kind:d.opentelemetry.proto.trace.v1.Span.SpanKind[t.kind]:t.kind),t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&(typeof t.startTimeUnixNano=="number"?i.startTimeUnixNano=e.longs===String?String(t.startTimeUnixNano):t.startTimeUnixNano:i.startTimeUnixNano=e.longs===String?m.Long.prototype.toString.call(t.startTimeUnixNano):e.longs===Number?new m.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber():t.startTimeUnixNano),t.endTimeUnixNano!=null&&t.hasOwnProperty("endTimeUnixNano")&&(typeof t.endTimeUnixNano=="number"?i.endTimeUnixNano=e.longs===String?String(t.endTimeUnixNano):t.endTimeUnixNano:i.endTimeUnixNano=e.longs===String?m.Long.prototype.toString.call(t.endTimeUnixNano):e.longs===Number?new m.LongBits(t.endTimeUnixNano.low>>>0,t.endTimeUnixNano.high>>>0).toNumber():t.endTimeUnixNano),t.attributes&&t.attributes.length){i.attributes=[];for(var u=0;u<t.attributes.length;++u)i.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[u],e)}if(t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),t.events&&t.events.length){i.events=[];for(var u=0;u<t.events.length;++u)i.events[u]=d.opentelemetry.proto.trace.v1.Span.Event.toObject(t.events[u],e)}if(t.droppedEventsCount!=null&&t.hasOwnProperty("droppedEventsCount")&&(i.droppedEventsCount=t.droppedEventsCount),t.links&&t.links.length){i.links=[];for(var u=0;u<t.links.length;++u)i.links[u]=d.opentelemetry.proto.trace.v1.Span.Link.toObject(t.links[u],e)}return t.droppedLinksCount!=null&&t.hasOwnProperty("droppedLinksCount")&&(i.droppedLinksCount=t.droppedLinksCount),t.status!=null&&t.hasOwnProperty("status")&&(i.status=d.opentelemetry.proto.trace.v1.Status.toObject(t.status,e)),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=function(){var l={},t=Object.create(l);return t[l[0]="SPAN_KIND_UNSPECIFIED"]=0,t[l[1]="SPAN_KIND_INTERNAL"]=1,t[l[2]="SPAN_KIND_SERVER"]=2,t[l[3]="SPAN_KIND_CLIENT"]=3,t[l[4]="SPAN_KIND_PRODUCER"]=4,t[l[5]="SPAN_KIND_CONSUMER"]=5,t}(),s.Event=function(){function l(t){if(this.attributes=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.timeUnixNano=null,l.prototype.name=null,l.prototype.attributes=m.emptyArray,l.prototype.droppedAttributesCount=null,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=ae.create()),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(9).fixed64(e.timeUnixNano),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&i.uint32(18).string(e.name),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(26).fork()).ldelim();return e.droppedAttributesCount!=null&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&i.uint32(32).uint32(e.droppedAttributesCount),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.trace.v1.Span.Event;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.timeUnixNano=e.fixed64();break}case 2:{u.name=e.string();break}case 3:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 4:{u.droppedAttributesCount=e.uint32();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!m.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.name!=null&&e.hasOwnProperty("name")&&!m.isString(e.name))return"name: string expected";if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var i=0;i<e.attributes.length;++i){var c=d.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[i]);if(c)return"attributes."+c}}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.trace.v1.Span.Event)return e;var i=new d.opentelemetry.proto.trace.v1.Span.Event;if(e.timeUnixNano!=null&&(m.Long?(i.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.name!=null&&(i.name=String(e.name)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");i.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}return e.droppedAttributesCount!=null&&(i.droppedAttributesCount=e.droppedAttributesCount>>>0),i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.attributes=[]),i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.name!=null&&e.hasOwnProperty("name")&&(c.name=e.name),e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=e.droppedAttributesCount),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Event"},l}(),s.Link=function(){function l(t){if(this.attributes=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.traceId=null,l.prototype.spanId=null,l.prototype.traceState=null,l.prototype.attributes=m.emptyArray,l.prototype.droppedAttributesCount=null,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=ae.create()),e.traceId!=null&&Object.hasOwnProperty.call(e,"traceId")&&i.uint32(10).bytes(e.traceId),e.spanId!=null&&Object.hasOwnProperty.call(e,"spanId")&&i.uint32(18).bytes(e.spanId),e.traceState!=null&&Object.hasOwnProperty.call(e,"traceState")&&i.uint32(26).string(e.traceState),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(34).fork()).ldelim();return e.droppedAttributesCount!=null&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&i.uint32(40).uint32(e.droppedAttributesCount),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.trace.v1.Span.Link;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.traceId=e.bytes();break}case 2:{u.spanId=e.bytes();break}case 3:{u.traceState=e.string();break}case 4:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 5:{u.droppedAttributesCount=e.uint32();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.traceId!=null&&e.hasOwnProperty("traceId")&&!(e.traceId&&typeof e.traceId.length=="number"||m.isString(e.traceId)))return"traceId: buffer expected";if(e.spanId!=null&&e.hasOwnProperty("spanId")&&!(e.spanId&&typeof e.spanId.length=="number"||m.isString(e.spanId)))return"spanId: buffer expected";if(e.traceState!=null&&e.hasOwnProperty("traceState")&&!m.isString(e.traceState))return"traceState: string expected";if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var i=0;i<e.attributes.length;++i){var c=d.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[i]);if(c)return"attributes."+c}}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.trace.v1.Span.Link)return e;var i=new d.opentelemetry.proto.trace.v1.Span.Link;if(e.traceId!=null&&(typeof e.traceId=="string"?m.base64.decode(e.traceId,i.traceId=m.newBuffer(m.base64.length(e.traceId)),0):e.traceId.length>=0&&(i.traceId=e.traceId)),e.spanId!=null&&(typeof e.spanId=="string"?m.base64.decode(e.spanId,i.spanId=m.newBuffer(m.base64.length(e.spanId)),0):e.spanId.length>=0&&(i.spanId=e.spanId)),e.traceState!=null&&(i.traceState=String(e.traceState)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");i.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}return e.droppedAttributesCount!=null&&(i.droppedAttributesCount=e.droppedAttributesCount>>>0),i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.attributes=[]),i.defaults&&(i.bytes===String?c.traceId="":(c.traceId=[],i.bytes!==Array&&(c.traceId=m.newBuffer(c.traceId))),i.bytes===String?c.spanId="":(c.spanId=[],i.bytes!==Array&&(c.spanId=m.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),e.traceId!=null&&e.hasOwnProperty("traceId")&&(c.traceId=i.bytes===String?m.base64.encode(e.traceId,0,e.traceId.length):i.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),e.spanId!=null&&e.hasOwnProperty("spanId")&&(c.spanId=i.bytes===String?m.base64.encode(e.spanId,0,e.spanId.length):i.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),e.traceState!=null&&e.hasOwnProperty("traceState")&&(c.traceState=e.traceState),e.attributes&&e.attributes.length){c.attributes=[];for(var u=0;u<e.attributes.length;++u)c.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[u],i)}return e.droppedAttributesCount!=null&&e.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=e.droppedAttributesCount),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Link"},l}(),s}(),a.Status=function(){function s(l){if(l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(t){return new s(t)},s.encode=function(t,e){return e||(e=ae.create()),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&e.uint32(18).string(t.message),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&e.uint32(24).int32(t.code),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.trace.v1.Status;t.pos<i;){var u=t.uint32();switch(u>>>3){case 2:{c.message=t.string();break}case 3:{c.code=t.int32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.message!=null&&t.hasOwnProperty("message")&&!m.isString(t.message))return"message: string expected";if(t.code!=null&&t.hasOwnProperty("code"))switch(t.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.trace.v1.Status)return t;var e=new d.opentelemetry.proto.trace.v1.Status;switch(t.message!=null&&(e.message=String(t.message)),t.code){default:if(typeof t.code=="number"){e.code=t.code;break}break;case"STATUS_CODE_UNSET":case 0:e.code=0;break;case"STATUS_CODE_OK":case 1:e.code=1;break;case"STATUS_CODE_ERROR":case 2:e.code=2;break}return e},s.toObject=function(t,e){e||(e={});var i={};return e.defaults&&(i.message="",i.code=e.enums===String?"STATUS_CODE_UNSET":0),t.message!=null&&t.hasOwnProperty("message")&&(i.message=t.message),t.code!=null&&t.hasOwnProperty("code")&&(i.code=e.enums===String?d.opentelemetry.proto.trace.v1.Status.StatusCode[t.code]===void 0?t.code:d.opentelemetry.proto.trace.v1.Status.StatusCode[t.code]:t.code),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=function(){var l={},t=Object.create(l);return t[l[0]="STATUS_CODE_UNSET"]=0,t[l[1]="STATUS_CODE_OK"]=1,t[l[2]="STATUS_CODE_ERROR"]=2,t}(),s}(),a}(),n}(),r.collector=function(){var n={};return n.trace=function(){var a={};return a.v1=function(){var s={};return s.TraceService=function(){function l(t,e,i){J.rpc.Service.call(this,t,e,i)}return(l.prototype=Object.create(J.rpc.Service.prototype)).constructor=l,l.create=function(e,i,c){return new this(e,i,c)},Object.defineProperty(l.prototype.export=function t(e,i){return this.rpcCall(t,d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,e,i)},"name",{value:"Export"}),l}(),s.ExportTraceServiceRequest=function(){function l(t){if(this.resourceSpans=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.resourceSpans=m.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=ae.create()),e.resourceSpans!=null&&e.resourceSpans.length)for(var c=0;c<e.resourceSpans.length;++c)d.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[c],i.uint32(10).fork()).ldelim();return i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.resourceSpans&&u.resourceSpans.length||(u.resourceSpans=[]),u.resourceSpans.push(d.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.resourceSpans!=null&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var i=0;i<e.resourceSpans.length;++i){var c=d.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[i]);if(c)return"resourceSpans."+c}}return null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return e;var i=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");i.resourceSpans=[];for(var c=0;c<e.resourceSpans.length;++c){if(typeof e.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");i.resourceSpans[c]=d.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[c])}}return i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){c.resourceSpans=[];for(var u=0;u<e.resourceSpans.length;++u)c.resourceSpans[u]=d.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[u],i)}return c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},l}(),s.ExportTraceServiceResponse=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.partialSuccess=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=ae.create()),e.partialSuccess!=null&&Object.hasOwnProperty.call(e,"partialSuccess")&&d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(e.partialSuccess,i.uint32(10).fork()).ldelim(),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")){var i=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(e.partialSuccess);if(i)return"partialSuccess."+i}return null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return e;var i=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(e.partialSuccess!=null){if(typeof e.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");i.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(e.partialSuccess)}return i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.partialSuccess=null),e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(e.partialSuccess,i)),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},l}(),s.ExportTracePartialSuccess=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.rejectedSpans=null,l.prototype.errorMessage=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=ae.create()),e.rejectedSpans!=null&&Object.hasOwnProperty.call(e,"rejectedSpans")&&i.uint32(8).int64(e.rejectedSpans),e.errorMessage!=null&&Object.hasOwnProperty.call(e,"errorMessage")&&i.uint32(18).string(e.errorMessage),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.rejectedSpans=e.int64();break}case 2:{u.errorMessage=e.string();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.rejectedSpans!=null&&e.hasOwnProperty("rejectedSpans")&&!m.isInteger(e.rejectedSpans)&&!(e.rejectedSpans&&m.isInteger(e.rejectedSpans.low)&&m.isInteger(e.rejectedSpans.high))?"rejectedSpans: integer|Long expected":e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&!m.isString(e.errorMessage)?"errorMessage: string expected":null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return e;var i=new d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return e.rejectedSpans!=null&&(m.Long?(i.rejectedSpans=m.Long.fromValue(e.rejectedSpans)).unsigned=!1:typeof e.rejectedSpans=="string"?i.rejectedSpans=parseInt(e.rejectedSpans,10):typeof e.rejectedSpans=="number"?i.rejectedSpans=e.rejectedSpans:typeof e.rejectedSpans=="object"&&(i.rejectedSpans=new m.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber())),e.errorMessage!=null&&(i.errorMessage=String(e.errorMessage)),i},l.toObject=function(e,i){i||(i={});var c={};if(i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.rejectedSpans=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.rejectedSpans=i.longs===String?"0":0;c.errorMessage=""}return e.rejectedSpans!=null&&e.hasOwnProperty("rejectedSpans")&&(typeof e.rejectedSpans=="number"?c.rejectedSpans=i.longs===String?String(e.rejectedSpans):e.rejectedSpans:c.rejectedSpans=i.longs===String?m.Long.prototype.toString.call(e.rejectedSpans):i.longs===Number?new m.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber():e.rejectedSpans),e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&(c.errorMessage=e.errorMessage),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},l}(),s}(),a}(),n.metrics=function(){var a={};return a.v1=function(){var s={};return s.MetricsService=function(){function l(t,e,i){J.rpc.Service.call(this,t,e,i)}return(l.prototype=Object.create(J.rpc.Service.prototype)).constructor=l,l.create=function(e,i,c){return new this(e,i,c)},Object.defineProperty(l.prototype.export=function t(e,i){return this.rpcCall(t,d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,e,i)},"name",{value:"Export"}),l}(),s.ExportMetricsServiceRequest=function(){function l(t){if(this.resourceMetrics=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.resourceMetrics=m.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=ae.create()),e.resourceMetrics!=null&&e.resourceMetrics.length)for(var c=0;c<e.resourceMetrics.length;++c)d.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[c],i.uint32(10).fork()).ldelim();return i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.resourceMetrics&&u.resourceMetrics.length||(u.resourceMetrics=[]),u.resourceMetrics.push(d.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.resourceMetrics!=null&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var i=0;i<e.resourceMetrics.length;++i){var c=d.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[i]);if(c)return"resourceMetrics."+c}}return null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return e;var i=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");i.resourceMetrics=[];for(var c=0;c<e.resourceMetrics.length;++c){if(typeof e.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");i.resourceMetrics[c]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[c])}}return i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){c.resourceMetrics=[];for(var u=0;u<e.resourceMetrics.length;++u)c.resourceMetrics[u]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[u],i)}return c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},l}(),s.ExportMetricsServiceResponse=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.partialSuccess=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=ae.create()),e.partialSuccess!=null&&Object.hasOwnProperty.call(e,"partialSuccess")&&d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(e.partialSuccess,i.uint32(10).fork()).ldelim(),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")){var i=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(e.partialSuccess);if(i)return"partialSuccess."+i}return null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return e;var i=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(e.partialSuccess!=null){if(typeof e.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");i.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(e.partialSuccess)}return i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.partialSuccess=null),e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(e.partialSuccess,i)),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},l}(),s.ExportMetricsPartialSuccess=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.rejectedDataPoints=null,l.prototype.errorMessage=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=ae.create()),e.rejectedDataPoints!=null&&Object.hasOwnProperty.call(e,"rejectedDataPoints")&&i.uint32(8).int64(e.rejectedDataPoints),e.errorMessage!=null&&Object.hasOwnProperty.call(e,"errorMessage")&&i.uint32(18).string(e.errorMessage),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.rejectedDataPoints=e.int64();break}case 2:{u.errorMessage=e.string();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.rejectedDataPoints!=null&&e.hasOwnProperty("rejectedDataPoints")&&!m.isInteger(e.rejectedDataPoints)&&!(e.rejectedDataPoints&&m.isInteger(e.rejectedDataPoints.low)&&m.isInteger(e.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&!m.isString(e.errorMessage)?"errorMessage: string expected":null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return e;var i=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return e.rejectedDataPoints!=null&&(m.Long?(i.rejectedDataPoints=m.Long.fromValue(e.rejectedDataPoints)).unsigned=!1:typeof e.rejectedDataPoints=="string"?i.rejectedDataPoints=parseInt(e.rejectedDataPoints,10):typeof e.rejectedDataPoints=="number"?i.rejectedDataPoints=e.rejectedDataPoints:typeof e.rejectedDataPoints=="object"&&(i.rejectedDataPoints=new m.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber())),e.errorMessage!=null&&(i.errorMessage=String(e.errorMessage)),i},l.toObject=function(e,i){i||(i={});var c={};if(i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.rejectedDataPoints=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.rejectedDataPoints=i.longs===String?"0":0;c.errorMessage=""}return e.rejectedDataPoints!=null&&e.hasOwnProperty("rejectedDataPoints")&&(typeof e.rejectedDataPoints=="number"?c.rejectedDataPoints=i.longs===String?String(e.rejectedDataPoints):e.rejectedDataPoints:c.rejectedDataPoints=i.longs===String?m.Long.prototype.toString.call(e.rejectedDataPoints):i.longs===Number?new m.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber():e.rejectedDataPoints),e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&(c.errorMessage=e.errorMessage),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},l}(),s}(),a}(),n.logs=function(){var a={};return a.v1=function(){var s={};return s.LogsService=function(){function l(t,e,i){J.rpc.Service.call(this,t,e,i)}return(l.prototype=Object.create(J.rpc.Service.prototype)).constructor=l,l.create=function(e,i,c){return new this(e,i,c)},Object.defineProperty(l.prototype.export=function t(e,i){return this.rpcCall(t,d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,e,i)},"name",{value:"Export"}),l}(),s.ExportLogsServiceRequest=function(){function l(t){if(this.resourceLogs=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.resourceLogs=m.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,i){if(i||(i=ae.create()),e.resourceLogs!=null&&e.resourceLogs.length)for(var c=0;c<e.resourceLogs.length;++c)d.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[c],i.uint32(10).fork()).ldelim();return i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.resourceLogs&&u.resourceLogs.length||(u.resourceLogs=[]),u.resourceLogs.push(d.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()));break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.resourceLogs!=null&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var i=0;i<e.resourceLogs.length;++i){var c=d.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[i]);if(c)return"resourceLogs."+c}}return null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return e;var i=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");i.resourceLogs=[];for(var c=0;c<e.resourceLogs.length;++c){if(typeof e.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");i.resourceLogs[c]=d.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[c])}}return i},l.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){c.resourceLogs=[];for(var u=0;u<e.resourceLogs.length;++u)c.resourceLogs[u]=d.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[u],i)}return c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},l}(),s.ExportLogsServiceResponse=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.partialSuccess=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=ae.create()),e.partialSuccess!=null&&Object.hasOwnProperty.call(e,"partialSuccess")&&d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(e.partialSuccess,i.uint32(10).fork()).ldelim(),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")){var i=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(e.partialSuccess);if(i)return"partialSuccess."+i}return null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return e;var i=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(e.partialSuccess!=null){if(typeof e.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");i.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(e.partialSuccess)}return i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.partialSuccess=null),e.partialSuccess!=null&&e.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(e.partialSuccess,i)),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},l}(),s.ExportLogsPartialSuccess=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.rejectedLogRecords=null,l.prototype.errorMessage=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=ae.create()),e.rejectedLogRecords!=null&&Object.hasOwnProperty.call(e,"rejectedLogRecords")&&i.uint32(8).int64(e.rejectedLogRecords),e.errorMessage!=null&&Object.hasOwnProperty.call(e,"errorMessage")&&i.uint32(18).string(e.errorMessage),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.rejectedLogRecords=e.int64();break}case 2:{u.errorMessage=e.string();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.rejectedLogRecords!=null&&e.hasOwnProperty("rejectedLogRecords")&&!m.isInteger(e.rejectedLogRecords)&&!(e.rejectedLogRecords&&m.isInteger(e.rejectedLogRecords.low)&&m.isInteger(e.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&!m.isString(e.errorMessage)?"errorMessage: string expected":null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return e;var i=new d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return e.rejectedLogRecords!=null&&(m.Long?(i.rejectedLogRecords=m.Long.fromValue(e.rejectedLogRecords)).unsigned=!1:typeof e.rejectedLogRecords=="string"?i.rejectedLogRecords=parseInt(e.rejectedLogRecords,10):typeof e.rejectedLogRecords=="number"?i.rejectedLogRecords=e.rejectedLogRecords:typeof e.rejectedLogRecords=="object"&&(i.rejectedLogRecords=new m.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber())),e.errorMessage!=null&&(i.errorMessage=String(e.errorMessage)),i},l.toObject=function(e,i){i||(i={});var c={};if(i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.rejectedLogRecords=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.rejectedLogRecords=i.longs===String?"0":0;c.errorMessage=""}return e.rejectedLogRecords!=null&&e.hasOwnProperty("rejectedLogRecords")&&(typeof e.rejectedLogRecords=="number"?c.rejectedLogRecords=i.longs===String?String(e.rejectedLogRecords):e.rejectedLogRecords:c.rejectedLogRecords=i.longs===String?m.Long.prototype.toString.call(e.rejectedLogRecords):i.longs===Number?new m.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber():e.rejectedLogRecords),e.errorMessage!=null&&e.hasOwnProperty("errorMessage")&&(c.errorMessage=e.errorMessage),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},l}(),s}(),a}(),n}(),r.metrics=function(){var n={};return n.v1=function(){var a={};return a.MetricsData=function(){function s(l){if(this.resourceMetrics=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resourceMetrics=m.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.resourceMetrics!=null&&t.resourceMetrics.length)for(var i=0;i<t.resourceMetrics.length;++i)d.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(t.resourceMetrics[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.MetricsData;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resourceMetrics&&c.resourceMetrics.length||(c.resourceMetrics=[]),c.resourceMetrics.push(d.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resourceMetrics!=null&&t.hasOwnProperty("resourceMetrics")){if(!Array.isArray(t.resourceMetrics))return"resourceMetrics: array expected";for(var e=0;e<t.resourceMetrics.length;++e){var i=d.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(t.resourceMetrics[e]);if(i)return"resourceMetrics."+i}}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.MetricsData)return t;var e=new d.opentelemetry.proto.metrics.v1.MetricsData;if(t.resourceMetrics){if(!Array.isArray(t.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");e.resourceMetrics=[];for(var i=0;i<t.resourceMetrics.length;++i){if(typeof t.resourceMetrics[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");e.resourceMetrics[i]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(t.resourceMetrics[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.resourceMetrics=[]),t.resourceMetrics&&t.resourceMetrics.length){i.resourceMetrics=[];for(var c=0;c<t.resourceMetrics.length;++c)i.resourceMetrics[c]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(t.resourceMetrics[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.MetricsData"},s}(),a.ResourceMetrics=function(){function s(l){if(this.scopeMetrics=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resource=null,s.prototype.scopeMetrics=m.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.resource!=null&&Object.hasOwnProperty.call(t,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(t.resource,e.uint32(10).fork()).ldelim(),t.scopeMetrics!=null&&t.scopeMetrics.length)for(var i=0;i<t.scopeMetrics.length;++i)d.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(t.scopeMetrics[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.ResourceMetrics;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(t,t.uint32());break}case 2:{c.scopeMetrics&&c.scopeMetrics.length||(c.scopeMetrics=[]),c.scopeMetrics.push(d.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resource!=null&&t.hasOwnProperty("resource")){var e=d.opentelemetry.proto.resource.v1.Resource.verify(t.resource);if(e)return"resource."+e}if(t.scopeMetrics!=null&&t.hasOwnProperty("scopeMetrics")){if(!Array.isArray(t.scopeMetrics))return"scopeMetrics: array expected";for(var i=0;i<t.scopeMetrics.length;++i){var e=d.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(t.scopeMetrics[i]);if(e)return"scopeMetrics."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!m.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.ResourceMetrics)return t;var e=new d.opentelemetry.proto.metrics.v1.ResourceMetrics;if(t.resource!=null){if(typeof t.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");e.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(t.resource)}if(t.scopeMetrics){if(!Array.isArray(t.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");e.scopeMetrics=[];for(var i=0;i<t.scopeMetrics.length;++i){if(typeof t.scopeMetrics[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");e.scopeMetrics[i]=d.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(t.scopeMetrics[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.scopeMetrics=[]),e.defaults&&(i.resource=null,i.schemaUrl=""),t.resource!=null&&t.hasOwnProperty("resource")&&(i.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(t.resource,e)),t.scopeMetrics&&t.scopeMetrics.length){i.scopeMetrics=[];for(var c=0;c<t.scopeMetrics.length;++c)i.scopeMetrics[c]=d.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(t.scopeMetrics[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s}(),a.ScopeMetrics=function(){function s(l){if(this.metrics=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.scope=null,s.prototype.metrics=m.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.scope!=null&&Object.hasOwnProperty.call(t,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(t.scope,e.uint32(10).fork()).ldelim(),t.metrics!=null&&t.metrics.length)for(var i=0;i<t.metrics.length;++i)d.opentelemetry.proto.metrics.v1.Metric.encode(t.metrics[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.ScopeMetrics;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(t,t.uint32());break}case 2:{c.metrics&&c.metrics.length||(c.metrics=[]),c.metrics.push(d.opentelemetry.proto.metrics.v1.Metric.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.scope!=null&&t.hasOwnProperty("scope")){var e=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(t.scope);if(e)return"scope."+e}if(t.metrics!=null&&t.hasOwnProperty("metrics")){if(!Array.isArray(t.metrics))return"metrics: array expected";for(var i=0;i<t.metrics.length;++i){var e=d.opentelemetry.proto.metrics.v1.Metric.verify(t.metrics[i]);if(e)return"metrics."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!m.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.ScopeMetrics)return t;var e=new d.opentelemetry.proto.metrics.v1.ScopeMetrics;if(t.scope!=null){if(typeof t.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");e.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(t.scope)}if(t.metrics){if(!Array.isArray(t.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");e.metrics=[];for(var i=0;i<t.metrics.length;++i){if(typeof t.metrics[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");e.metrics[i]=d.opentelemetry.proto.metrics.v1.Metric.fromObject(t.metrics[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.metrics=[]),e.defaults&&(i.scope=null,i.schemaUrl=""),t.scope!=null&&t.hasOwnProperty("scope")&&(i.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(t.scope,e)),t.metrics&&t.metrics.length){i.metrics=[];for(var c=0;c<t.metrics.length;++c)i.metrics[c]=d.opentelemetry.proto.metrics.v1.Metric.toObject(t.metrics[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s}(),a.Metric=function(){function s(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var l;return Object.defineProperty(s.prototype,"data",{get:m.oneOfGetter(l=["gauge","sum","histogram","exponentialHistogram","summary"]),set:m.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){return i||(i=ae.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&i.uint32(10).string(e.name),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&i.uint32(18).string(e.description),e.unit!=null&&Object.hasOwnProperty.call(e,"unit")&&i.uint32(26).string(e.unit),e.gauge!=null&&Object.hasOwnProperty.call(e,"gauge")&&d.opentelemetry.proto.metrics.v1.Gauge.encode(e.gauge,i.uint32(42).fork()).ldelim(),e.sum!=null&&Object.hasOwnProperty.call(e,"sum")&&d.opentelemetry.proto.metrics.v1.Sum.encode(e.sum,i.uint32(58).fork()).ldelim(),e.histogram!=null&&Object.hasOwnProperty.call(e,"histogram")&&d.opentelemetry.proto.metrics.v1.Histogram.encode(e.histogram,i.uint32(74).fork()).ldelim(),e.exponentialHistogram!=null&&Object.hasOwnProperty.call(e,"exponentialHistogram")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(e.exponentialHistogram,i.uint32(82).fork()).ldelim(),e.summary!=null&&Object.hasOwnProperty.call(e,"summary")&&d.opentelemetry.proto.metrics.v1.Summary.encode(e.summary,i.uint32(90).fork()).ldelim(),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.metrics.v1.Metric;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.name=e.string();break}case 2:{u.description=e.string();break}case 3:{u.unit=e.string();break}case 5:{u.gauge=d.opentelemetry.proto.metrics.v1.Gauge.decode(e,e.uint32());break}case 7:{u.sum=d.opentelemetry.proto.metrics.v1.Sum.decode(e,e.uint32());break}case 9:{u.histogram=d.opentelemetry.proto.metrics.v1.Histogram.decode(e,e.uint32());break}case 10:{u.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(e,e.uint32());break}case 11:{u.summary=d.opentelemetry.proto.metrics.v1.Summary.decode(e,e.uint32());break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.name!=null&&e.hasOwnProperty("name")&&!m.isString(e.name))return"name: string expected";if(e.description!=null&&e.hasOwnProperty("description")&&!m.isString(e.description))return"description: string expected";if(e.unit!=null&&e.hasOwnProperty("unit")&&!m.isString(e.unit))return"unit: string expected";if(e.gauge!=null&&e.hasOwnProperty("gauge")){i.data=1;{var c=d.opentelemetry.proto.metrics.v1.Gauge.verify(e.gauge);if(c)return"gauge."+c}}if(e.sum!=null&&e.hasOwnProperty("sum")){if(i.data===1)return"data: multiple values";i.data=1;{var c=d.opentelemetry.proto.metrics.v1.Sum.verify(e.sum);if(c)return"sum."+c}}if(e.histogram!=null&&e.hasOwnProperty("histogram")){if(i.data===1)return"data: multiple values";i.data=1;{var c=d.opentelemetry.proto.metrics.v1.Histogram.verify(e.histogram);if(c)return"histogram."+c}}if(e.exponentialHistogram!=null&&e.hasOwnProperty("exponentialHistogram")){if(i.data===1)return"data: multiple values";i.data=1;{var c=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(e.exponentialHistogram);if(c)return"exponentialHistogram."+c}}if(e.summary!=null&&e.hasOwnProperty("summary")){if(i.data===1)return"data: multiple values";i.data=1;{var c=d.opentelemetry.proto.metrics.v1.Summary.verify(e.summary);if(c)return"summary."+c}}return null},s.fromObject=function(e){if(e instanceof d.opentelemetry.proto.metrics.v1.Metric)return e;var i=new d.opentelemetry.proto.metrics.v1.Metric;if(e.name!=null&&(i.name=String(e.name)),e.description!=null&&(i.description=String(e.description)),e.unit!=null&&(i.unit=String(e.unit)),e.gauge!=null){if(typeof e.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");i.gauge=d.opentelemetry.proto.metrics.v1.Gauge.fromObject(e.gauge)}if(e.sum!=null){if(typeof e.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");i.sum=d.opentelemetry.proto.metrics.v1.Sum.fromObject(e.sum)}if(e.histogram!=null){if(typeof e.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");i.histogram=d.opentelemetry.proto.metrics.v1.Histogram.fromObject(e.histogram)}if(e.exponentialHistogram!=null){if(typeof e.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");i.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(e.exponentialHistogram)}if(e.summary!=null){if(typeof e.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");i.summary=d.opentelemetry.proto.metrics.v1.Summary.fromObject(e.summary)}return i},s.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.name="",c.description="",c.unit=""),e.name!=null&&e.hasOwnProperty("name")&&(c.name=e.name),e.description!=null&&e.hasOwnProperty("description")&&(c.description=e.description),e.unit!=null&&e.hasOwnProperty("unit")&&(c.unit=e.unit),e.gauge!=null&&e.hasOwnProperty("gauge")&&(c.gauge=d.opentelemetry.proto.metrics.v1.Gauge.toObject(e.gauge,i),i.oneofs&&(c.data="gauge")),e.sum!=null&&e.hasOwnProperty("sum")&&(c.sum=d.opentelemetry.proto.metrics.v1.Sum.toObject(e.sum,i),i.oneofs&&(c.data="sum")),e.histogram!=null&&e.hasOwnProperty("histogram")&&(c.histogram=d.opentelemetry.proto.metrics.v1.Histogram.toObject(e.histogram,i),i.oneofs&&(c.data="histogram")),e.exponentialHistogram!=null&&e.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(e.exponentialHistogram,i),i.oneofs&&(c.data="exponentialHistogram")),e.summary!=null&&e.hasOwnProperty("summary")&&(c.summary=d.opentelemetry.proto.metrics.v1.Summary.toObject(e.summary,i),i.oneofs&&(c.data="summary")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Metric"},s}(),a.Gauge=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=m.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)d.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.Gauge;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=d.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.Gauge)return t;var e=new d.opentelemetry.proto.metrics.v1.Gauge;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");e.dataPoints[i]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(t.dataPoints[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(t.dataPoints[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Gauge"},s}(),a.Sum=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=m.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)d.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return t.aggregationTemporality!=null&&Object.hasOwnProperty.call(t,"aggregationTemporality")&&e.uint32(16).int32(t.aggregationTemporality),t.isMonotonic!=null&&Object.hasOwnProperty.call(t,"isMonotonic")&&e.uint32(24).bool(t.isMonotonic),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.Sum;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(t,t.uint32()));break}case 2:{c.aggregationTemporality=t.int32();break}case 3:{c.isMonotonic=t.bool();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=d.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}if(t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality"))switch(t.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return t.isMonotonic!=null&&t.hasOwnProperty("isMonotonic")&&typeof t.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.Sum)return t;var e=new d.opentelemetry.proto.metrics.v1.Sum;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");e.dataPoints[i]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(t.dataPoints[i])}}switch(t.aggregationTemporality){default:if(typeof t.aggregationTemporality=="number"){e.aggregationTemporality=t.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:e.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:e.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:e.aggregationTemporality=2;break}return t.isMonotonic!=null&&(e.isMonotonic=!!t.isMonotonic),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),e.defaults&&(i.aggregationTemporality=e.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,i.isMonotonic=!1),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(t.dataPoints[c],e)}return t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality")&&(i.aggregationTemporality=e.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]===void 0?t.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]:t.aggregationTemporality),t.isMonotonic!=null&&t.hasOwnProperty("isMonotonic")&&(i.isMonotonic=t.isMonotonic),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Sum"},s}(),a.Histogram=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=m.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)d.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return t.aggregationTemporality!=null&&Object.hasOwnProperty.call(t,"aggregationTemporality")&&e.uint32(16).int32(t.aggregationTemporality),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.Histogram;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(t,t.uint32()));break}case 2:{c.aggregationTemporality=t.int32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}if(t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality"))switch(t.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.Histogram)return t;var e=new d.opentelemetry.proto.metrics.v1.Histogram;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");e.dataPoints[i]=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(t.dataPoints[i])}}switch(t.aggregationTemporality){default:if(typeof t.aggregationTemporality=="number"){e.aggregationTemporality=t.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:e.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:e.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:e.aggregationTemporality=2;break}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),e.defaults&&(i.aggregationTemporality=e.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(t.dataPoints[c],e)}return t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality")&&(i.aggregationTemporality=e.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]===void 0?t.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]:t.aggregationTemporality),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Histogram"},s}(),a.ExponentialHistogram=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=m.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return t.aggregationTemporality!=null&&Object.hasOwnProperty.call(t,"aggregationTemporality")&&e.uint32(16).int32(t.aggregationTemporality),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.ExponentialHistogram;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(t,t.uint32()));break}case 2:{c.aggregationTemporality=t.int32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}if(t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality"))switch(t.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogram)return t;var e=new d.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");e.dataPoints[i]=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(t.dataPoints[i])}}switch(t.aggregationTemporality){default:if(typeof t.aggregationTemporality=="number"){e.aggregationTemporality=t.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:e.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:e.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:e.aggregationTemporality=2;break}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),e.defaults&&(i.aggregationTemporality=e.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(t.dataPoints[c],e)}return t.aggregationTemporality!=null&&t.hasOwnProperty("aggregationTemporality")&&(i.aggregationTemporality=e.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]===void 0?t.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[t.aggregationTemporality]:t.aggregationTemporality),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s}(),a.Summary=function(){function s(l){if(this.dataPoints=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.dataPoints=m.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.dataPoints!=null&&t.dataPoints.length)for(var i=0;i<t.dataPoints.length;++i)d.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(t.dataPoints[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.Summary;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dataPoints!=null&&t.hasOwnProperty("dataPoints")){if(!Array.isArray(t.dataPoints))return"dataPoints: array expected";for(var e=0;e<t.dataPoints.length;++e){var i=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(t.dataPoints[e]);if(i)return"dataPoints."+i}}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.Summary)return t;var e=new d.opentelemetry.proto.metrics.v1.Summary;if(t.dataPoints){if(!Array.isArray(t.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");e.dataPoints=[];for(var i=0;i<t.dataPoints.length;++i){if(typeof t.dataPoints[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");e.dataPoints[i]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(t.dataPoints[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.dataPoints=[]),t.dataPoints&&t.dataPoints.length){i.dataPoints=[];for(var c=0;c<t.dataPoints.length;++c)i.dataPoints[c]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(t.dataPoints[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.Summary"},s}(),a.AggregationTemporality=function(){var s={},l=Object.create(s);return l[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,l[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,l[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,l}(),a.DataPointFlags=function(){var s={},l=Object.create(s);return l[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,l[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,l}(),a.NumberDataPoint=function(){function s(t){if(this.attributes=[],this.exemplars=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.attributes=m.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=m.emptyArray,s.prototype.flags=null;var l;return Object.defineProperty(s.prototype,"value",{get:m.oneOfGetter(l=["asDouble","asInt"]),set:m.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=ae.create()),e.startTimeUnixNano!=null&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&i.uint32(17).fixed64(e.startTimeUnixNano),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(25).fixed64(e.timeUnixNano),e.asDouble!=null&&Object.hasOwnProperty.call(e,"asDouble")&&i.uint32(33).double(e.asDouble),e.exemplars!=null&&e.exemplars.length)for(var c=0;c<e.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[c],i.uint32(42).fork()).ldelim();if(e.asInt!=null&&Object.hasOwnProperty.call(e,"asInt")&&i.uint32(49).sfixed64(e.asInt),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(58).fork()).ldelim();return e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&i.uint32(64).uint32(e.flags),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.metrics.v1.NumberDataPoint;e.pos<c;){var f=e.uint32();switch(f>>>3){case 7:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.startTimeUnixNano=e.fixed64();break}case 3:{u.timeUnixNano=e.fixed64();break}case 4:{u.asDouble=e.double();break}case 6:{u.asInt=e.sfixed64();break}case 5:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break}case 8:{u.flags=e.uint32();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var c=0;c<e.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[c]);if(u)return"attributes."+u}}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!m.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(i.value=1,typeof e.asDouble!="number"))return"asDouble: number expected";if(e.asInt!=null&&e.hasOwnProperty("asInt")){if(i.value===1)return"value: multiple values";if(i.value=1,!m.isInteger(e.asInt)&&!(e.asInt&&m.isInteger(e.asInt.low)&&m.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}if(e.exemplars!=null&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var c=0;c<e.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[c]);if(u)return"exemplars."+u}}return e.flags!=null&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags)?"flags: integer expected":null},s.fromObject=function(e){if(e instanceof d.opentelemetry.proto.metrics.v1.NumberDataPoint)return e;var i=new d.opentelemetry.proto.metrics.v1.NumberDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");i.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}if(e.startTimeUnixNano!=null&&(m.Long?(i.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:typeof e.startTimeUnixNano=="string"?i.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):typeof e.startTimeUnixNano=="number"?i.startTimeUnixNano=e.startTimeUnixNano:typeof e.startTimeUnixNano=="object"&&(i.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),e.timeUnixNano!=null&&(m.Long?(i.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.asDouble!=null&&(i.asDouble=Number(e.asDouble)),e.asInt!=null&&(m.Long?(i.asInt=m.Long.fromValue(e.asInt)).unsigned=!1:typeof e.asInt=="string"?i.asInt=parseInt(e.asInt,10):typeof e.asInt=="number"?i.asInt=e.asInt:typeof e.asInt=="object"&&(i.asInt=new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");i.exemplars=[];for(var c=0;c<e.exemplars.length;++c){if(typeof e.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");i.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[c])}}return e.flags!=null&&(i.flags=e.flags>>>0),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.exemplars=[],c.attributes=[]),i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.startTimeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.startTimeUnixNano=i.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;c.flags=0}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&(typeof e.startTimeUnixNano=="number"?c.startTimeUnixNano=i.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:c.startTimeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):i.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(c.asDouble=i.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,i.oneofs&&(c.value="asDouble")),e.exemplars&&e.exemplars.length){c.exemplars=[];for(var f=0;f<e.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[f],i)}if(e.asInt!=null&&e.hasOwnProperty("asInt")&&(typeof e.asInt=="number"?c.asInt=i.longs===String?String(e.asInt):e.asInt:c.asInt=i.longs===String?m.Long.prototype.toString.call(e.asInt):i.longs===Number?new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,i.oneofs&&(c.value="asInt")),e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}return e.flags!=null&&e.hasOwnProperty("flags")&&(c.flags=e.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s}(),a.HistogramDataPoint=function(){function s(t){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.attributes=m.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=m.emptyArray,s.prototype.explicitBounds=m.emptyArray,s.prototype.exemplars=m.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var l;return Object.defineProperty(s.prototype,"_sum",{get:m.oneOfGetter(l=["sum"]),set:m.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_min",{get:m.oneOfGetter(l=["min"]),set:m.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_max",{get:m.oneOfGetter(l=["max"]),set:m.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=ae.create()),e.startTimeUnixNano!=null&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&i.uint32(17).fixed64(e.startTimeUnixNano),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(25).fixed64(e.timeUnixNano),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&i.uint32(33).fixed64(e.count),e.sum!=null&&Object.hasOwnProperty.call(e,"sum")&&i.uint32(41).double(e.sum),e.bucketCounts!=null&&e.bucketCounts.length){i.uint32(50).fork();for(var c=0;c<e.bucketCounts.length;++c)i.fixed64(e.bucketCounts[c]);i.ldelim()}if(e.explicitBounds!=null&&e.explicitBounds.length){i.uint32(58).fork();for(var c=0;c<e.explicitBounds.length;++c)i.double(e.explicitBounds[c]);i.ldelim()}if(e.exemplars!=null&&e.exemplars.length)for(var c=0;c<e.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[c],i.uint32(66).fork()).ldelim();if(e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(74).fork()).ldelim();return e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&i.uint32(80).uint32(e.flags),e.min!=null&&Object.hasOwnProperty.call(e,"min")&&i.uint32(89).double(e.min),e.max!=null&&Object.hasOwnProperty.call(e,"max")&&i.uint32(97).double(e.max),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.metrics.v1.HistogramDataPoint;e.pos<c;){var f=e.uint32();switch(f>>>3){case 9:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.startTimeUnixNano=e.fixed64();break}case 3:{u.timeUnixNano=e.fixed64();break}case 4:{u.count=e.fixed64();break}case 5:{u.sum=e.double();break}case 6:{if(u.bucketCounts&&u.bucketCounts.length||(u.bucketCounts=[]),(f&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)u.bucketCounts.push(e.fixed64());else u.bucketCounts.push(e.fixed64());break}case 7:{if(u.explicitBounds&&u.explicitBounds.length||(u.explicitBounds=[]),(f&7)===2)for(var v=e.uint32()+e.pos;e.pos<v;)u.explicitBounds.push(e.double());else u.explicitBounds.push(e.double());break}case 8:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break}case 10:{u.flags=e.uint32();break}case 11:{u.min=e.double();break}case 12:{u.max=e.double();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var c=0;c<e.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[c]);if(u)return"attributes."+u}}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!m.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.count!=null&&e.hasOwnProperty("count")&&!m.isInteger(e.count)&&!(e.count&&m.isInteger(e.count.low)&&m.isInteger(e.count.high)))return"count: integer|Long expected";if(e.sum!=null&&e.hasOwnProperty("sum")&&(i._sum=1,typeof e.sum!="number"))return"sum: number expected";if(e.bucketCounts!=null&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<e.bucketCounts.length;++c)if(!m.isInteger(e.bucketCounts[c])&&!(e.bucketCounts[c]&&m.isInteger(e.bucketCounts[c].low)&&m.isInteger(e.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(e.explicitBounds!=null&&e.hasOwnProperty("explicitBounds")){if(!Array.isArray(e.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<e.explicitBounds.length;++c)if(typeof e.explicitBounds[c]!="number")return"explicitBounds: number[] expected"}if(e.exemplars!=null&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var c=0;c<e.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[c]);if(u)return"exemplars."+u}}return e.flags!=null&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags)?"flags: integer expected":e.min!=null&&e.hasOwnProperty("min")&&(i._min=1,typeof e.min!="number")?"min: number expected":e.max!=null&&e.hasOwnProperty("max")&&(i._max=1,typeof e.max!="number")?"max: number expected":null},s.fromObject=function(e){if(e instanceof d.opentelemetry.proto.metrics.v1.HistogramDataPoint)return e;var i=new d.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");i.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}if(e.startTimeUnixNano!=null&&(m.Long?(i.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:typeof e.startTimeUnixNano=="string"?i.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):typeof e.startTimeUnixNano=="number"?i.startTimeUnixNano=e.startTimeUnixNano:typeof e.startTimeUnixNano=="object"&&(i.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),e.timeUnixNano!=null&&(m.Long?(i.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.count!=null&&(m.Long?(i.count=m.Long.fromValue(e.count)).unsigned=!1:typeof e.count=="string"?i.count=parseInt(e.count,10):typeof e.count=="number"?i.count=e.count:typeof e.count=="object"&&(i.count=new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),e.sum!=null&&(i.sum=Number(e.sum)),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");i.bucketCounts=[];for(var c=0;c<e.bucketCounts.length;++c)m.Long?(i.bucketCounts[c]=m.Long.fromValue(e.bucketCounts[c])).unsigned=!1:typeof e.bucketCounts[c]=="string"?i.bucketCounts[c]=parseInt(e.bucketCounts[c],10):typeof e.bucketCounts[c]=="number"?i.bucketCounts[c]=e.bucketCounts[c]:typeof e.bucketCounts[c]=="object"&&(i.bucketCounts[c]=new m.LongBits(e.bucketCounts[c].low>>>0,e.bucketCounts[c].high>>>0).toNumber())}if(e.explicitBounds){if(!Array.isArray(e.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");i.explicitBounds=[];for(var c=0;c<e.explicitBounds.length;++c)i.explicitBounds[c]=Number(e.explicitBounds[c])}if(e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");i.exemplars=[];for(var c=0;c<e.exemplars.length;++c){if(typeof e.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");i.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[c])}}return e.flags!=null&&(i.flags=e.flags>>>0),e.min!=null&&(i.min=Number(e.min)),e.max!=null&&(i.max=Number(e.max)),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.startTimeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.startTimeUnixNano=i.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,!1);c.count=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.count=i.longs===String?"0":0;c.flags=0}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&(typeof e.startTimeUnixNano=="number"?c.startTimeUnixNano=i.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:c.startTimeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):i.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.count!=null&&e.hasOwnProperty("count")&&(typeof e.count=="number"?c.count=i.longs===String?String(e.count):e.count:c.count=i.longs===String?m.Long.prototype.toString.call(e.count):i.longs===Number?new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),e.sum!=null&&e.hasOwnProperty("sum")&&(c.sum=i.json&&!isFinite(e.sum)?String(e.sum):e.sum,i.oneofs&&(c._sum="sum")),e.bucketCounts&&e.bucketCounts.length){c.bucketCounts=[];for(var f=0;f<e.bucketCounts.length;++f)typeof e.bucketCounts[f]=="number"?c.bucketCounts[f]=i.longs===String?String(e.bucketCounts[f]):e.bucketCounts[f]:c.bucketCounts[f]=i.longs===String?m.Long.prototype.toString.call(e.bucketCounts[f]):i.longs===Number?new m.LongBits(e.bucketCounts[f].low>>>0,e.bucketCounts[f].high>>>0).toNumber():e.bucketCounts[f]}if(e.explicitBounds&&e.explicitBounds.length){c.explicitBounds=[];for(var f=0;f<e.explicitBounds.length;++f)c.explicitBounds[f]=i.json&&!isFinite(e.explicitBounds[f])?String(e.explicitBounds[f]):e.explicitBounds[f]}if(e.exemplars&&e.exemplars.length){c.exemplars=[];for(var f=0;f<e.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[f],i)}if(e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}return e.flags!=null&&e.hasOwnProperty("flags")&&(c.flags=e.flags),e.min!=null&&e.hasOwnProperty("min")&&(c.min=i.json&&!isFinite(e.min)?String(e.min):e.min,i.oneofs&&(c._min="min")),e.max!=null&&e.hasOwnProperty("max")&&(c.max=i.json&&!isFinite(e.max)?String(e.max):e.max,i.oneofs&&(c._max="max")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s}(),a.ExponentialHistogramDataPoint=function(){function s(t){if(this.attributes=[],this.exemplars=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.attributes=m.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=m.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var l;return Object.defineProperty(s.prototype,"_sum",{get:m.oneOfGetter(l=["sum"]),set:m.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_min",{get:m.oneOfGetter(l=["min"]),set:m.oneOfSetter(l)}),Object.defineProperty(s.prototype,"_max",{get:m.oneOfGetter(l=["max"]),set:m.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=ae.create()),e.attributes!=null&&e.attributes.length)for(var c=0;c<e.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[c],i.uint32(10).fork()).ldelim();if(e.startTimeUnixNano!=null&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&i.uint32(17).fixed64(e.startTimeUnixNano),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(25).fixed64(e.timeUnixNano),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&i.uint32(33).fixed64(e.count),e.sum!=null&&Object.hasOwnProperty.call(e,"sum")&&i.uint32(41).double(e.sum),e.scale!=null&&Object.hasOwnProperty.call(e,"scale")&&i.uint32(48).sint32(e.scale),e.zeroCount!=null&&Object.hasOwnProperty.call(e,"zeroCount")&&i.uint32(57).fixed64(e.zeroCount),e.positive!=null&&Object.hasOwnProperty.call(e,"positive")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.positive,i.uint32(66).fork()).ldelim(),e.negative!=null&&Object.hasOwnProperty.call(e,"negative")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.negative,i.uint32(74).fork()).ldelim(),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&i.uint32(80).uint32(e.flags),e.exemplars!=null&&e.exemplars.length)for(var c=0;c<e.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[c],i.uint32(90).fork()).ldelim();return e.min!=null&&Object.hasOwnProperty.call(e,"min")&&i.uint32(97).double(e.min),e.max!=null&&Object.hasOwnProperty.call(e,"max")&&i.uint32(105).double(e.max),e.zeroThreshold!=null&&Object.hasOwnProperty.call(e,"zeroThreshold")&&i.uint32(113).double(e.zeroThreshold),i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.startTimeUnixNano=e.fixed64();break}case 3:{u.timeUnixNano=e.fixed64();break}case 4:{u.count=e.fixed64();break}case 5:{u.sum=e.double();break}case 6:{u.scale=e.sint32();break}case 7:{u.zeroCount=e.fixed64();break}case 8:{u.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break}case 9:{u.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break}case 10:{u.flags=e.uint32();break}case 11:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break}case 12:{u.min=e.double();break}case 13:{u.max=e.double();break}case 14:{u.zeroThreshold=e.double();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.attributes!=null&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var c=0;c<e.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[c]);if(u)return"attributes."+u}}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!m.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.count!=null&&e.hasOwnProperty("count")&&!m.isInteger(e.count)&&!(e.count&&m.isInteger(e.count.low)&&m.isInteger(e.count.high)))return"count: integer|Long expected";if(e.sum!=null&&e.hasOwnProperty("sum")&&(i._sum=1,typeof e.sum!="number"))return"sum: number expected";if(e.scale!=null&&e.hasOwnProperty("scale")&&!m.isInteger(e.scale))return"scale: integer expected";if(e.zeroCount!=null&&e.hasOwnProperty("zeroCount")&&!m.isInteger(e.zeroCount)&&!(e.zeroCount&&m.isInteger(e.zeroCount.low)&&m.isInteger(e.zeroCount.high)))return"zeroCount: integer|Long expected";if(e.positive!=null&&e.hasOwnProperty("positive")){var u=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.positive);if(u)return"positive."+u}if(e.negative!=null&&e.hasOwnProperty("negative")){var u=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.negative);if(u)return"negative."+u}if(e.flags!=null&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags))return"flags: integer expected";if(e.exemplars!=null&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var c=0;c<e.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[c]);if(u)return"exemplars."+u}}return e.min!=null&&e.hasOwnProperty("min")&&(i._min=1,typeof e.min!="number")?"min: number expected":e.max!=null&&e.hasOwnProperty("max")&&(i._max=1,typeof e.max!="number")?"max: number expected":e.zeroThreshold!=null&&e.hasOwnProperty("zeroThreshold")&&typeof e.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(e){if(e instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return e;var i=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");i.attributes=[];for(var c=0;c<e.attributes.length;++c){if(typeof e.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");i.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[c])}}if(e.startTimeUnixNano!=null&&(m.Long?(i.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:typeof e.startTimeUnixNano=="string"?i.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):typeof e.startTimeUnixNano=="number"?i.startTimeUnixNano=e.startTimeUnixNano:typeof e.startTimeUnixNano=="object"&&(i.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),e.timeUnixNano!=null&&(m.Long?(i.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.count!=null&&(m.Long?(i.count=m.Long.fromValue(e.count)).unsigned=!1:typeof e.count=="string"?i.count=parseInt(e.count,10):typeof e.count=="number"?i.count=e.count:typeof e.count=="object"&&(i.count=new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),e.sum!=null&&(i.sum=Number(e.sum)),e.scale!=null&&(i.scale=e.scale|0),e.zeroCount!=null&&(m.Long?(i.zeroCount=m.Long.fromValue(e.zeroCount)).unsigned=!1:typeof e.zeroCount=="string"?i.zeroCount=parseInt(e.zeroCount,10):typeof e.zeroCount=="number"?i.zeroCount=e.zeroCount:typeof e.zeroCount=="object"&&(i.zeroCount=new m.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber())),e.positive!=null){if(typeof e.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");i.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.positive)}if(e.negative!=null){if(typeof e.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");i.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.negative)}if(e.flags!=null&&(i.flags=e.flags>>>0),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");i.exemplars=[];for(var c=0;c<e.exemplars.length;++c){if(typeof e.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");i.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[c])}}return e.min!=null&&(i.min=Number(e.min)),e.max!=null&&(i.max=Number(e.max)),e.zeroThreshold!=null&&(i.zeroThreshold=Number(e.zeroThreshold)),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.attributes=[],c.exemplars=[]),i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.startTimeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.startTimeUnixNano=i.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,!1);c.count=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.count=i.longs===String?"0":0;if(c.scale=0,m.Long){var u=new m.Long(0,0,!1);c.zeroCount=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.zeroCount=i.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(e.attributes&&e.attributes.length){c.attributes=[];for(var f=0;f<e.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[f],i)}if(e.startTimeUnixNano!=null&&e.hasOwnProperty("startTimeUnixNano")&&(typeof e.startTimeUnixNano=="number"?c.startTimeUnixNano=i.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:c.startTimeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):i.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.count!=null&&e.hasOwnProperty("count")&&(typeof e.count=="number"?c.count=i.longs===String?String(e.count):e.count:c.count=i.longs===String?m.Long.prototype.toString.call(e.count):i.longs===Number?new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),e.sum!=null&&e.hasOwnProperty("sum")&&(c.sum=i.json&&!isFinite(e.sum)?String(e.sum):e.sum,i.oneofs&&(c._sum="sum")),e.scale!=null&&e.hasOwnProperty("scale")&&(c.scale=e.scale),e.zeroCount!=null&&e.hasOwnProperty("zeroCount")&&(typeof e.zeroCount=="number"?c.zeroCount=i.longs===String?String(e.zeroCount):e.zeroCount:c.zeroCount=i.longs===String?m.Long.prototype.toString.call(e.zeroCount):i.longs===Number?new m.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber():e.zeroCount),e.positive!=null&&e.hasOwnProperty("positive")&&(c.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.positive,i)),e.negative!=null&&e.hasOwnProperty("negative")&&(c.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.negative,i)),e.flags!=null&&e.hasOwnProperty("flags")&&(c.flags=e.flags),e.exemplars&&e.exemplars.length){c.exemplars=[];for(var f=0;f<e.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[f],i)}return e.min!=null&&e.hasOwnProperty("min")&&(c.min=i.json&&!isFinite(e.min)?String(e.min):e.min,i.oneofs&&(c._min="min")),e.max!=null&&e.hasOwnProperty("max")&&(c.max=i.json&&!isFinite(e.max)?String(e.max):e.max,i.oneofs&&(c._max="max")),e.zeroThreshold!=null&&e.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=i.json&&!isFinite(e.zeroThreshold)?String(e.zeroThreshold):e.zeroThreshold),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=function(){function t(e){if(this.bucketCounts=[],e)for(var i=Object.keys(e),c=0;c<i.length;++c)e[i[c]]!=null&&(this[i[c]]=e[i[c]])}return t.prototype.offset=null,t.prototype.bucketCounts=m.emptyArray,t.create=function(i){return new t(i)},t.encode=function(i,c){if(c||(c=ae.create()),i.offset!=null&&Object.hasOwnProperty.call(i,"offset")&&c.uint32(8).sint32(i.offset),i.bucketCounts!=null&&i.bucketCounts.length){c.uint32(18).fork();for(var u=0;u<i.bucketCounts.length;++u)c.uint64(i.bucketCounts[u]);c.ldelim()}return c},t.encodeDelimited=function(i,c){return this.encode(i,c).ldelim()},t.decode=function(i,c){i instanceof T||(i=T.create(i));for(var u=c===void 0?i.len:i.pos+c,f=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;i.pos<u;){var v=i.uint32();switch(v>>>3){case 1:{f.offset=i.sint32();break}case 2:{if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(v&7)===2)for(var _=i.uint32()+i.pos;i.pos<_;)f.bucketCounts.push(i.uint64());else f.bucketCounts.push(i.uint64());break}default:i.skipType(v&7);break}}return f},t.decodeDelimited=function(i){return i instanceof T||(i=new T(i)),this.decode(i,i.uint32())},t.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.offset!=null&&i.hasOwnProperty("offset")&&!m.isInteger(i.offset))return"offset: integer expected";if(i.bucketCounts!=null&&i.hasOwnProperty("bucketCounts")){if(!Array.isArray(i.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<i.bucketCounts.length;++c)if(!m.isInteger(i.bucketCounts[c])&&!(i.bucketCounts[c]&&m.isInteger(i.bucketCounts[c].low)&&m.isInteger(i.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}return null},t.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return i;var c=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(i.offset!=null&&(c.offset=i.offset|0),i.bucketCounts){if(!Array.isArray(i.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");c.bucketCounts=[];for(var u=0;u<i.bucketCounts.length;++u)m.Long?(c.bucketCounts[u]=m.Long.fromValue(i.bucketCounts[u])).unsigned=!0:typeof i.bucketCounts[u]=="string"?c.bucketCounts[u]=parseInt(i.bucketCounts[u],10):typeof i.bucketCounts[u]=="number"?c.bucketCounts[u]=i.bucketCounts[u]:typeof i.bucketCounts[u]=="object"&&(c.bucketCounts[u]=new m.LongBits(i.bucketCounts[u].low>>>0,i.bucketCounts[u].high>>>0).toNumber(!0))}return c},t.toObject=function(i,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.bucketCounts=[]),c.defaults&&(u.offset=0),i.offset!=null&&i.hasOwnProperty("offset")&&(u.offset=i.offset),i.bucketCounts&&i.bucketCounts.length){u.bucketCounts=[];for(var f=0;f<i.bucketCounts.length;++f)typeof i.bucketCounts[f]=="number"?u.bucketCounts[f]=c.longs===String?String(i.bucketCounts[f]):i.bucketCounts[f]:u.bucketCounts[f]=c.longs===String?m.Long.prototype.toString.call(i.bucketCounts[f]):c.longs===Number?new m.LongBits(i.bucketCounts[f].low>>>0,i.bucketCounts[f].high>>>0).toNumber(!0):i.bucketCounts[f]}return u},t.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},t.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},t}(),s}(),a.SummaryDataPoint=function(){function s(l){if(this.attributes=[],this.quantileValues=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.attributes=m.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=m.emptyArray,s.prototype.flags=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.startTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"startTimeUnixNano")&&e.uint32(17).fixed64(t.startTimeUnixNano),t.timeUnixNano!=null&&Object.hasOwnProperty.call(t,"timeUnixNano")&&e.uint32(25).fixed64(t.timeUnixNano),t.count!=null&&Object.hasOwnProperty.call(t,"count")&&e.uint32(33).fixed64(t.count),t.sum!=null&&Object.hasOwnProperty.call(t,"sum")&&e.uint32(41).double(t.sum),t.quantileValues!=null&&t.quantileValues.length)for(var i=0;i<t.quantileValues.length;++i)d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(t.quantileValues[i],e.uint32(50).fork()).ldelim();if(t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)d.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(58).fork()).ldelim();return t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&e.uint32(64).uint32(t.flags),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint;t.pos<i;){var u=t.uint32();switch(u>>>3){case 7:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 2:{c.startTimeUnixNano=t.fixed64();break}case 3:{c.timeUnixNano=t.fixed64();break}case 4:{c.count=t.fixed64();break}case 5:{c.sum=t.double();break}case 6:{c.quantileValues&&c.quantileValues.length||(c.quantileValues=[]),c.quantileValues.push(d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(t,t.uint32()));break}case 8:{c.flags=t.uint32();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var i=d.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[e]);if(i)return"attributes."+i}}if(t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(t.startTimeUnixNano)&&!(t.startTimeUnixNano&&m.isInteger(t.startTimeUnixNano.low)&&m.isInteger(t.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&!m.isInteger(t.timeUnixNano)&&!(t.timeUnixNano&&m.isInteger(t.timeUnixNano.low)&&m.isInteger(t.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(t.count!=null&&t.hasOwnProperty("count")&&!m.isInteger(t.count)&&!(t.count&&m.isInteger(t.count.low)&&m.isInteger(t.count.high)))return"count: integer|Long expected";if(t.sum!=null&&t.hasOwnProperty("sum")&&typeof t.sum!="number")return"sum: number expected";if(t.quantileValues!=null&&t.hasOwnProperty("quantileValues")){if(!Array.isArray(t.quantileValues))return"quantileValues: array expected";for(var e=0;e<t.quantileValues.length;++e){var i=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(t.quantileValues[e]);if(i)return"quantileValues."+i}}return t.flags!=null&&t.hasOwnProperty("flags")&&!m.isInteger(t.flags)?"flags: integer expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.metrics.v1.SummaryDataPoint)return t;var e=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");e.attributes[i]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}if(t.startTimeUnixNano!=null&&(m.Long?(e.startTimeUnixNano=m.Long.fromValue(t.startTimeUnixNano)).unsigned=!1:typeof t.startTimeUnixNano=="string"?e.startTimeUnixNano=parseInt(t.startTimeUnixNano,10):typeof t.startTimeUnixNano=="number"?e.startTimeUnixNano=t.startTimeUnixNano:typeof t.startTimeUnixNano=="object"&&(e.startTimeUnixNano=new m.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber())),t.timeUnixNano!=null&&(m.Long?(e.timeUnixNano=m.Long.fromValue(t.timeUnixNano)).unsigned=!1:typeof t.timeUnixNano=="string"?e.timeUnixNano=parseInt(t.timeUnixNano,10):typeof t.timeUnixNano=="number"?e.timeUnixNano=t.timeUnixNano:typeof t.timeUnixNano=="object"&&(e.timeUnixNano=new m.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber())),t.count!=null&&(m.Long?(e.count=m.Long.fromValue(t.count)).unsigned=!1:typeof t.count=="string"?e.count=parseInt(t.count,10):typeof t.count=="number"?e.count=t.count:typeof t.count=="object"&&(e.count=new m.LongBits(t.count.low>>>0,t.count.high>>>0).toNumber())),t.sum!=null&&(e.sum=Number(t.sum)),t.quantileValues){if(!Array.isArray(t.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");e.quantileValues=[];for(var i=0;i<t.quantileValues.length;++i){if(typeof t.quantileValues[i]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");e.quantileValues[i]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(t.quantileValues[i])}}return t.flags!=null&&(e.flags=t.flags>>>0),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.quantileValues=[],i.attributes=[]),e.defaults){if(m.Long){var c=new m.Long(0,0,!1);i.startTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.startTimeUnixNano=e.longs===String?"0":0;if(m.Long){var c=new m.Long(0,0,!1);i.timeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.timeUnixNano=e.longs===String?"0":0;if(m.Long){var c=new m.Long(0,0,!1);i.count=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.count=e.longs===String?"0":0;i.sum=0,i.flags=0}if(t.startTimeUnixNano!=null&&t.hasOwnProperty("startTimeUnixNano")&&(typeof t.startTimeUnixNano=="number"?i.startTimeUnixNano=e.longs===String?String(t.startTimeUnixNano):t.startTimeUnixNano:i.startTimeUnixNano=e.longs===String?m.Long.prototype.toString.call(t.startTimeUnixNano):e.longs===Number?new m.LongBits(t.startTimeUnixNano.low>>>0,t.startTimeUnixNano.high>>>0).toNumber():t.startTimeUnixNano),t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&(typeof t.timeUnixNano=="number"?i.timeUnixNano=e.longs===String?String(t.timeUnixNano):t.timeUnixNano:i.timeUnixNano=e.longs===String?m.Long.prototype.toString.call(t.timeUnixNano):e.longs===Number?new m.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber():t.timeUnixNano),t.count!=null&&t.hasOwnProperty("count")&&(typeof t.count=="number"?i.count=e.longs===String?String(t.count):t.count:i.count=e.longs===String?m.Long.prototype.toString.call(t.count):e.longs===Number?new m.LongBits(t.count.low>>>0,t.count.high>>>0).toNumber():t.count),t.sum!=null&&t.hasOwnProperty("sum")&&(i.sum=e.json&&!isFinite(t.sum)?String(t.sum):t.sum),t.quantileValues&&t.quantileValues.length){i.quantileValues=[];for(var u=0;u<t.quantileValues.length;++u)i.quantileValues[u]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(t.quantileValues[u],e)}if(t.attributes&&t.attributes.length){i.attributes=[];for(var u=0;u<t.attributes.length;++u)i.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[u],e)}return t.flags!=null&&t.hasOwnProperty("flags")&&(i.flags=t.flags),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=function(){function l(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}return l.prototype.quantile=null,l.prototype.value=null,l.create=function(e){return new l(e)},l.encode=function(e,i){return i||(i=ae.create()),e.quantile!=null&&Object.hasOwnProperty.call(e,"quantile")&&i.uint32(9).double(e.quantile),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&i.uint32(17).double(e.value),i},l.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},l.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:{u.quantile=e.double();break}case 2:{u.value=e.double();break}default:e.skipType(f&7);break}}return u},l.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},l.verify=function(e){return typeof e!="object"||e===null?"object expected":e.quantile!=null&&e.hasOwnProperty("quantile")&&typeof e.quantile!="number"?"quantile: number expected":e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},l.fromObject=function(e){if(e instanceof d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return e;var i=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return e.quantile!=null&&(i.quantile=Number(e.quantile)),e.value!=null&&(i.value=Number(e.value)),i},l.toObject=function(e,i){i||(i={});var c={};return i.defaults&&(c.quantile=0,c.value=0),e.quantile!=null&&e.hasOwnProperty("quantile")&&(c.quantile=i.json&&!isFinite(e.quantile)?String(e.quantile):e.quantile),e.value!=null&&e.hasOwnProperty("value")&&(c.value=i.json&&!isFinite(e.value)?String(e.value):e.value),c},l.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},l.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},l}(),s}(),a.Exemplar=function(){function s(t){if(this.filteredAttributes=[],t)for(var e=Object.keys(t),i=0;i<e.length;++i)t[e[i]]!=null&&(this[e[i]]=t[e[i]])}s.prototype.filteredAttributes=m.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var l;return Object.defineProperty(s.prototype,"value",{get:m.oneOfGetter(l=["asDouble","asInt"]),set:m.oneOfSetter(l)}),s.create=function(e){return new s(e)},s.encode=function(e,i){if(i||(i=ae.create()),e.timeUnixNano!=null&&Object.hasOwnProperty.call(e,"timeUnixNano")&&i.uint32(17).fixed64(e.timeUnixNano),e.asDouble!=null&&Object.hasOwnProperty.call(e,"asDouble")&&i.uint32(25).double(e.asDouble),e.spanId!=null&&Object.hasOwnProperty.call(e,"spanId")&&i.uint32(34).bytes(e.spanId),e.traceId!=null&&Object.hasOwnProperty.call(e,"traceId")&&i.uint32(42).bytes(e.traceId),e.asInt!=null&&Object.hasOwnProperty.call(e,"asInt")&&i.uint32(49).sfixed64(e.asInt),e.filteredAttributes!=null&&e.filteredAttributes.length)for(var c=0;c<e.filteredAttributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(e.filteredAttributes[c],i.uint32(58).fork()).ldelim();return i},s.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},s.decode=function(e,i){e instanceof T||(e=T.create(e));for(var c=i===void 0?e.len:e.pos+i,u=new d.opentelemetry.proto.metrics.v1.Exemplar;e.pos<c;){var f=e.uint32();switch(f>>>3){case 7:{u.filteredAttributes&&u.filteredAttributes.length||(u.filteredAttributes=[]),u.filteredAttributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break}case 2:{u.timeUnixNano=e.fixed64();break}case 3:{u.asDouble=e.double();break}case 6:{u.asInt=e.sfixed64();break}case 4:{u.spanId=e.bytes();break}case 5:{u.traceId=e.bytes();break}default:e.skipType(f&7);break}}return u},s.decodeDelimited=function(e){return e instanceof T||(e=new T(e)),this.decode(e,e.uint32())},s.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var i={};if(e.filteredAttributes!=null&&e.hasOwnProperty("filteredAttributes")){if(!Array.isArray(e.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<e.filteredAttributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(e.filteredAttributes[c]);if(u)return"filteredAttributes."+u}}if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&!m.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(i.value=1,typeof e.asDouble!="number"))return"asDouble: number expected";if(e.asInt!=null&&e.hasOwnProperty("asInt")){if(i.value===1)return"value: multiple values";if(i.value=1,!m.isInteger(e.asInt)&&!(e.asInt&&m.isInteger(e.asInt.low)&&m.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}return e.spanId!=null&&e.hasOwnProperty("spanId")&&!(e.spanId&&typeof e.spanId.length=="number"||m.isString(e.spanId))?"spanId: buffer expected":e.traceId!=null&&e.hasOwnProperty("traceId")&&!(e.traceId&&typeof e.traceId.length=="number"||m.isString(e.traceId))?"traceId: buffer expected":null},s.fromObject=function(e){if(e instanceof d.opentelemetry.proto.metrics.v1.Exemplar)return e;var i=new d.opentelemetry.proto.metrics.v1.Exemplar;if(e.filteredAttributes){if(!Array.isArray(e.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");i.filteredAttributes=[];for(var c=0;c<e.filteredAttributes.length;++c){if(typeof e.filteredAttributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");i.filteredAttributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(e.filteredAttributes[c])}}return e.timeUnixNano!=null&&(m.Long?(i.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:typeof e.timeUnixNano=="string"?i.timeUnixNano=parseInt(e.timeUnixNano,10):typeof e.timeUnixNano=="number"?i.timeUnixNano=e.timeUnixNano:typeof e.timeUnixNano=="object"&&(i.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),e.asDouble!=null&&(i.asDouble=Number(e.asDouble)),e.asInt!=null&&(m.Long?(i.asInt=m.Long.fromValue(e.asInt)).unsigned=!1:typeof e.asInt=="string"?i.asInt=parseInt(e.asInt,10):typeof e.asInt=="number"?i.asInt=e.asInt:typeof e.asInt=="object"&&(i.asInt=new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.spanId!=null&&(typeof e.spanId=="string"?m.base64.decode(e.spanId,i.spanId=m.newBuffer(m.base64.length(e.spanId)),0):e.spanId.length>=0&&(i.spanId=e.spanId)),e.traceId!=null&&(typeof e.traceId=="string"?m.base64.decode(e.traceId,i.traceId=m.newBuffer(m.base64.length(e.traceId)),0):e.traceId.length>=0&&(i.traceId=e.traceId)),i},s.toObject=function(e,i){i||(i={});var c={};if((i.arrays||i.defaults)&&(c.filteredAttributes=[]),i.defaults){if(m.Long){var u=new m.Long(0,0,!1);c.timeUnixNano=i.longs===String?u.toString():i.longs===Number?u.toNumber():u}else c.timeUnixNano=i.longs===String?"0":0;i.bytes===String?c.spanId="":(c.spanId=[],i.bytes!==Array&&(c.spanId=m.newBuffer(c.spanId))),i.bytes===String?c.traceId="":(c.traceId=[],i.bytes!==Array&&(c.traceId=m.newBuffer(c.traceId)))}if(e.timeUnixNano!=null&&e.hasOwnProperty("timeUnixNano")&&(typeof e.timeUnixNano=="number"?c.timeUnixNano=i.longs===String?String(e.timeUnixNano):e.timeUnixNano:c.timeUnixNano=i.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):i.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),e.asDouble!=null&&e.hasOwnProperty("asDouble")&&(c.asDouble=i.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,i.oneofs&&(c.value="asDouble")),e.spanId!=null&&e.hasOwnProperty("spanId")&&(c.spanId=i.bytes===String?m.base64.encode(e.spanId,0,e.spanId.length):i.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),e.traceId!=null&&e.hasOwnProperty("traceId")&&(c.traceId=i.bytes===String?m.base64.encode(e.traceId,0,e.traceId.length):i.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),e.asInt!=null&&e.hasOwnProperty("asInt")&&(typeof e.asInt=="number"?c.asInt=i.longs===String?String(e.asInt):e.asInt:c.asInt=i.longs===String?m.Long.prototype.toString.call(e.asInt):i.longs===Number?new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,i.oneofs&&(c.value="asInt")),e.filteredAttributes&&e.filteredAttributes.length){c.filteredAttributes=[];for(var f=0;f<e.filteredAttributes.length;++f)c.filteredAttributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(e.filteredAttributes[f],i)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Exemplar"},s}(),a}(),n}(),r.logs=function(){var n={};return n.v1=function(){var a={};return a.LogsData=function(){function s(l){if(this.resourceLogs=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resourceLogs=m.emptyArray,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.resourceLogs!=null&&t.resourceLogs.length)for(var i=0;i<t.resourceLogs.length;++i)d.opentelemetry.proto.logs.v1.ResourceLogs.encode(t.resourceLogs[i],e.uint32(10).fork()).ldelim();return e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.logs.v1.LogsData;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resourceLogs&&c.resourceLogs.length||(c.resourceLogs=[]),c.resourceLogs.push(d.opentelemetry.proto.logs.v1.ResourceLogs.decode(t,t.uint32()));break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resourceLogs!=null&&t.hasOwnProperty("resourceLogs")){if(!Array.isArray(t.resourceLogs))return"resourceLogs: array expected";for(var e=0;e<t.resourceLogs.length;++e){var i=d.opentelemetry.proto.logs.v1.ResourceLogs.verify(t.resourceLogs[e]);if(i)return"resourceLogs."+i}}return null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.logs.v1.LogsData)return t;var e=new d.opentelemetry.proto.logs.v1.LogsData;if(t.resourceLogs){if(!Array.isArray(t.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");e.resourceLogs=[];for(var i=0;i<t.resourceLogs.length;++i){if(typeof t.resourceLogs[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");e.resourceLogs[i]=d.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(t.resourceLogs[i])}}return e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.resourceLogs=[]),t.resourceLogs&&t.resourceLogs.length){i.resourceLogs=[];for(var c=0;c<t.resourceLogs.length;++c)i.resourceLogs[c]=d.opentelemetry.proto.logs.v1.ResourceLogs.toObject(t.resourceLogs[c],e)}return i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.LogsData"},s}(),a.ResourceLogs=function(){function s(l){if(this.scopeLogs=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.resource=null,s.prototype.scopeLogs=m.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.resource!=null&&Object.hasOwnProperty.call(t,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(t.resource,e.uint32(10).fork()).ldelim(),t.scopeLogs!=null&&t.scopeLogs.length)for(var i=0;i<t.scopeLogs.length;++i)d.opentelemetry.proto.logs.v1.ScopeLogs.encode(t.scopeLogs[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.logs.v1.ResourceLogs;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(t,t.uint32());break}case 2:{c.scopeLogs&&c.scopeLogs.length||(c.scopeLogs=[]),c.scopeLogs.push(d.opentelemetry.proto.logs.v1.ScopeLogs.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.resource!=null&&t.hasOwnProperty("resource")){var e=d.opentelemetry.proto.resource.v1.Resource.verify(t.resource);if(e)return"resource."+e}if(t.scopeLogs!=null&&t.hasOwnProperty("scopeLogs")){if(!Array.isArray(t.scopeLogs))return"scopeLogs: array expected";for(var i=0;i<t.scopeLogs.length;++i){var e=d.opentelemetry.proto.logs.v1.ScopeLogs.verify(t.scopeLogs[i]);if(e)return"scopeLogs."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!m.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.logs.v1.ResourceLogs)return t;var e=new d.opentelemetry.proto.logs.v1.ResourceLogs;if(t.resource!=null){if(typeof t.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");e.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(t.resource)}if(t.scopeLogs){if(!Array.isArray(t.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");e.scopeLogs=[];for(var i=0;i<t.scopeLogs.length;++i){if(typeof t.scopeLogs[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");e.scopeLogs[i]=d.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(t.scopeLogs[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.scopeLogs=[]),e.defaults&&(i.resource=null,i.schemaUrl=""),t.resource!=null&&t.hasOwnProperty("resource")&&(i.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(t.resource,e)),t.scopeLogs&&t.scopeLogs.length){i.scopeLogs=[];for(var c=0;c<t.scopeLogs.length;++c)i.scopeLogs[c]=d.opentelemetry.proto.logs.v1.ScopeLogs.toObject(t.scopeLogs[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.ResourceLogs"},s}(),a.ScopeLogs=function(){function s(l){if(this.logRecords=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.scope=null,s.prototype.logRecords=m.emptyArray,s.prototype.schemaUrl=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.scope!=null&&Object.hasOwnProperty.call(t,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(t.scope,e.uint32(10).fork()).ldelim(),t.logRecords!=null&&t.logRecords.length)for(var i=0;i<t.logRecords.length;++i)d.opentelemetry.proto.logs.v1.LogRecord.encode(t.logRecords[i],e.uint32(18).fork()).ldelim();return t.schemaUrl!=null&&Object.hasOwnProperty.call(t,"schemaUrl")&&e.uint32(26).string(t.schemaUrl),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.logs.v1.ScopeLogs;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(t,t.uint32());break}case 2:{c.logRecords&&c.logRecords.length||(c.logRecords=[]),c.logRecords.push(d.opentelemetry.proto.logs.v1.LogRecord.decode(t,t.uint32()));break}case 3:{c.schemaUrl=t.string();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.scope!=null&&t.hasOwnProperty("scope")){var e=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(t.scope);if(e)return"scope."+e}if(t.logRecords!=null&&t.hasOwnProperty("logRecords")){if(!Array.isArray(t.logRecords))return"logRecords: array expected";for(var i=0;i<t.logRecords.length;++i){var e=d.opentelemetry.proto.logs.v1.LogRecord.verify(t.logRecords[i]);if(e)return"logRecords."+e}}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&!m.isString(t.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.logs.v1.ScopeLogs)return t;var e=new d.opentelemetry.proto.logs.v1.ScopeLogs;if(t.scope!=null){if(typeof t.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");e.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(t.scope)}if(t.logRecords){if(!Array.isArray(t.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");e.logRecords=[];for(var i=0;i<t.logRecords.length;++i){if(typeof t.logRecords[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");e.logRecords[i]=d.opentelemetry.proto.logs.v1.LogRecord.fromObject(t.logRecords[i])}}return t.schemaUrl!=null&&(e.schemaUrl=String(t.schemaUrl)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.logRecords=[]),e.defaults&&(i.scope=null,i.schemaUrl=""),t.scope!=null&&t.hasOwnProperty("scope")&&(i.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(t.scope,e)),t.logRecords&&t.logRecords.length){i.logRecords=[];for(var c=0;c<t.logRecords.length;++c)i.logRecords[c]=d.opentelemetry.proto.logs.v1.LogRecord.toObject(t.logRecords[c],e)}return t.schemaUrl!=null&&t.hasOwnProperty("schemaUrl")&&(i.schemaUrl=t.schemaUrl),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.ScopeLogs"},s}(),a.SeverityNumber=function(){var s={},l=Object.create(s);return l[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,l[s[1]="SEVERITY_NUMBER_TRACE"]=1,l[s[2]="SEVERITY_NUMBER_TRACE2"]=2,l[s[3]="SEVERITY_NUMBER_TRACE3"]=3,l[s[4]="SEVERITY_NUMBER_TRACE4"]=4,l[s[5]="SEVERITY_NUMBER_DEBUG"]=5,l[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,l[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,l[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,l[s[9]="SEVERITY_NUMBER_INFO"]=9,l[s[10]="SEVERITY_NUMBER_INFO2"]=10,l[s[11]="SEVERITY_NUMBER_INFO3"]=11,l[s[12]="SEVERITY_NUMBER_INFO4"]=12,l[s[13]="SEVERITY_NUMBER_WARN"]=13,l[s[14]="SEVERITY_NUMBER_WARN2"]=14,l[s[15]="SEVERITY_NUMBER_WARN3"]=15,l[s[16]="SEVERITY_NUMBER_WARN4"]=16,l[s[17]="SEVERITY_NUMBER_ERROR"]=17,l[s[18]="SEVERITY_NUMBER_ERROR2"]=18,l[s[19]="SEVERITY_NUMBER_ERROR3"]=19,l[s[20]="SEVERITY_NUMBER_ERROR4"]=20,l[s[21]="SEVERITY_NUMBER_FATAL"]=21,l[s[22]="SEVERITY_NUMBER_FATAL2"]=22,l[s[23]="SEVERITY_NUMBER_FATAL3"]=23,l[s[24]="SEVERITY_NUMBER_FATAL4"]=24,l}(),a.LogRecordFlags=function(){var s={},l=Object.create(s);return l[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,l[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,l}(),a.LogRecord=function(){function s(l){if(this.attributes=[],l)for(var t=Object.keys(l),e=0;e<t.length;++e)l[t[e]]!=null&&(this[t[e]]=l[t[e]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=m.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(t){return new s(t)},s.encode=function(t,e){if(e||(e=ae.create()),t.timeUnixNano!=null&&Object.hasOwnProperty.call(t,"timeUnixNano")&&e.uint32(9).fixed64(t.timeUnixNano),t.severityNumber!=null&&Object.hasOwnProperty.call(t,"severityNumber")&&e.uint32(16).int32(t.severityNumber),t.severityText!=null&&Object.hasOwnProperty.call(t,"severityText")&&e.uint32(26).string(t.severityText),t.body!=null&&Object.hasOwnProperty.call(t,"body")&&d.opentelemetry.proto.common.v1.AnyValue.encode(t.body,e.uint32(42).fork()).ldelim(),t.attributes!=null&&t.attributes.length)for(var i=0;i<t.attributes.length;++i)d.opentelemetry.proto.common.v1.KeyValue.encode(t.attributes[i],e.uint32(50).fork()).ldelim();return t.droppedAttributesCount!=null&&Object.hasOwnProperty.call(t,"droppedAttributesCount")&&e.uint32(56).uint32(t.droppedAttributesCount),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&e.uint32(69).fixed32(t.flags),t.traceId!=null&&Object.hasOwnProperty.call(t,"traceId")&&e.uint32(74).bytes(t.traceId),t.spanId!=null&&Object.hasOwnProperty.call(t,"spanId")&&e.uint32(82).bytes(t.spanId),t.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(t,"observedTimeUnixNano")&&e.uint32(89).fixed64(t.observedTimeUnixNano),e},s.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},s.decode=function(t,e){t instanceof T||(t=T.create(t));for(var i=e===void 0?t.len:t.pos+e,c=new d.opentelemetry.proto.logs.v1.LogRecord;t.pos<i;){var u=t.uint32();switch(u>>>3){case 1:{c.timeUnixNano=t.fixed64();break}case 11:{c.observedTimeUnixNano=t.fixed64();break}case 2:{c.severityNumber=t.int32();break}case 3:{c.severityText=t.string();break}case 5:{c.body=d.opentelemetry.proto.common.v1.AnyValue.decode(t,t.uint32());break}case 6:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(t,t.uint32()));break}case 7:{c.droppedAttributesCount=t.uint32();break}case 8:{c.flags=t.fixed32();break}case 9:{c.traceId=t.bytes();break}case 10:{c.spanId=t.bytes();break}default:t.skipType(u&7);break}}return c},s.decodeDelimited=function(t){return t instanceof T||(t=new T(t)),this.decode(t,t.uint32())},s.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&!m.isInteger(t.timeUnixNano)&&!(t.timeUnixNano&&m.isInteger(t.timeUnixNano.low)&&m.isInteger(t.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(t.observedTimeUnixNano!=null&&t.hasOwnProperty("observedTimeUnixNano")&&!m.isInteger(t.observedTimeUnixNano)&&!(t.observedTimeUnixNano&&m.isInteger(t.observedTimeUnixNano.low)&&m.isInteger(t.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(t.severityNumber!=null&&t.hasOwnProperty("severityNumber"))switch(t.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(t.severityText!=null&&t.hasOwnProperty("severityText")&&!m.isString(t.severityText))return"severityText: string expected";if(t.body!=null&&t.hasOwnProperty("body")){var e=d.opentelemetry.proto.common.v1.AnyValue.verify(t.body);if(e)return"body."+e}if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var i=0;i<t.attributes.length;++i){var e=d.opentelemetry.proto.common.v1.KeyValue.verify(t.attributes[i]);if(e)return"attributes."+e}}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(t.droppedAttributesCount)?"droppedAttributesCount: integer expected":t.flags!=null&&t.hasOwnProperty("flags")&&!m.isInteger(t.flags)?"flags: integer expected":t.traceId!=null&&t.hasOwnProperty("traceId")&&!(t.traceId&&typeof t.traceId.length=="number"||m.isString(t.traceId))?"traceId: buffer expected":t.spanId!=null&&t.hasOwnProperty("spanId")&&!(t.spanId&&typeof t.spanId.length=="number"||m.isString(t.spanId))?"spanId: buffer expected":null},s.fromObject=function(t){if(t instanceof d.opentelemetry.proto.logs.v1.LogRecord)return t;var e=new d.opentelemetry.proto.logs.v1.LogRecord;switch(t.timeUnixNano!=null&&(m.Long?(e.timeUnixNano=m.Long.fromValue(t.timeUnixNano)).unsigned=!1:typeof t.timeUnixNano=="string"?e.timeUnixNano=parseInt(t.timeUnixNano,10):typeof t.timeUnixNano=="number"?e.timeUnixNano=t.timeUnixNano:typeof t.timeUnixNano=="object"&&(e.timeUnixNano=new m.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber())),t.observedTimeUnixNano!=null&&(m.Long?(e.observedTimeUnixNano=m.Long.fromValue(t.observedTimeUnixNano)).unsigned=!1:typeof t.observedTimeUnixNano=="string"?e.observedTimeUnixNano=parseInt(t.observedTimeUnixNano,10):typeof t.observedTimeUnixNano=="number"?e.observedTimeUnixNano=t.observedTimeUnixNano:typeof t.observedTimeUnixNano=="object"&&(e.observedTimeUnixNano=new m.LongBits(t.observedTimeUnixNano.low>>>0,t.observedTimeUnixNano.high>>>0).toNumber())),t.severityNumber){default:if(typeof t.severityNumber=="number"){e.severityNumber=t.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:e.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:e.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:e.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:e.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:e.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:e.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:e.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:e.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:e.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:e.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:e.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:e.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:e.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:e.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:e.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:e.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:e.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:e.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:e.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:e.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:e.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:e.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:e.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:e.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:e.severityNumber=24;break}if(t.severityText!=null&&(e.severityText=String(t.severityText)),t.body!=null){if(typeof t.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");e.body=d.opentelemetry.proto.common.v1.AnyValue.fromObject(t.body)}if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");e.attributes=[];for(var i=0;i<t.attributes.length;++i){if(typeof t.attributes[i]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");e.attributes[i]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(t.attributes[i])}}return t.droppedAttributesCount!=null&&(e.droppedAttributesCount=t.droppedAttributesCount>>>0),t.flags!=null&&(e.flags=t.flags>>>0),t.traceId!=null&&(typeof t.traceId=="string"?m.base64.decode(t.traceId,e.traceId=m.newBuffer(m.base64.length(t.traceId)),0):t.traceId.length>=0&&(e.traceId=t.traceId)),t.spanId!=null&&(typeof t.spanId=="string"?m.base64.decode(t.spanId,e.spanId=m.newBuffer(m.base64.length(t.spanId)),0):t.spanId.length>=0&&(e.spanId=t.spanId)),e},s.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.attributes=[]),e.defaults){if(m.Long){var c=new m.Long(0,0,!1);i.timeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.timeUnixNano=e.longs===String?"0":0;if(i.severityNumber=e.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,i.severityText="",i.body=null,i.droppedAttributesCount=0,i.flags=0,e.bytes===String?i.traceId="":(i.traceId=[],e.bytes!==Array&&(i.traceId=m.newBuffer(i.traceId))),e.bytes===String?i.spanId="":(i.spanId=[],e.bytes!==Array&&(i.spanId=m.newBuffer(i.spanId))),m.Long){var c=new m.Long(0,0,!1);i.observedTimeUnixNano=e.longs===String?c.toString():e.longs===Number?c.toNumber():c}else i.observedTimeUnixNano=e.longs===String?"0":0}if(t.timeUnixNano!=null&&t.hasOwnProperty("timeUnixNano")&&(typeof t.timeUnixNano=="number"?i.timeUnixNano=e.longs===String?String(t.timeUnixNano):t.timeUnixNano:i.timeUnixNano=e.longs===String?m.Long.prototype.toString.call(t.timeUnixNano):e.longs===Number?new m.LongBits(t.timeUnixNano.low>>>0,t.timeUnixNano.high>>>0).toNumber():t.timeUnixNano),t.severityNumber!=null&&t.hasOwnProperty("severityNumber")&&(i.severityNumber=e.enums===String?d.opentelemetry.proto.logs.v1.SeverityNumber[t.severityNumber]===void 0?t.severityNumber:d.opentelemetry.proto.logs.v1.SeverityNumber[t.severityNumber]:t.severityNumber),t.severityText!=null&&t.hasOwnProperty("severityText")&&(i.severityText=t.severityText),t.body!=null&&t.hasOwnProperty("body")&&(i.body=d.opentelemetry.proto.common.v1.AnyValue.toObject(t.body,e)),t.attributes&&t.attributes.length){i.attributes=[];for(var u=0;u<t.attributes.length;++u)i.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(t.attributes[u],e)}return t.droppedAttributesCount!=null&&t.hasOwnProperty("droppedAttributesCount")&&(i.droppedAttributesCount=t.droppedAttributesCount),t.flags!=null&&t.hasOwnProperty("flags")&&(i.flags=t.flags),t.traceId!=null&&t.hasOwnProperty("traceId")&&(i.traceId=e.bytes===String?m.base64.encode(t.traceId,0,t.traceId.length):e.bytes===Array?Array.prototype.slice.call(t.traceId):t.traceId),t.spanId!=null&&t.hasOwnProperty("spanId")&&(i.spanId=e.bytes===String?m.base64.encode(t.spanId,0,t.spanId.length):e.bytes===Array?Array.prototype.slice.call(t.spanId):t.spanId),t.observedTimeUnixNano!=null&&t.hasOwnProperty("observedTimeUnixNano")&&(typeof t.observedTimeUnixNano=="number"?i.observedTimeUnixNano=e.longs===String?String(t.observedTimeUnixNano):t.observedTimeUnixNano:i.observedTimeUnixNano=e.longs===String?m.Long.prototype.toString.call(t.observedTimeUnixNano):e.longs===Number?new m.LongBits(t.observedTimeUnixNano.low>>>0,t.observedTimeUnixNano.high>>>0).toNumber():t.observedTimeUnixNano),i},s.prototype.toJSON=function(){return this.constructor.toObject(this,J.util.toJSONOptions)},s.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/opentelemetry.proto.logs.v1.LogRecord"},s}(),a}(),n}(),r}(),o}();XB.exports=d});var ZB=E(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.MetricsSerializer=di.TraceSerializer=di.LogsSerializer=void 0;var js=QB(),zne=js.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,Yne=js.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,$ne=js.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,Kne=js.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,Wne=js.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,Jne=js.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;di.LogsSerializer={serializeRequest:o=>Buffer.from(Yne.encode(o).finish()),deserializeResponse:o=>zne.decode(o)};di.TraceSerializer={serializeRequest:o=>Buffer.from(Jne.encode(o).finish()),deserializeResponse:o=>Wne.decode(o)};di.MetricsSerializer={serializeRequest:o=>Buffer.from(Kne.encode(o).finish()),deserializeResponse:o=>$ne.decode(o)}});var t3=E(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.LogsSerializer=Ut.TraceSerializer=Ut.MetricsSerializer=Ut.validateAndNormalizeUrl=Ut.DEFAULT_COLLECTOR_URL=Ut.OTLPGRPCExporterNodeBase=void 0;var Xne=JB();Object.defineProperty(Ut,"OTLPGRPCExporterNodeBase",{enumerable:!0,get:function(){return Xne.OTLPGRPCExporterNodeBase}});var e3=og();Object.defineProperty(Ut,"DEFAULT_COLLECTOR_URL",{enumerable:!0,get:function(){return e3.DEFAULT_COLLECTOR_URL}});Object.defineProperty(Ut,"validateAndNormalizeUrl",{enumerable:!0,get:function(){return e3.validateAndNormalizeUrl}});var ag=ZB();Object.defineProperty(Ut,"MetricsSerializer",{enumerable:!0,get:function(){return ag.MetricsSerializer}});Object.defineProperty(Ut,"TraceSerializer",{enumerable:!0,get:function(){return ag.TraceSerializer}});Object.defineProperty(Ut,"LogsSerializer",{enumerable:!0,get:function(){return ag.LogsSerializer}})});var r3=E(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.VERSION=void 0;Wd.VERSION="0.51.1"});var n3=E(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.OTLPTraceExporter=void 0;var Jd=(Z(),ie(bi)),Xd=t3(),Qne=(bl(),ie(AD)),Zne=r3(),eie={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Zne.VERSION}`},lg=class extends Xd.OTLPGRPCExporterNodeBase{constructor(r={}){let n=Object.assign(Object.assign({},eie),Jd.baggageUtils.parseKeyPairsIntoRecord((0,Jd.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS));super(r,n,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export",Xd.TraceSerializer)}convert(r){return(0,Qne.createExportTraceServiceRequest)(r)}getDefaultUrl(r){return(0,Xd.validateAndNormalizeUrl)(this.getUrlFromConfig(r))}getUrlFromConfig(r){return typeof r.url=="string"?r.url:(0,Jd.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||(0,Jd.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT||Xd.DEFAULT_COLLECTOR_URL}};Qd.OTLPTraceExporter=lg});var i3=E(so=>{"use strict";var tie=so&&so.__createBinding||(Object.create?function(o,r,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return r[n]}})}:function(o,r,n,a){a===void 0&&(a=n),o[a]=r[n]}),rie=so&&so.__exportStar||function(o,r){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&tie(r,o,n)};Object.defineProperty(so,"__esModule",{value:!0});rie(n3(),so)});import*as nie from"http";import*as iie from"https";import*as o3 from"url";function Zd(o,r){let n=o3.parse(o),a=Object.assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},r)},n);return function(l,t){if(l.length===0)return A.debug("Zipkin send with empty spans"),t({code:oe.SUCCESS});let{request:e}=a.protocol==="http:"?nie:iie,i=e(a,u=>{let f="";u.on("data",v=>{f+=v}),u.on("end",()=>{let v=u.statusCode||0;return A.debug(`Zipkin response status code: ${v}, body: ${f}`),v<400?t({code:oe.SUCCESS}):t({code:oe.FAILED,error:new Error(`Got unexpected status code from zipkin: ${v}`)})})});i.on("error",u=>t({code:oe.FAILED,error:u}));let c=JSON.stringify(l);A.debug(`Zipkin request payload: ${c}`),i.write(c,"utf8"),i.end()}}var s3=y(()=>{k();Z()});var a3=y(()=>{s3()});var cg=y(()=>{a3()});var ao,l3=y(()=>{(function(o){o.CLIENT="CLIENT",o.SERVER="SERVER",o.CONSUMER="CONSUMER",o.PRODUCER="PRODUCER"})(ao||(ao={}))});function f3(o,r,n,a){return{traceId:o.spanContext().traceId,parentId:o.parentSpanId,name:o.name,id:o.spanContext().spanId,kind:sie[o.kind],timestamp:gt(o.startTime),duration:Math.round(gt(o.duration)),localEndpoint:{serviceName:r},tags:aie(o,n,a),annotations:o.events.length?lie(o.events):void 0}}function aie({attributes:o,resource:r,status:n,droppedAttributesCount:a,droppedEventsCount:s,droppedLinksCount:l},t,e){let i={};for(let c of Object.keys(o))i[c]=String(o[c]);return n.code!==Cr.UNSET&&(i[t]=String(Cr[n.code])),n.code===Cr.ERROR&&n.message&&(i[e]=n.message),a&&(i["otel.dropped_attributes_count"]=String(a)),s&&(i["otel.dropped_events_count"]=String(s)),l&&(i["otel.dropped_links_count"]=String(l)),Object.keys(r.attributes).forEach(c=>i[c]=String(r.attributes[c])),i}function lie(o){return o.map(r=>({timestamp:Math.round(gt(r.time)),value:r.name}))}var sie,c3,u3,p3=y(()=>{k();Z();l3();sie={[Wt.CLIENT]:ao.CLIENT,[Wt.SERVER]:ao.SERVER,[Wt.CONSUMER]:ao.CONSUMER,[Wt.PRODUCER]:ao.PRODUCER,[Wt.INTERNAL]:void 0},c3="otel.status_code",u3="error"});function d3(o){return function(){return o()}}var h3=y(()=>{});var ug,m3=y(()=>{k();Z();cg();p3();Jt();h3();ug=class{constructor(r={}){this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=r.url||ee().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=Zd(this._urlStr,r.headers),this._serviceName=r.serviceName,this._statusCodeTagName=r.statusCodeTagName||c3,this._statusDescriptionTagName=r.statusDescriptionTagName||u3,this._isShutdown=!1,typeof r.getExportRequestHeaders=="function"?this._getHeaders=d3(r.getExportRequestHeaders):this._beforeSend=function(){}}export(r,n){let a=String(this._serviceName||r[0].resource.attributes[Oe.SERVICE_NAME]||this.DEFAULT_SERVICE_NAME);if(A.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>n({code:oe.FAILED,error:new Error("Exporter has been shutdown")}));return}let s=new Promise(t=>{this._sendSpans(r,a,e=>{t(),n(e)})});this._sendingPromises.push(s);let l=()=>{let t=this._sendingPromises.indexOf(s);this._sendingPromises.splice(t,1)};s.then(l,l)}shutdown(){return A.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((r,n)=>{Promise.all(this._sendingPromises).then(()=>{r()},n)})}_beforeSend(){this._getHeaders&&(this._send=Zd(this._urlStr,this._getHeaders()))}_sendSpans(r,n,a){let s=r.map(l=>f3(l,String(l.attributes[Oe.SERVICE_NAME]||l.resource.attributes[Oe.SERVICE_NAME]||n),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(s,l=>{if(a)return a(l)})}}});var y3={};Ue(y3,{ZipkinExporter:()=>ug,prepareSend:()=>Zd});var S3=y(()=>{cg();m3()});var _3=E(rh=>{"use strict";var fg;Object.defineProperty(rh,"__esModule",{value:!0});rh.TracerProviderWithEnvExporters=void 0;var zs=(k(),ie(st)),eh=(Z(),ie(bi)),th=(Mi(),ie(ko)),cie=gf(),v3=(LD(),ie(wD)),uie=(qD(),ie(FD)),fie=i3(),pie=(S3(),ie(y3)),oc=class extends cie.NodeTracerProvider{constructor(r={}){super(r),this._configuredExporters=[],this._hasSpanProcessors=!1;let n=this.filterBlanksAndNulls(Array.from(new Set((0,eh.getEnv)().OTEL_TRACES_EXPORTER.split(","))));n[0]==="none"?zs.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'):n.length===0?(zs.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),n=["otlp"],this.createExportersFromList(n),this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(a=>{this.addSpanProcessor(a)})):(n.length>1&&n.includes("none")&&(zs.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),n=["otlp"]),this.createExportersFromList(n),this._configuredExporters.length>0?(this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(a=>{this.addSpanProcessor(a)})):zs.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."))}static configureOtlp(){let r=this.getOtlpProtocol();switch(r){case"grpc":return new fie.OTLPTraceExporter;case"http/json":return new uie.OTLPTraceExporter;case"http/protobuf":return new v3.OTLPTraceExporter;default:return zs.diag.warn(`Unsupported OTLP traces protocol: ${r}. Using http/protobuf.`),new v3.OTLPTraceExporter}}static getOtlpProtocol(){var r,n,a;let s=(0,eh.getEnvWithoutDefaults)();return(a=(n=(r=s.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&r!==void 0?r:s.OTEL_EXPORTER_OTLP_PROTOCOL)!==null&&n!==void 0?n:(0,eh.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&a!==void 0?a:(0,eh.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}static configureJaeger(){try{let{JaegerExporter:r}=B("@opentelemetry/exporter-jaeger");return new r}catch(r){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${r}`)}}addSpanProcessor(r){super.addSpanProcessor(r),this._hasSpanProcessors=!0}register(r){this._hasSpanProcessors&&super.register(r)}createExportersFromList(r){r.forEach(n=>{let a=this._getSpanExporter(n);a?this._configuredExporters.push(a):zs.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${n}.`)})}configureSpanProcessors(r){return r.map(n=>n instanceof th.ConsoleSpanExporter?new th.SimpleSpanProcessor(n):new th.BatchSpanProcessor(n))}filterBlanksAndNulls(r){return r.map(n=>n.trim()).filter(n=>n!=="null"&&n!=="")}};rh.TracerProviderWithEnvExporters=oc;fg=oc;oc._registeredExporters=new Map([["otlp",()=>fg.configureOtlp()],["zipkin",()=>new pie.ZipkinExporter],["jaeger",()=>fg.configureJaeger()],["console",()=>new th.ConsoleSpanExporter]])});var g3=E(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.getResourceDetectorsFromEnv=Ys.parseInstrumentationOptions=void 0;var die=(k(),ie(st)),sc=(Cn(),ie($c));function E3(o=[]){let r=[];for(let n=0,a=o.length;n<a;n++){let s=o[n];if(Array.isArray(s)){let l=E3(s);r=r.concat(l)}else typeof s=="function"?r.push(new s):s.instrumentationName&&r.push(s)}return r}Ys.parseInstrumentationOptions=E3;var hie="env",mie="host",yie="os",Sie="process",vie="serviceinstance";function _ie(){var o,r;let n=new Map([[hie,sc.envDetectorSync],[mie,sc.hostDetectorSync],[yie,sc.osDetectorSync],[vie,sc.serviceInstanceIdDetectorSync],[Sie,sc.processDetectorSync]]),a=(r=(o=process.env.OTEL_NODE_RESOURCE_DETECTORS)===null||o===void 0?void 0:o.split(","))!==null&&r!==void 0?r:["all"];return a.includes("all")?[...n.values()].flat():a.includes("none")?[]:a.flatMap(s=>{let l=n.get(s);return l||die.diag.error(`Invalid resource detector "${s}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),l||[]})}Ys.getResourceDetectorsFromEnv=_ie});var b3=E(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.NodeSDK=void 0;var ac=(k(),ie(st)),Eie=(ba(),ie(xC)),gie=(WM(),ie(KM)),$s=(Cn(),ie($c)),Tie=(Lm(),ie(wm)),Oie=(Yu(),ie(Qm)),bie=(Mi(),ie(ko)),Aie=gf(),Nie=(Jt(),ie(U0)),xie=_3(),T3=(Z(),ie(bi)),O3=g3(),pg=class{constructor(r={}){var n,a,s,l,t;let e=(0,T3.getEnv)(),i=(0,T3.getEnvWithoutDefaults)();e.OTEL_SDK_DISABLED&&(this._disabled=!0),i.OTEL_LOG_LEVEL&&ac.diag.setLogger(new ac.DiagConsoleLogger,{logLevel:i.OTEL_LOG_LEVEL}),this._configuration=r,this._resource=(n=r.resource)!==null&&n!==void 0?n:new $s.Resource({});let c=[];if(process.env.OTEL_NODE_RESOURCE_DETECTORS!=null?c=(0,O3.getResourceDetectorsFromEnv)():c=[$s.envDetector,$s.processDetector,$s.hostDetector],this._resourceDetectors=(a=r.resourceDetectors)!==null&&a!==void 0?a:c,this._serviceName=r.serviceName,this._autoDetectResources=(s=r.autoDetectResources)!==null&&s!==void 0?s:!0,r.traceExporter||r.spanProcessor||r.spanProcessors){let f={};r.sampler&&(f.sampler=r.sampler),r.spanLimits&&(f.spanLimits=r.spanLimits),r.idGenerator&&(f.idGenerator=r.idGenerator),r.spanProcessor&&ac.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let v=(l=r.spanProcessor)!==null&&l!==void 0?l:new bie.BatchSpanProcessor(r.traceExporter),_=(t=r.spanProcessors)!==null&&t!==void 0?t:[v];this._tracerProviderConfig={tracerConfig:f,spanProcessors:_,contextManager:r.contextManager,textMapPropagator:r.textMapPropagator}}if(r.logRecordProcessor&&(this._loggerProviderConfig={logRecordProcessor:r.logRecordProcessor}),r.metricReader||r.views){let f={};r.metricReader&&(f.reader=r.metricReader),r.views&&(f.views=r.views),this._meterProviderConfig=f}let u=[];r.instrumentations&&(u=r.instrumentations),this._instrumentations=u}start(){var r,n,a,s;if(this._disabled)return;if((0,gie.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let e={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,$s.detectResourcesSync)(e))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge(new $s.Resource({[Nie.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let l=this._tracerProviderConfig?Aie.NodeTracerProvider:xie.TracerProviderWithEnvExporters,t=new l(Object.assign(Object.assign({},this._configuration),{resource:this._resource}));if(this._tracerProvider=t,this._tracerProviderConfig)for(let e of this._tracerProviderConfig.spanProcessors)t.addSpanProcessor(e);if(t.register({contextManager:(r=this._tracerProviderConfig)===null||r===void 0?void 0:r.contextManager,propagator:(n=this._tracerProviderConfig)===null||n===void 0?void 0:n.textMapPropagator}),this._loggerProviderConfig){let e=new Tie.LoggerProvider({resource:this._resource});e.addLogRecordProcessor(this._loggerProviderConfig.logRecordProcessor),this._loggerProvider=e,Eie.logs.setGlobalLoggerProvider(e)}if(this._meterProviderConfig){let e=[];this._meterProviderConfig.reader&&e.push(this._meterProviderConfig.reader);let i=new Oie.MeterProvider({resource:this._resource,views:(s=(a=this._meterProviderConfig)===null||a===void 0?void 0:a.views)!==null&&s!==void 0?s:[],readers:e});this._meterProvider=i,ac.metrics.setGlobalMeterProvider(i);for(let c of(0,O3.parseInstrumentationOptions)(this._instrumentations))c.setMeterProvider(ac.metrics.getMeterProvider())}}shutdown(){let r=[];return this._tracerProvider&&r.push(this._tracerProvider.shutdown()),this._loggerProvider&&r.push(this._loggerProvider.shutdown()),this._meterProvider&&r.push(this._meterProvider.shutdown()),Promise.all(r).then(()=>{})}};nh.NodeSDK=pg});var N3=E(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0})});var R3=E(De=>{"use strict";var Rie=De&&De.__createBinding||(Object.create?function(o,r,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return r[n]}})}:function(o,r,n,a){a===void 0&&(a=n),o[a]=r[n]}),x3=De&&De.__exportStar||function(o,r){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Rie(r,o,n)};Object.defineProperty(De,"__esModule",{value:!0});De.tracing=De.resources=De.node=De.metrics=De.logs=De.core=De.contextBase=De.api=void 0;De.api=(k(),ie(st));De.contextBase=(k(),ie(st));De.core=(Z(),ie(bi));De.logs=(Lm(),ie(wm));De.metrics=(Yu(),ie(Qm));De.node=gf();De.resources=(Cn(),ie($c));De.tracing=(Mi(),ie(ko));x3(b3(),De);x3(N3(),De)});k();Cn();var C3=An(R3(),1);import{env as lc,version as Pie}from"node:process";import{hostname as Cie}from"os";k();Z();bl();var ih=class{#t;#e;constructor(){this.#t=new at(this.#r,this),this.#e=A.createComponentLogger({namespace:"netlify-span-exporter"})}convert(r){return jn(r,{useHex:!0,useLongBits:!1})}export(r,n){if(this.#e.debug(`export ${r.length} spans`),this.#t.isCalled){n({code:oe.FAILED,error:new Error("Exporter has been shutdown")});return}return this.#n(r,n)}shutdown(){return this.#e.debug("Shutting down"),this.#t.call()}forceFlush(){return this.#e.debug("force flush"),Promise.resolve()}#r(){return this.forceFlush()}#n(r,n){if(console.log("__nfOTLPTrace",JSON.stringify(this.convert(r))),n)return n({code:oe.SUCCESS})}};lc.NETLIFY_DEBUG_OPENTELEMETRY&&A.setLogger(new hc,{logLevel:Pe.ALL,suppressOverrideMessage:!0});var I3="Netlify Functions",w3;try{let{config:o}=B("./___netlify-server-handler.json");I3=o.name,w3=o.generator}catch{}var P3,Iie=new he({"service.name":I3,"service.version":w3,"process.runtime.name":"nodejs","process.runtime.version":Pie.slice(1),"host.name":Cie(),"deployment.environment":(P3=lc.URL)!=null&&P3.includes("netlifystg.com")?"staging":"production","http.url":lc.URL,"netlify.site.id":lc.SITE_ID,"netlify.site.name":lc.SITE_NAME}),wie=new C3.default.NodeSDK({resource:Iie,traceExporter:new ih});wie.start();
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)
*/
